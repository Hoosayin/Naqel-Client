(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{174:function(e,t,a){e.exports=a(400)},179:function(e,t,a){},400:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(72),s=a.n(l),i=(a(179),a(3)),o=a(4),c=a(6),m=a(5),d=a(7),u=a(12),p=a(35),g=a(2),E=a(11),h=a.n(E),b=a(9),f=a.n(b),v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).logOut=function(e){e.preventDefault(),localStorage.userToken?localStorage.removeItem("userToken"):localStorage.Token&&localStorage.removeItem("Token"),a.props.history.push("/login")},a.state={Username:"User"},a.logOut=a.logOut.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=h()(localStorage.userToken);this.setState({Username:e.Username})}else localStorage.Token?this.setState({Username:"Trader"}):this.setState({Username:"User"})}},{key:"render",value:function(){var e=r.a.createElement("ul",{className:"nav navbar-nav navbar-right"},r.a.createElement("li",null,r.a.createElement(u.b,{to:"/register"},"Register")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/login"},"Login"))),t=r.a.createElement("ul",{className:"nav navbar-nav navbar-right"},r.a.createElement("li",null,r.a.createElement(u.b,{to:"/dashboard"},this.state.Username)),r.a.createElement("li",null,r.a.createElement(u.b,{to:"",onClick:this.logOut.bind(this)},"Logout")));return r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-default"},r.a.createElement("div",{className:"navbar-local color-accent theme-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-header"},r.a.createElement("button",{type:"button",className:"navbar-toggle collapsed","data-toggle":"collapse","data-target":"#bs-example-navbar-collapse-2"},r.a.createElement("span",{className:"sr-only"},"Toggle navigation"),r.a.createElement("i",{className:"glyph glyph-hamburger"})),r.a.createElement(u.b,{to:"/",className:"navbar-brand"},f.a.APP_NAME.toUpperCase())),r.a.createElement("div",{className:"collapse navbar-collapse",id:"bs-example-navbar-collapse-2"},r.a.createElement("ul",{className:"nav navbar-nav"}),localStorage.userToken||localStorage.Token?t:e)))))}}]),t}(n.Component),y=Object(p.f)(v),N=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"slider"},r.a.createElement("div",{class:"jumbotron theme-alt",style:{width:"100%",backgroundColor:"#202020"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"truck.png",src:"./images/truck.png","data-source-index":"2"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3",style:{color:"#008575"}},"Weclome to Naqel"),r.a.createElement("div",{class:"type-sh3",style:{color:"#949496"}},"Transport Services On-The-Go"),r.a.createElement("p",{style:{color:"#D1D2D4"}},"Welcome to Naqel! If you are a trader or a broker, and you want to publish job opportunities for drivers nearby, well, you are on the right place. Naqel is a mediator among traders, brokers and drivers, and provides intuitive and secure way to get transport services."),r.a.createElement("p",{style:{color:"#D1D2D4"}},"Not a Trader or a Broker? No worries! Naqel provides services for drivers too. If you are a driver, and you are searching for job opportunities, you are just one step away. Create your account on our Web Service, and we will notify you job oppprtunities on your personal account."))))),r.a.createElement("div",{class:"jumbotron theme-alt",style:{width:"100%",backgroundColor:"#16171F"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"oath.png",src:"./images/oath.png","data-source-index":"2"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3",style:{color:"#008575"}},"Privacy"),r.a.createElement("div",{class:"type-sh3",style:{color:"#949496"}},"Your Privacy is Important to Us"),r.a.createElement("p",{style:{color:"#D1D2D4"}},"Naqel's Privacy Statement describes the types of data we collect from you, how we use your data, and the legal bases we have to process your data. The Privacy Statement also describes how Naqel uses your content, which is information submitted by you to Naqel via the Services."),r.a.createElement("p",{style:{color:"#D1D2D4"}},"Where processing is based on consent and to the extent permitted by law, by agreeing to these Terms, you consent to Naqel's collection, use and disclosure of your content and data as described in the privacy statement."))))),r.a.createElement("div",{class:"jumbotron theme-alt",style:{width:"100%",backgroundColor:"#00201C"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"account.png",src:"./images/account.png","data-source-index":"2"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3",style:{color:"#008575"}},"User Accounts"),r.a.createElement("div",{class:"type-sh3",style:{color:"#949496"}},"Signup and/or Login"),r.a.createElement("p",{style:{color:"#D1D2D4"}},"Do you want to use our services right now? No Worries! Just signup by filling up precise forms and/or login to your profile. Drivers can view job opprotunities on their dashboards. Traders and/or Brokers can post job requests for freight from thier accounts."),r.a.createElement("div",{class:"btn-group"},r.a.createElement(u.b,{to:"/register",class:"btn btn-secondary"},"Signup"),r.a.createElement(u.b,{to:"/login",class:"btn btn-primary"},"Login"))))))),r.a.createElement("div",{class:"jumbotron theme-dark",style:{backgroundColor:"#202020"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-24 text-center"},r.a.createElement("div",{class:"row section-gallery"},r.a.createElement("div",{class:"col-md-8"},r.a.createElement("h4",{style:{fontWeight:"bold"}},"LOCATION"),r.a.createElement("div",{class:"type-p1 text-center"},"Wah",r.a.createElement("br",null),"Punjab, Pakistan")),r.a.createElement("div",{class:"col-md-8"},r.a.createElement("h4",{style:{fontWeight:"bold"}},"AROUND THE GLOBE"),r.a.createElement("div",{class:"type-p1 text-center text-light",style:{color:"#25AAE1"}},r.a.createElement("a",{class:"fa",href:"#"},r.a.createElement("i",{class:"fab fa-fw fa-facebook-f"})),r.a.createElement("a",{class:"fa",href:"#"},r.a.createElement("i",{class:"fab fa-fw fa-instagram"})),r.a.createElement("a",{class:"fa",href:"#"},r.a.createElement("i",{class:"fab fa-fw fa-twitter"})))),r.a.createElement("div",{class:"col-md-8"},r.a.createElement("h4",{style:{fontWeight:"bold"}},"CONTACT US"),r.a.createElement("div",{class:"type-p1 text-center"},"Naqel is created by Core Infinite. For more information, visit ",r.a.createElement("a",{style:{textDecoration:"none",color:"#008575"},href:"#",class:"color-type-accent"},"coreinfinte.com")))))))))}}]),t}(n.Component),x=a(1),P=a.n(x),C=a(8),O=a(10),k=a.n(O),w=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/register"),{Username:e.Username,Email:e.Email,Password:e.Password,RegisterAs:e.RegisterAs}).then((function(e){return 0===e.data.localeCompare(f.a.USERNAME_OR_EMAIL_TAKEN)?e.data:(localStorage.setItem("newCredentialsToken",e.data),e.data)})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},S=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"users/accountSetup"),{Username:e.Username,Email:e.Email,Password:e.Password,RegisterAs:e.RegisterAs,FirstName:e.FirstName,LastName:e.LastName,DateOfBirth:e.DateOfBirth,Gender:e.Gender,Address:e.Address,PhoneNumber:e.PhoneNumber,Nationality:e.Nationality}).then((function(e){console.log(e.data)})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},D=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("POST to /login"),t.next=3,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/login"),{EmailOrUsername:e.EmailOrUsername,Password:e.Password,SignInAs:e.SignInAs}).then((function(e){return 0===e.data.localeCompare(f.a.USER_NOT_FOUND)||0===e.data.localeCompare(f.a.INVALID_PASSWORD)?e.data:(localStorage.setItem("userToken",e.data),e.data)})).catch((function(e){console.log(e)})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},T=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/generalSettings"),{Token:e.Token,FirstName:e.FirstName,LastName:e.LastName,Address:e.Address,PhoneNumber:e.PhoneNumber,Gender:e.Gender,Nationality:e.Nationality,DateOfBirth:e.DateOfBirth}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},L=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/usernameAndEmailSettings"),{Token:e.Token,Username:e.Username,Email:e.Email}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},U=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/passwordSettings"),{Token:e.Token,Password:e.Password}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},R=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/uploadDriverProfilePhoto"),{Token:e.Token,URL:e.URL,FileName:e.FileName}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},j=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/addTruck"),{Token:e.Token,PlateNumber:e.PlateNumber,Owner:e.Owner,ProductionYear:e.ProductionYear,Brand:e.Brand,Model:e.Model,Type:e.Type,MaximumWeight:e.MaximumWeight,PhotoURL:e.PhotoURL}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},I=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/updateTruckPhoto"),{Token:e.Token,PhotoURL:e.PhotoURL}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},V=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/updateTruck"),{Token:e.Token,PlateNumber:e.PlateNumber,Owner:e.Owner,ProductionYear:e.ProductionYear,Brand:e.Brand,Model:e.Model,Type:e.Type,MaximumWeight:e.MaximumWeight}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},A=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/addTrailer"),{Token:e.Token,MaximumWeight:e.MaximumWeight,PhotoURL:e.PhotoURL,Type:e.Type}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},F=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/deleteTrailer"),{Token:e.Token,TrailerID:e.TrailerID}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},M=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/updateTrailer"),{Token:e.Token,TrailerID:e.TrailerID,MaximumWeight:e.MaximumWeight,PhotoURL:e.PhotoURL,Type:e.Type}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},W=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/addDrivingLicence"),{Token:e.Token,LicenceNumber:e.LicenceNumber,Type:e.Type,ReleaseDate:e.ReleaseDate,ExpiryDate:e.ExpiryDate,PhotoURL:e.PhotoURL}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},J=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/updateDrivingLicence"),{Token:e.Token,LicenceNumber:e.LicenceNumber,Type:e.Type,ReleaseDate:e.ReleaseDate,ExpiryDate:e.ExpiryDate,PhotoURL:e.PhotoURL}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},q=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/deleteDrivingLicence"),{Token:e.Token}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},B=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/addEntryExitCard"),{Token:e.Token,EntryExitNumber:e.EntryExitNumber,Type:e.Type,ReleaseDate:e.ReleaseDate,NumberOfMonths:e.NumberOfMonths}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},_=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/updateEntryExitCard"),{Token:e.Token,EntryExitNumber:e.EntryExitNumber,Type:e.Type,ReleaseDate:e.ReleaseDate,NumberOfMonths:e.NumberOfMonths}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},G=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/deleteEntryExitCard"),{Token:e.Token}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},Y=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/addIdentityCard"),{Token:e.Token,IDNumber:e.IDNumber,PhotoURL:e.PhotoURL}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},Q=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/updateIdentityCard"),{Token:e.Token,IDNumber:e.IDNumber,PhotoURL:e.PhotoURL}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},X=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/deleteIdentityCard"),{Token:e.Token}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},z=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/addPermitLicence"),{Token:e.Token,PermitNumber:e.PermitNumber,ExpiryDate:e.ExpiryDate,PhotoURL:e.PhotoURL,Code:e.Code,Place:e.Place}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},K=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/deletePermitLicence"),{Token:e.Token,PermitLicenceID:e.PermitLicenceID}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},H=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/updatePermitLicence"),{Token:e.Token,PermitLicenceID:e.PermitLicenceID,PermitNumber:e.PermitNumber,ExpiryDate:e.ExpiryDate,PhotoURL:e.PhotoURL,Code:e.Code,Place:e.Place}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},$=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/addJobRequest"),{Token:e.Token,LoadingPlace:e.LoadingPlace,UnloadingPlace:e.UnloadingPlace,TripType:e.TripType,Price:e.Price}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},Z=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/updateJobRequest"),{Token:e.Token,JobRequestID:e.JobRequestID,LoadingPlace:e.LoadingPlace,UnloadingPlace:e.UnloadingPlace,TripType:e.TripType,Price:e.Price}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},ee=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"drivers/deleteJobRequest"),{Token:e.Token,JobRequestID:e.JobRequestID}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},te=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("I'm in registerTrader axios..."),t.next=3,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"traders/register"),{Username:e.Username,Email:e.Email,Password:e.Password,RegisterAs:e.RegisterAs}).then((function(e){return 0===e.data.localeCompare(f.a.USERNAME_OR_EMAIL_TAKEN)?e.data:(localStorage.setItem("newCredentialsToken",e.data),e.data)})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},ae=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"users/accountSetup"),{Username:e.Username,Email:e.Email,Password:e.Password,RegisterAs:e.RegisterAs,FirstName:e.FirstName,LastName:e.LastName,DateOfBirth:e.DateOfBirth,Gender:e.Gender,Address:e.Address,PhoneNumber:e.PhoneNumber,Nationality:e.Nationality}).then((function(e){console.log(e.data)})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},ne=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"traders/login"),{EmailOrUsername:e.EmailOrUsername,Password:e.Password}).then((function(e){return e.data})).catch((function(e){console.log(e)})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},re=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending GET request to ".concat(f.a.NAQEL_SERVER,"traders/get").concat(e.Get,"...")),t.next=3,P.a.awrap(k.a.get("".concat(f.a.NAQEL_SERVER,"traders/get").concat(e.Get),{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},le=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"traders/uploadTraderProfilePhoto"),{PhotoURL:e.PhotoURL,FileName:e.FileName},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},se=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"traders/generalSettings"),{FirstName:e.FirstName,LastName:e.LastName,Address:e.Address,PhoneNumber:e.PhoneNumber,Gender:e.Gender,Nationality:e.Nationality,DateOfBirth:e.DateOfBirth},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},ie=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"traders/validateUsername"),{Username:e}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},oe=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"traders/validateEmail"),{Email:e}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},ce=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"users/sendCode"),{Email:e}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},me=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"traders/usernameAndEmailSettings"),{Username:e.Username,Email:e.Email},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},de=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"traders/validatePassword"),{Password:e.Password},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},ue=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"traders/passwordSettings"),{Password:e.Password},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},pe=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"traders/addJobOffer"),{TripType:e.TripType,CargoType:e.CargoType,CargoWeight:e.CargoWeight,LoadingPlace:e.LoadingPlace,UnloadingPlace:e.UnloadingPlace,LoadingDate:e.LoadingDate,LoadingTime:e.LoadingTime,EntryExit:e.EntryExit,Price:e.Price,AcceptedDelay:e.AcceptedDelay,JobOfferType:e.JobOfferType},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},ge=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"traders/updateJobOffer"),{JobOfferID:e.JobOfferID,TripType:e.TripType,CargoType:e.CargoType,CargoWeight:e.CargoWeight,LoadingPlace:e.LoadingPlace,UnloadingPlace:e.UnloadingPlace,LoadingDate:e.LoadingDate,LoadingTime:e.LoadingTime,EntryExit:e.EntryExit,Price:e.Price,AcceptedDelay:e.AcceptedDelay,JobOfferType:e.JobOfferType},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},Ee={paddingLeft:"5px",fontWeight:"bold"},he={background:"rgba(0, 0, 0, 0.8)",position:"fixed",zIndex:"10",top:"0px",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},be=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:he},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("img",{src:"./images/preloader.gif",alt:"preloader.gif",height:"200"})))}}]),t}(n.Component),fe={backgroundImage:"url(/images/login_back.jpg)",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover"},ve={backgroundImage:"url(/images/signup_back.jpg)",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover"},ye={backgroundImage:"url(/images/passcode_back.jpg)",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover"},Ne={backgroundImage:"url(/images/create_account_back.jpg)",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover"},xe={backgroundImage:"url(/images/congrats_back.jpg)",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover"},Pe={backgroundColor:"rgba(229, 229, 229, 0.8)",height:"auto",width:"350px",padding:"30px",alignContent:"center",boxShadow:"0 6px 6px rgba(0, 0, 0, 0.6)"},Ce={backgroundColor:"rgba(229, 229, 229, 0.8)",height:"auto",padding:"30px",alignContent:"center",boxShadow:"0 6px 6px rgba(0, 0, 0, 0.6)"},Oe={backgroundColor:"rgba(229, 229, 229, 0.8)",height:"auto",width:"60%",margin:"50px",boxShadow:"0 6px 6px rgba(0, 0, 0, 0.6)"},ke={width:"100%"},we={paddingTop:"10px"},Se=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){e.setState(Object(C.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){var a;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,P.a.awrap(t.preventDefault());case 2:if(""!=e.state.EmailOrUsername&&""!=e.state.Password){n.next=5;break}return e.setState({NullError:!0,InvalidUsernameOrPassword:!1}),n.abrupt("return");case 5:if(e.setState({Preloader:r.a.createElement(be,null)}),a={EmailOrUsername:e.state.EmailOrUsername,Password:e.state.Password,SignInAs:e.state.SignInAs},"Driver"!==e.state.SignInAs){n.next=13;break}return console.log("logging in as Driver..."),n.next=11,P.a.awrap(D(a).then((function(t){t&&localStorage.userToken?e.props.history.push("/drivers"):e.setState({NullError:!1,InvalidUsernameOrPassword:!0,Preloader:null})})));case 11:n.next=16;break;case 13:return console.log("Logging in as Trader or Broker..."),n.next=16,P.a.awrap(ne(a).then((function(t){"Login successful."===t.Message?(localStorage.setItem("Token",t.Token),e.setState({LoggedInAsTrader:!0})):e.setState({NullError:!1,InvalidUsernameOrPassword:!0,Preloader:null})})));case 16:case"end":return n.stop()}}))},e.state={EmailOrUsername:"",Password:"",SignInAs:"Driver",LoggedInAsDriver:!1,LoggedInAsTrader:!1,NullError:!1,InvalidUsernameOrPassword:!1,Preloader:null,Errors:{}},e.onChange=e.onChange.bind(Object(g.a)(e)),e.onSubmit=e.onSubmit.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return this.state.LoggedInAsTrader?r.a.createElement(p.a,{to:"/traders"}):r.a.createElement("div",null,r.a.createElement("div",{className:"middle",style:fe},r.a.createElement("div",{className:"theme-default animated fadeIn",style:Pe},r.a.createElement("div",{style:ke},r.a.createElement("img",{src:"./images/login.png",alt:"Login.png",height:"60"}),r.a.createElement("div",{class:"type-h3",style:we},"Sign In"),r.a.createElement("br",null),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"EmailOrUsername",class:"control-label"},"Email or Username"),r.a.createElement("input",{type:"email",class:"form-control",name:"EmailOrUsername",placeholder:"someone@provider.com",value:this.state.EmailOrUsername,onChange:this.onChange})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"Password",class:"control-label"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",name:"Password",placeholder:"Password",value:this.state.Password,onChange:this.onChange})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Sign In As"),r.a.createElement("div",{class:"dropdown",style:{width:"100%"}},r.a.createElement("button",{id:"example-dropdown",class:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.SignInAs),r.a.createElement("span",{class:"caret"})),r.a.createElement("ul",{class:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement(u.b,{onClick:function(t){e.state.SignInAs="Driver"},onChange:this.onChange},"Driver")),r.a.createElement("li",null,r.a.createElement(u.b,{onClick:function(t){e.state.SignInAs="Trader"},onChange:this.onChange},"Trader")),r.a.createElement("li",null,r.a.createElement(u.b,{onClick:function(t){e.state.SignInAs="Broker"},onChange:this.onChange},"Broker"))))),r.a.createElement("div",{class:"form-group"},this.state.NullError&&r.a.createElement("div",null,r.a.createElement("label",{class:"control-label text-danger"},"Email/Username and password is required."),r.a.createElement("br",null)),this.state.InvalidUsernameOrPassword&&r.a.createElement("div",null,r.a.createElement("label",{class:"control-label text-danger"},"Invalid username or password."),r.a.createElement("br",null)),r.a.createElement("label",{class:"control-label"},r.a.createElement(u.b,{to:"/"},"Forgot password")),r.a.createElement("br",null),r.a.createElement("label",{class:"control-label"},"No account? ",r.a.createElement("span",null,r.a.createElement(u.b,{to:"/register"},"Register now")))),r.a.createElement("div",null,r.a.createElement("input",{type:"submit",value:"Sign In",class:"btn btn-primary"})))))),this.state.Preloader)}}]),t}(n.Component),De=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(C.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),""!==e.state.Username&&""!==e.state.Email&&""!==e.state.Password&&""!==e.state.ConfirmPassword){n.next=4;break}return e.setState({NullError:!0,UsernameOrEmailTaken:!1}),n.abrupt("return");case 4:if("Driver"!=(a={Username:e.state.Username,Password:e.state.Password,Email:e.state.Email,RegisterAs:e.state.RegisterAs}).RegisterAs){n.next=10;break}return n.next=8,P.a.awrap(w(a).then((function(t){t&&localStorage.newCredentialsToken?e.props.history.push("/emailConfirmation"):e.setState({NullError:!1,UsernameOrEmailTaken:!0})})));case 8:n.next=14;break;case 10:if("Trader"!=a.RegisterAs&&"Broker"!=a.RegisterAs){n.next=14;break}return console.log("Seting up resources for new trader or broker..."),n.next=14,P.a.awrap(te(a).then((function(t){t&&localStorage.newCredentialsToken?e.props.history.push("/emailConfirmation"):e.setState({NullError:!1,UsernameOrEmailTaken:!0})})));case 14:case"end":return n.stop()}}))},e.state={Username:"",Email:"",Password:"",ConfirmPassword:"",RegisterAs:"Driver",NullError:!1,PasswordsMatched:!1,UsernameOrEmailTaken:!1,ValidEmail:!1,ValidPassword:!1,ValidForm:!1,Agreed:!1,Errors:{Email:"",Password:"",ConfirmPassword:"",Agreed:""}},e.onChange=e.onChange.bind(Object(g.a)(e)),e.onSubmit=e.onSubmit.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateField",value:function(e,t){var a=this.state.Errors,n=this.state.ValidEmail,r=this.state.ValidPassword,l=this.state.PasswordsMatched,s=this.state.Agreed;switch(e){case"Email":n=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),a.Email=n?"":"Email is invalid.";break;case"Password":r=t.length>=6,a.Password=r?"":"Password is too short.";break;case"ConfirmPassword":l=this.state.Password===t,a.ConfirmPassword=l?"":"Passwords did not match.";break;case"IsAgree":s=this.refs.agreementCheckBox.checked}this.setState({Errors:a,ValidEmail:n,ValidPassword:r,PasswordsMatched:l,Agreed:s},this.validateForm)}},{key:"validateForm",value:function(){this.setState({ValidForm:this.state.ValidEmail&&this.state.ValidPassword&&this.state.PasswordsMatched&&this.state.Agreed})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{class:"middle",style:ve},r.a.createElement("div",{class:"theme-default animated fadeIn",style:Pe},r.a.createElement("div",{style:ke},r.a.createElement("img",{src:"./images/signup.png",alt:"signup.png",height:"60"}),r.a.createElement("div",{class:"type-h3",style:we},"Sign Up"),r.a.createElement("br",null),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"Username",class:"control-label"},"Username"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{htmlFor:"Username",type:"text",name:"Username",class:"form-control",autocomplete:"off",value:this.state.Username,onChange:this.onChange,required:!0})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"Email",class:"control-label"},"Email"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{htmlFor:"Email",type:"email",name:"Email",class:"form-control",placeholder:"someone@example.com",autocomplete:"off",value:this.state.Email,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Email)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"Password",class:"control-label"},"Password"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{htmlFor:"Password",type:"password",name:"Password",class:"form-control",value:this.state.Password,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Password)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"ConfirmPassword",class:"control-label"},"Confirm Password"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{htmlFor:"ConfirmPassword",type:"password",name:"ConfirmPassword",class:"form-control",value:this.state.ConfirmPassword,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.ConfirmPassword)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Register As"),r.a.createElement("div",{class:"dropdown",style:{width:"100%",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",class:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.RegisterAs),r.a.createElement("span",{class:"caret"})),r.a.createElement("ul",{class:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement(u.b,{onClick:function(t){e.state.RegisterAs="Driver"},onChange:this.onChange},"Driver")),r.a.createElement("li",null,r.a.createElement(u.b,{onClick:function(t){e.state.RegisterAs="Trader"},onChange:this.onChange},"Trader")),r.a.createElement("li",null,r.a.createElement(u.b,{onClick:function(t){e.state.RegisterAs="Broker"},onChange:this.onChange},"Broker"))))),r.a.createElement("div",null,r.a.createElement("div",{class:"checkbox"},r.a.createElement("label",{class:"control-label"},r.a.createElement("input",{ref:"agreementCheckBox",type:"checkbox",name:"IsAgree",value:"",onChange:this.onChange}),r.a.createElement("span",null,"Agree with our "),r.a.createElement("span",null,r.a.createElement(u.b,{"data-toggle":"modal","data-target":"#terms"},"Terms and Conditions"))))),r.a.createElement("div",{class:"form-group"},this.state.NullError&&r.a.createElement("div",null,r.a.createElement("label",{class:"control-label text-danger"},"All fields are required."),r.a.createElement("br",null)),this.state.UsernameOrEmailTaken&&r.a.createElement("div",null,r.a.createElement("label",{class:"control-label text-danger"},"Username or email is already taken."),r.a.createElement("br",null)),this.state.AgreementError&&r.a.createElement("div",null,r.a.createElement("label",{class:"control-label text-danger"},"You must agree to our terms and conditions."),r.a.createElement("br",null)),r.a.createElement("label",{class:"control-label"},"Have an account? ",r.a.createElement("span",null,r.a.createElement(u.b,{to:"/login"},"Sign In Now!")))),r.a.createElement("input",{type:"submit",value:"Next",class:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{class:"modal",id:"terms",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content animated fadeIn"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h4",{class:"modal-title",id:"modal-sample-label"},"Terms of Use")),r.a.createElement("div",{class:"modal-body text-justify"},"Your privacy is important to us. ",r.a.createElement("span",null,f.a.APP_NAME),"'s Privacy Statement describes the types of data we collect from you, how we use your Data, and the legal bases we have to process your Data. The Privacy Statement also describes how ",String.APP_NAME," uses your content, which is information submitted by you to ",f.a.APP_NAME," via the Services. Where processing is based on consent and to the extent permitted by law, by agreeing to these Terms, you consent to ",f.a.APP_NAME,"\ufffd collection, use and disclosure of your content and data as described in the privacy statement. In some cases, we will provide separate notice and request your consent as referenced in the privacy statement."),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-info","data-dismiss":"modal"},"Ok"))))))}}]),t}(n.Component),Te=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){e.setState(Object(C.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a=h()(localStorage.newCredentialsToken).Code;""!==e.state.ConfirmationCode?e.state.ConfirmationCode==a?(localStorage.setItem("verifiedCredentialsToken",localStorage.newCredentialsToken),localStorage.removeItem("newCredentialsToken"),e.props.history.push("/setupAccount")):e.setState({NullError:!1,InvalidCodeError:!0}):e.setState({NullError:!0,InvalidCodeError:!1})},e.state={ConfirmationCode:0,NullError:!1,InvalidCodeError:!1,Errors:{}},e.onChange=e.onChange.bind(Object(g.a)(e)),e.onSubmit=e.onSubmit.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return localStorage.newCredentialsToken?r.a.createElement("div",{class:"middle",style:ye},r.a.createElement("div",{class:"theme-default animated fadeIn",style:Pe},r.a.createElement("div",{style:ke},r.a.createElement("img",{src:"./images/passcode.png",alt:"passcode.png",height:"60"}),r.a.createElement("div",{class:"type-h3",style:we},"Email Confirmation"),r.a.createElement("div",{class:"type-sh3"},"We delivered a confirmation code to your email."),r.a.createElement("br",null),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"ConfirmationCode",class:"control-label"},"Confirmation Code"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{htmlFor:"ConfirmationCode",type:"text",name:"ConfirmationCode",class:"form-control",value:this.state.ConfirmationCode,onChange:this.onChange})),r.a.createElement("div",{class:"form-group"},this.state.NullError&&r.a.createElement("div",null,r.a.createElement("label",{class:"control-label text-danger"},"Confirmation code is required."),r.a.createElement("br",null)),this.state.InvalidCodeError&&r.a.createElement("div",null,r.a.createElement("label",{class:"control-label text-danger"},"Invalid code."),r.a.createElement("br",null))),r.a.createElement("input",{type:"submit",value:"Next",class:"btn btn-primary"}))))):(this.props.history.push("/register"),r.a.createElement("a",null))}}]),t}(n.Component),Le=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(C.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.preventDefault(),e.state.ValidForm){r.next=3;break}return r.abrupt("return");case 3:if(localStorage.verifiedCredentialsToken&&(a=h()(localStorage.verifiedCredentialsToken),e.state.Username=a.Username,e.state.Email=a.Email,e.state.Password=a.Password,e.state.RegisterAs=a.RegisterAs),"Driver"!=(n={Username:e.state.Username,Email:e.state.Email,Password:e.state.Password,RegisterAs:e.state.RegisterAs,FirstName:e.state.FirstName,LastName:e.state.LastName,DateOfBirth:e.state.DateOfBirth,Gender:e.state.Gender,Address:e.state.Address,PhoneNumber:e.state.PhoneNumber,Nationality:e.state.Nationality}).RegisterAs){r.next=8;break}return r.next=8,P.a.awrap(S(n).then((function(t){localStorage.removeItem("verifiedCredentialsToken"),localStorage.setItem("IsCreatedSuccessfully",!0),e.props.history.push("/congratulations")})));case 8:if("Trader"!=n.RegisterAs&&"Broker"!=n.RegisterAs){r.next=11;break}return r.next=11,P.a.awrap(ae(n).then((function(t){localStorage.removeItem("verifiedCredentialsToken"),localStorage.setItem("IsCreatedSuccessfully",!0),e.props.history.push("/congratulations")})));case 11:case"end":return r.stop()}}))},e.state={Username:"",Email:"",Password:"",RegisterAs:"",FirstName:"",LastName:"",DateOfBirth:"",Gender:"Male",Nationality:"",Address:"",PhoneNumber:"",ValidFirstName:!1,ValidLastName:!1,ValidDateOfBirth:!1,ValidNationality:!1,ValidAddress:!1,ValidPhoneNumber:!1,ValidForm:!1,Errors:{FirstName:"",LastName:"",DateOfBirth:"",Nationality:"",Address:"",PhoneNumber:""}},e.onChange=e.onChange.bind(Object(g.a)(e)),e.onSubmit=e.onSubmit.bind(Object(g.a)(e)),e.validateField=e.validateField.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidFirstName,l=this.state.ValidLastName,s=this.state.ValidDateOfBirth,i=this.state.ValidNationality,o=this.state.ValidAddress,c=this.state.ValidPhoneNumber;switch(e){case"FirstName":r=""!==t&&t.match(/^[a-zA-Z ]+$/),n.FirstName=r?"":"First name is invalid.";break;case"LastName":l=""!==t&&t.match(/^[a-zA-Z ]+$/),n.LastName=l?"":"Last name is invalid.";break;case"DateOfBirth":s=new Date(t)<new Date,n.DateOfBirth=s?"":"Your Birthday must be earlier than today.";break;case"Nationality":i=""!==t&&t.match(/^[a-zA-Z ]+$/),n.Nationality=i?"":"Nationality is invalid.";break;case"Address":o=""!==t,n.Address=o?"":"Address is required.";break;case"PhoneNumber":c=t.match(/^\+[0-9]?()[0-9](\s|\S)(\d[0-9]{9})$/),n.PhoneNumber=c?"":"Phone number is invalid."}this.setState({Errors:n,ValidFirstName:r,ValidLastName:l,ValidDateOfBirth:s,ValidNationality:i,ValidAddress:o,ValidPhoneNumber:c},(function(){a.setState({ValidForm:a.state.ValidFirstName&&a.state.ValidLastName&&a.state.ValidDateOfBirth&&a.state.ValidNationality&&a.state.ValidAddress&&a.state.ValidPhoneNumber})}))}},{key:"render",value:function(){var e=this;return localStorage.verifiedCredentialsToken?r.a.createElement("div",{class:"middle",style:Ne},r.a.createElement("div",{class:"theme-default animated fadeIn",style:Ce},r.a.createElement("div",{style:ke},r.a.createElement("img",{src:"./images/create_account.png",atl:"create_account.png",height:"60"}),r.a.createElement("div",{class:"type-h3",style:we},"Create Account"),r.a.createElement("div",{class:"type-sh3"},"Just one more step, and you're done!"),r.a.createElement("br",null),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-8"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"FirstName",class:"control-label"},"First Name"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",className:"form-control",name:"FirstName",autocomplete:"off",value:this.state.FirstName,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.FirstName)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"LastName",class:"control-label"},"Last Name"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",className:"form-control",name:"LastName",autocomplete:"off",value:this.state.LastName,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.LastName)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"DateOfBirth",class:"control-label"},"Date of Birth"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"date",class:"form-control",name:"DateOfBirth",autocomplete:"off",value:this.state.DateOfBirth,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.DateOfBirth))),r.a.createElement("div",{class:"col-md-8"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"Gender",class:"control-label"},"Gender"),r.a.createElement("div",{class:"dropdown",style:{width:"193px",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",class:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.Gender),r.a.createElement("span",{class:"caret"})),r.a.createElement("ul",{class:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({Gender:"Male"})}},"Male")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({Gender:"Female"})}},"Female"))))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"Nationality",class:"control-label"},"Nationality"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",className:"form-control",name:"Nationality",autocomplete:"off",value:this.state.Nationality,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Nationality)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"PhoneNumber",class:"control-label"},"Phone Number"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",className:"form-control",name:"PhoneNumber",autocomplete:"off",placeholder:"+XXXXXXXXXXXX",value:this.state.PhoneNumber,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.PhoneNumber))),r.a.createElement("div",{class:"col-md-8"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"Address",class:"control-label"},"Address"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("textarea",{class:"form-control",rows:"5",name:"Address",autocomplete:"off",value:this.state.Address,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Address)))),r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"submit",value:"Create",class:"btn btn-primary",disabled:!this.state.ValidForm})))))):(this.props.history.push("/register"),r.a.createElement("a",null))}}]),t}(n.Component),Ue=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onSubmit=function(t){t.preventDefault(),localStorage.removeItem("IsCreatedSuccessfully"),e.props.history.push("/login")},e.onSubmit=e.onSubmit.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return localStorage.IsCreatedSuccessfully?r.a.createElement("div",{class:"middle",style:xe},r.a.createElement("div",{class:"jumbotron theme-default animated fadeIn",style:Oe},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"congrats.png",src:"./images/congrats.png","data-source-index":"2"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3"},"Congratulations"),r.a.createElement("div",{class:"type-sh3"},"Your account has been created successfully."),r.a.createElement("br",null),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("input",{type:"submit",value:"Sign In",class:"btn btn-primary"}))))))):(this.props.history.push("/register"),r.a.createElement("a",null))}}]),t}(n.Component),Re={padding:"10px",backgroundColor:"#3A3A3C",width:"100%",margin:"0px"},je=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onImageUpload=function(e){a.state.Image=e.target.files[0],console.log(a.state.Image);var t=new FormData;try{t.append("ImageID",a.state.DriverID),t.append("ImageCategory",a.state.ImageCategory),t.append("Image",a.state.Image,a.state.Image.name)}catch(n){return void a.setState({UploadProgress:null})}k.a.post(f.a.IMAGE_UPLOADER,t,{onUploadProgress:function(e){a.setState({UploadProgress:r.a.createElement("div",{class:"progress-bar"},r.a.createElement("div",{class:"progress-circle"}),r.a.createElement("div",{class:"progress-circle"}),r.a.createElement("div",{class:"progress-circle"}),r.a.createElement("div",{class:"progress-circle"}),r.a.createElement("div",{class:"progress-circle"}))})}}).then((function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=e.data,console.log(e),"Image uploaded successfully."!==e.message){n.next=6;break}return t={Token:localStorage.getItem("userToken"),URL:e.imageUrl,FileName:e.filename},n.next=6,P.a.awrap(R(t).then((function(e){"Driver's profile photo is updated."!==e.Message&&"Driver's profile photo is added."!==e.Message||(localStorage.setItem("userToken",e.Token),a.setState({ImageURL:e.imageUrl,UploadProgress:null}))})));case 6:case"end":return n.stop()}}))})).catch((function(){a.setState({ImageURL:"./images/defaultProfilePhoto.png",UploadProgress:null})}))},a.onSubmit=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault();case 1:case"end":return t.stop()}}))},a.state={Image:null,ImageURL:"./images/defaultProfilePhoto.png",DriverID:null,ImageCategory:"ProfilePicture",UploadProgress:null},a.onImageUpload=a.onImageUpload.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=h()(localStorage.userToken);this.setState({ImageURL:e.ProfilePhotoURL}),this.setState({DriverID:e.DriverID})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:this.onImageUpload,style:{display:"none"},ref:function(t){return e.fileInput=t}}),r.a.createElement("figure",{class:"media"},r.a.createElement("div",{class:"media-img media-img-has-play ratio-movie",style:Object(C.a)({width:"200px",height:"200px",border:"0px",padding:"0px"},"border","5px solid #3A3A3C")},r.a.createElement("a",{href:"#",onClick:function(){return e.fileInput.click()}},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:this.state.ImageURL,alt:"ProfilePhoto.png"}),r.a.createElement("i",{class:"glyph glyph-edit"})))),this.state.UploadProgress)}}]),t}(n.Component),Ie=function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"alert alert-warning alert-dismissible fade in",role:"alert",style:{marginBottom:"0px"}},r.a.createElement("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close",onClick:this.props.OnClose(null)},r.a.createElement("span",{"aria-hidden":"true"},r.a.createElement("i",{class:"glyph glyph-cancel"}))),r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xs-24"},r.a.createElement("p",null,this.props.Message)))))}}]),t}(n.Component),Ve=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onImageUpload=function(e){if((a.state.Image=e.target.files[0],a.state.Image)&&!a.state.Image.type.startsWith("image"))return void a.props.OnInvalidImageSelected();var t=new FormData;try{t.append("Image",a.state.Image,a.state.Image.name)}catch(n){return void a.setState({UploadProgress:null})}k.a.post(f.a.IMAGE_UPLOADER,t,{onUploadProgress:function(e){a.setState({UploadProgress:r.a.createElement("div",{className:"progress-bar"},r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}))})}}).then((function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.props.OnImageUploaded(e.data),a.setState({UploadProgress:null});case 2:case"end":return t.stop()}}))})).catch((function(e){a.props.OnImageUploaded(e),a.setState({UploadProgress:null})}))},a.onSubmit=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault();case 1:case"end":return t.stop()}}))},a.state={Image:null,UploadProgress:null},a.onImageUpload=a.onImageUpload.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:this.onImageUpload,style:{display:"none"},ref:function(t){return e.fileInput=t}}),r.a.createElement("figure",{className:"media"},r.a.createElement("div",{className:"media-img media-img-has-play ratio-movie",style:Object(C.a)({width:this.props.Width,height:this.props.Height,border:"0px",padding:"0px"},"border","5px solid #3A3A3C")},r.a.createElement("a",{onClick:function(){return e.fileInput.click()}},r.a.createElement("img",{src:this.props.Source,alt:"dafault-image.png"}),r.a.createElement("i",{className:"glyph glyph-edit"})))),this.state.UploadProgress)}}]),t}(n.Component),Ae=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.getItem("userToken"),LicenceNumber:a.state.LicenceNumber,Type:a.state.Type,ReleaseDate:a.state.ReleaseDate,ExpiryDate:a.state.ExpiryDate,PhotoURL:a.state.PhotoURL},console.log("Going to add the Driving Licence."),a.setState({Preloader:r.a.createElement(be,null)}),n.next=8,P.a.awrap(W(t).then((function(e){"Driving Licence is added."===e.Message&&(localStorage.setItem("userToken",e.Token),a.props.OnDrivingLicenceAdded(a.cancelButton)),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={LicenceNumber:"",Type:"",ReleaseDate:new Date,ExpiryDate:new Date,PhotoURL:"./images/default_image.png",ValidLicenceNumber:!1,ValidType:!1,ValidReleaseDate:!1,ValidExpiryDate:!1,ValidPhotoURL:!1,ValidForm:!1,Preloader:null,Errors:{LicenceNumber:"",Type:"",ReleaseDate:"",ExpiryDate:"",PhotoURL:""}},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a.validateField=a.validateField.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidLicenceNumber,l=this.state.ValidType,s=this.state.ValidReleaseDate,i=this.state.ValidExpiryDate,o=this.state.ValidPhotoURL;switch(e){case"LicenceNumber":r=""!==t,n.LicenceNumber=r?"":"Licence number is required.";break;case"Type":l=""!==t,n.Type=l?"":"Licence type is required";break;case"ReleaseDate":s=new Date(t).getTime()<new Date(this.state.ExpiryDate).getTime(),n.ReleaseDate=s?"":"Release date must be earlier than Expiry date.";break;case"ExpiryDate":i=new Date(t).getTime()>(new Date).getTime(),n.ExpiryDate=i?"":"Expiry Date must be later than today.";break;case"PhotoURL":o=null!==t,n.PhotoURL=o?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidLicenceNumber:r,ValidType:l,ValidReleaseDate:s,ValidExpiryDate:i,ValidPhotoURL:o},(function(){a.setState({ValidForm:a.state.ValidLicenceNumber&&a.state.ValidType&&a.state.ValidReleaseDate&&a.state.ValidExpiryDate&&a.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{class:"text-left"},r.a.createElement("div",{class:"modal",id:"add-driving-licence-dialog",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"modal-header"},r.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),r.a.createElement("div",{class:"type-h3"},"Add Driving Licence")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement(Ve,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"DrivingLicence"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Licence Number"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",name:"LicenceNumber",class:"form-control",autocomplete:"off",value:this.state.LicenceNumber,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.LicenceNumber)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Licence Type"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"Type",class:"form-control",autocomplete:"off",value:this.state.Type,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Type)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Release Date"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"date",name:"ReleaseDate",class:"form-control",autocomplete:"off",value:this.state.ReleaseDate,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.ReleaseDate)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Expiry Date"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"date",name:"ExpiryDate",class:"form-control",autocomplete:"off",value:this.state.ExpiryDate,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.ExpiryDate))))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{class:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnAddDrivingLicenceDialogRemove,ref:function(t){return e.cancelButton=t}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Add",class:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(n.Component),Fe=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={AddDrivingLicenceDialog:null},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("button",{type:"button",class:"btn btn-primary",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#add-driving-licence-dialog",onMouseDown:function(){e.setState({AddDrivingLicenceDialog:r.a.createElement(Ae,{OnAddDrivingLicenceDialogRemove:function(){e.setState({AddDrivingLicenceDialog:null})},OnDrivingLicenceAdded:function(t){t.click(),e.props.OnDocumentsUpdated()}})})}},r.a.createElement("span",{class:"fas fa-plus","aria-hidden":"true"})," Driving Licence"),this.state.AddDrivingLicenceDialog)}}]),t}(n.Component),Me=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.getItem("userToken"),EntryExitNumber:a.state.EntryExitNumber,Type:a.state.Type,ReleaseDate:a.state.ReleaseDate,NumberOfMonths:a.state.NumberOfMonths},console.log("Going to add Entry/Exit Card."),a.setState({Preloader:r.a.createElement(be,null)}),n.next=8,P.a.awrap(B(t).then((function(e){"Entry/Exit card is added."===e.Message&&(localStorage.setItem("userToken",e.Token),a.props.OnOK(a.cancelButton)),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={EntryExitNumber:"",Type:"Simple",ReleaseDate:new Date,NumberOfMonths:"",ValidEntryExitNumber:!1,ValidReleaseDate:!1,ValidNumberOfMonths:!1,ValidForm:!1,Preloader:null,Errors:{EntryExitNumber:"",ReleaseDate:"",NumberOfMonths:""}},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a.validateField=a.validateField.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidEntryExitNumber,l=this.state.ValidReleaseDate,s=this.state.ValidNumberOfMonths;switch(e){case"EntryExitNumber":r=""!==t,n.EntryExitNumber=r?"":"Entry/exit number is required.";break;case"ReleaseDate":l=new Date(t).getTime()<=new Date,n.ReleaseDate=l?"":"Release date must not be later than today.";break;case"NumberOfMonths":if(s=""!==t,n.NumberOfMonths=s?"":"Number of months is required.",""!==n.NumberOfMonths)break;if(s=t>0,n.NumberOfMonths=s?"":"Number of months must be greater than 0.",""!==n.NumberOfMonths)break;var i=new Date(this.state.ReleaseDate),o=new Date(i.setMonth(i.getMonth()+t));s=o>new Date,n.NumberOfMonths=s?"":"Your card is expired if it is for ".concat(t," months. Your card might be expired on ").concat(o.toLocaleString())}this.setState({Errors:n,ValidEntryExitNumber:r,ValidReleaseDate:l,ValidNumberOfMonths:s},(function(){a.setState({ValidForm:a.state.ValidEntryExitNumber&&a.state.ValidReleaseDate&&a.state.ValidNumberOfMonths})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{class:"text-left"},r.a.createElement("div",{class:"modal",id:"add-entry-exit-card-dialog",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"modal-header"},r.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),r.a.createElement("div",{class:"type-h3"},"Add Entry/Exit Card")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Entry/Exit Number"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",name:"EntryExitNumber",class:"form-control",autocomplete:"off",value:this.state.EntryExitNumber,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.EntryExitNumber)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Card Type"),r.a.createElement("br",null),r.a.createElement("div",{class:"dropdown",style:{width:"100%",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",class:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.Type),r.a.createElement("span",{class:"caret"})),r.a.createElement("ul",{class:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({Type:"Simple"})}},"Simple")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({Type:"Multiple"})}},"Multiple"))))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Release Date"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"date",name:"ReleaseDate",class:"form-control",autocomplete:"off",value:this.state.ReleaseDate,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.ReleaseDate)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Number of Months"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",name:"NumberOfMonths",class:"form-control",autocomplete:"off",value:this.state.NumberOfMonths,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.NumberOfMonths))))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{class:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Add",class:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(n.Component),We=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={AddEntryExitCardDialog:null},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("button",{type:"button",class:"btn btn-primary",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#add-entry-exit-card-dialog",onMouseDown:function(){e.setState({AddEntryExitCardDialog:r.a.createElement(Me,{OnCancel:function(){e.setState({AddEntryExitCardDialog:null})},OnOK:function(t){t.click(),e.props.OnDocumentsUpdated()}})})}},r.a.createElement("span",{class:"fas fa-plus","aria-hidden":"true"})," Entry/Exit Card"),this.state.AddEntryExitCardDialog)}}]),t}(n.Component),Je=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.getItem("userToken"),IDNumber:a.state.IDNumber,PhotoURL:a.state.PhotoURL},console.log("Going to add Identity Card."),a.setState({Preloader:r.a.createElement(be,null)}),n.next=8,P.a.awrap(Y(t).then((function(e){"Identity card is added."===e.Message&&(localStorage.setItem("userToken",e.Token),a.props.OnOK(a.cancelButton)),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={IDNumber:"",PhotoURL:"./images/default_image.png",ValidIDNumber:!1,ValidPhotoURL:!1,ValidForm:!1,Preloader:null,Errors:{IDNumber:"",PhotoURL:""}},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a.validateField=a.validateField.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidIDNumber,l=this.state.ValidPhotoURL;switch(e){case"IDNumber":if(r=""!==t,n.IDNumber=r?"":"ID number is required.",""!==n.IDNumber)break;r=t>=1e9&&t<=9999999999,n.IDNumber=r?"":"ID number must be 10-digits long.";break;case"PhotoURL":l=null!==t,n.PhotoURL=l?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidIDNumber:r,ValidPhotoURL:l},(function(){a.setState({ValidForm:a.state.ValidIDNumber&&a.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{class:"text-left"},r.a.createElement("div",{class:"modal",id:"add-identity-card-dialog",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"modal-header"},r.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),r.a.createElement("div",{class:"type-h3"},"Add Identity Card")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement(Ve,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"IdentityCard"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"ID Number"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",name:"IDNumber",class:"form-control",autoComplete:"off",required:!0,value:this.state.IDNumber,onChange:this.onChange,min:"1000000000",max:"9999999999"}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.IDNumber))))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{class:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Add",class:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(n.Component),qe=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={AddIdentityCardDialog:null},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("button",{type:"button",class:"btn btn-primary",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#add-identity-card-dialog",onMouseDown:function(){e.setState({AddIdentityCardDialog:r.a.createElement(Je,{OnCancel:function(){e.setState({AddIdentityCardDialog:null})},OnOK:function(t){t.click(),e.props.OnDocumentsUpdated()}})})}},r.a.createElement("span",{class:"fas fa-plus","aria-hidden":"true"})," Identity Card"),this.state.AddIdentityCardDialog)}}]),t}(n.Component),Be=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.getItem("userToken"),LicenceNumber:a.state.LicenceNumber,Type:a.state.Type,ReleaseDate:a.state.ReleaseDate,ExpiryDate:a.state.ExpiryDate,PhotoURL:a.state.PhotoURL},console.log("Going to update the Driving Licence."),a.setState({Preloader:r.a.createElement(be,null)}),n.next=8,P.a.awrap(J(t).then((function(e){"Driving Licence is updated."===e.Message&&(localStorage.setItem("userToken",e.Token),a.props.OnDrivingLicenceUpdated(a.cancelButton)),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={LicenceNumber:"",Type:"",ReleaseDate:new Date,ExpiryDate:new Date,PhotoURL:"./images/default_image.png",ValidLicenceNumber:!0,ValidType:!0,ValidReleaseDate:!0,ValidExpiryDate:!0,ValidPhotoURL:!0,ValidForm:!1,Preloader:null,Errors:{LicenceNumber:"",Type:"",ReleaseDate:"",ExpiryDate:"",PhotoURL:""}},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a.validateField=a.validateField.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=h()(localStorage.userToken).DrivingLicence;if(e)return void this.setState({DrivingLicenceID:e.DrivingLicenceID,LicenceNumber:e.LicenceNumber,Type:e.Type,ReleaseDate:e.ReleaseDate,ExpiryDate:e.ExpiryDate,PhotoURL:e.PhotoURL})}this.setState({DrivingLicenceID:"",LicenceNumber:"",Type:"",ReleaseDate:new Date,ExpiryDate:new Date,PhotoURL:"./images/default_image.png"})}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidLicenceNumber,l=this.state.ValidType,s=this.state.ValidReleaseDate,i=this.state.ValidExpiryDate,o=this.state.ValidPhotoURL;switch(e){case"LicenceNumber":r=""!==t,n.LicenceNumber=r?"":"Licence number is required.";break;case"Type":l=""!==t,n.Type=l?"":"Licence type is required";break;case"ReleaseDate":s=new Date(t).getTime()<new Date(this.state.ExpiryDate).getTime(),n.ReleaseDate=s?"":"Release date must be earlier than Expiry date.";break;case"ExpiryDate":i=new Date(t).getTime()>(new Date).getTime(),n.ExpiryDate=i?"":"Expiry Date must be later than today.";break;case"PhotoURL":o=null!==t,n.PhotoURL=o?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidLicenceNumber:r,ValidType:l,ValidReleaseDate:s,ValidExpiryDate:i,ValidPhotoURL:o},(function(){a.setState({ValidForm:a.state.ValidLicenceNumber&&a.state.ValidType&&a.state.ValidReleaseDate&&a.state.ValidExpiryDate&&a.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{class:"modal",id:"edit-driving-licence-dialog",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"modal-header"},r.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),r.a.createElement("div",{class:"type-h3"},"Edit Driving Licence")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement(Ve,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"DrivingLicence"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Licence Number"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",name:"LicenceNumber",class:"form-control",autocomplete:"off",value:this.state.LicenceNumber,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.LicenceNumber)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Licence Type"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"Type",class:"form-control",autocomplete:"off",value:this.state.Type,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Type)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Release Date"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"date",name:"ReleaseDate",class:"form-control",autocomplete:"off",value:this.state.ReleaseDate,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.ReleaseDate)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Expiry Date"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"date",name:"ExpiryDate",class:"form-control",autocomplete:"off",value:this.state.ExpiryDate,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.ExpiryDate))))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{class:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnDismissDialog,ref:function(t){return e.cancelButton=t}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Update",class:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(n.Component),_e=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onDelete=function(){var e;return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({Preloader:r.a.createElement(be,null)}),e={Token:localStorage.getItem("userToken")},console.log("Going to delete Driving Licence."),t.next=5,P.a.awrap(q(e).then((function(e){"Driving Licence is deleted."===e.Message&&(localStorage.setItem("userToken",e.Token),a.props.OnDocumentsUpdated()),a.setState({Preloader:null})})));case 5:case"end":return t.stop()}}))},a.state={DrivingLicenceID:"",LicenceNumber:"",Type:"",ReleaseDate:"",ExpiryDate:"",PhotoURL:"./images/default_image.png",EditDrivingLicenceDialog:null,Preloader:null},a.onDelete=a.onDelete.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=h()(localStorage.userToken).DrivingLicence;if(e)return this.setState({DrivingLicenceID:e.DrivingLicenceID,LicenceNumber:e.LicenceNumber,Type:e.Type,ReleaseDate:e.ReleaseDate,ExpiryDate:e.ExpiryDate,PhotoURL:e.PhotoURL}),void console.log(this.state.ExpiryDate)}this.setState({DrivingLicenceID:"",LicenceNumber:"",Type:"",ReleaseDate:"",ExpiryDate:"",PhotoURL:"./images/default_image.png"})}},{key:"render",value:function(){var e=this;return r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#driving-licence-".concat(this.state.DrivingLicenceID)},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("i",{class:"glyph glyph-add"}),r.a.createElement("i",{class:"glyph glyph-remove"}),r.a.createElement("strong",null,this.props.Index)),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("img",{class:"img-responsive visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:this.state.PhotoURL,alt:"trailer.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"DRIVING LICENCE")),r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Licence Number:")," ",this.state.LicenceNumber),r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Licence Type:")," ",this.state.Type),r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Release Date:")," ",this.state.ReleaseDate),r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Expiry Date:")," ",this.state.ExpiryDate)))),r.a.createElement("div",{class:"collapse",id:"driving-licence-".concat(this.state.DrivingLicenceID)},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-18 col-md-offset-2"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block",src:this.state.PhotoURL,alt:"trailer.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{class:"col-md-4 text-right"},r.a.createElement("button",{type:"button",class:"btn btn-primary","data-toggle":"modal","data-target":"#edit-driving-licence-dialog",onMouseDown:function(){e.setState({EditDrivingLicenceDialog:r.a.createElement(Be,{OnDismissDialog:function(){e.setState({EditDrivingLicenceDialog:null})},OnDrivingLicenceUpdated:function(t){t.click(),e.props.OnDocumentsUpdated()}})})}},"Edit"),r.a.createElement("button",{type:"button",class:"btn btn-danger",onClick:function(t){e.onDelete()}},"Delete")))),this.state.Preloader,this.state.EditDrivingLicenceDialog)}}]),t}(n.Component),Ge=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.getItem("userToken"),EntryExitNumber:a.state.EntryExitNumber,Type:a.state.Type,ReleaseDate:a.state.ReleaseDate,NumberOfMonths:a.state.NumberOfMonths},console.log("Going to update Entry/Exit Card."),a.setState({Preloader:r.a.createElement(be,null)}),n.next=8,P.a.awrap(_(t).then((function(e){"Entry/Exit card is updated."===e.Message&&(localStorage.setItem("userToken",e.Token),a.props.OnOK(a.cancelButton)),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={EntryExitNumber:"",Type:"Simple",ReleaseDate:new Date,NumberOfMonths:"",ValidEntryExitNumber:!0,ValidReleaseDate:!0,ValidNumberOfMonths:!0,ValidForm:!1,Preloader:null,Errors:{EntryExitNumber:"",ReleaseDate:"",NumberOfMonths:""}},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a.validateField=a.validateField.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=h()(localStorage.userToken).EntryExitCard;if(e)return void this.setState({EntryExitNumber:e.EntryExitNumber,Type:e.Type,ReleaseDate:e.ReleaseDate,NumberOfMonths:e.NumberOfMonths})}this.setState({EntryExitNumber:"",Type:"Simple",ReleaseDate:new Date,NumberOfMonths:""})}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidEntryExitNumber,l=this.state.ValidReleaseDate,s=this.state.ValidNumberOfMonths;switch(e){case"EntryExitNumber":r=""!==t,n.EntryExitNumber=r?"":"Entry/exit number is required.";break;case"ReleaseDate":l=new Date(t).getTime()<=new Date,n.ReleaseDate=l?"":"Release date must not be later than today.";break;case"NumberOfMonths":if(s=""!==t,n.NumberOfMonths=s?"":"Number of months is required.",""!==n.NumberOfMonths)break;if(s=t>0,n.NumberOfMonths=s?"":"Number of months must be greater than 0.",""!==n.NumberOfMonths)break;var i=new Date(this.state.ReleaseDate),o=new Date(i.setMonth(i.getMonth()+t));s=o>new Date,n.NumberOfMonths=s?"":"Your card is expired if it is for ".concat(t," months. Your card might be expired on ").concat(o.toLocaleString())}this.setState({Errors:n,ValidEntryExitNumber:r,ValidReleaseDate:l,ValidNumberOfMonths:s},(function(){a.setState({ValidForm:a.state.ValidEntryExitNumber&&a.state.ValidReleaseDate&&a.state.ValidNumberOfMonths})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{class:"modal",id:"edit-entry-exit-card-dialog",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"modal-header"},r.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),r.a.createElement("div",{class:"type-h3"},"Edit Entry/Exit Card")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Entry/Exit Number"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",name:"EntryExitNumber",class:"form-control",autocomplete:"off",value:this.state.EntryExitNumber,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.EntryExitNumber)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Card Type"),r.a.createElement("br",null),r.a.createElement("div",{class:"dropdown",style:{width:"100%",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",class:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.Type),r.a.createElement("span",{class:"caret"})),r.a.createElement("ul",{class:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({Type:"Simple"}),e.validateField("","")}},"Simple")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({Type:"Multiple"}),e.validateField("","")}},"Multiple"))))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Release Date"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"date",name:"ReleaseDate",class:"form-control",autocomplete:"off",value:this.state.ReleaseDate,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.ReleaseDate)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Number of Months"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",name:"NumberOfMonths",class:"form-control",autocomplete:"off",value:this.state.NumberOfMonths,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.NumberOfMonths))))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{class:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Update",class:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(n.Component),Ye=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onDelete=function(){var e;return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({Preloader:r.a.createElement(be,null)}),e={Token:localStorage.getItem("userToken")},console.log("Going to delete Exit/Entry card."),t.next=5,P.a.awrap(G(e).then((function(e){"Entry/Exit card is deleted."===e.Message&&(localStorage.setItem("userToken",e.Token),a.props.OnDocumentsUpdated()),a.setState({Preloader:null})})));case 5:case"end":return t.stop()}}))},a.state={EntryExitCardID:"",EntryExitNumber:"",Type:"Simple",ReleaseDate:"",NumberOfMonths:"",EditEntryExitCardDialog:null,Preloader:null},a.onDelete=a.onDelete.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=h()(localStorage.userToken).EntryExitCard;if(e)return void this.setState({EntryExitCardID:e.EntryExitCardID,EntryExitNumber:e.EntryExitNumber,Type:e.Type,ReleaseDate:e.ReleaseDate,NumberOfMonths:e.NumberOfMonths})}this.setState({EntryExitCardID:"",EntryExitNumber:"",Type:"Simple",ReleaseDate:"",NumberOfMonths:""})}},{key:"render",value:function(){var e=this;return r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#entry-exit-card-".concat(this.state.EntryExitCardID)},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("i",{class:"glyph glyph-add"}),r.a.createElement("i",{class:"glyph glyph-remove"}),r.a.createElement("strong",null,this.props.Index)),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("img",{class:"img-responsive visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:"./images/default_image.png",alt:"trailer.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"ENTRY/EXIT CARD")),r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Entry/Exit Number:")," ",this.state.EntryExitNumber),r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Licence Type:")," ",this.state.Type),r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Release Date:")," ",this.state.ReleaseDate),r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Number of Months:")," ",this.state.NumberOfMonths)))),r.a.createElement("div",{class:"collapse",id:"entry-exit-card-".concat(this.state.EntryExitCardID)},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-18 col-md-offset-2"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block",src:"./images/default_image.png",alt:"trailer.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{class:"col-md-4 text-right"},r.a.createElement("button",{type:"button",class:"btn btn-primary","data-toggle":"modal","data-target":"#edit-entry-exit-card-dialog",onMouseDown:function(){e.setState({EditEntryExitCardDialog:r.a.createElement(Ge,{OnCancel:function(){e.setState({EditEntryExitCardDialog:null})},OnOK:function(t){t.click(),e.props.OnDocumentsUpdated()}})})}},"Edit"),r.a.createElement("button",{type:"button",class:"btn btn-danger",onClick:function(t){e.onDelete()}},"Delete")))),this.state.Preloader,this.state.EditEntryExitCardDialog)}}]),t}(n.Component),Qe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.getItem("userToken"),IDNumber:a.state.IDNumber,PhotoURL:a.state.PhotoURL},console.log("Going to update Identity Card."),a.setState({Preloader:r.a.createElement(be,null)}),n.next=8,P.a.awrap(Q(t).then((function(e){"Identity card is updated."===e.Message&&(localStorage.setItem("userToken",e.Token),a.props.OnOK(a.cancelButton)),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={IDNumber:"",PhotoURL:"./images/default_image.png",ValidIDNumber:!0,ValidPhotoURL:!0,ValidForm:!1,Preloader:null,Errors:{IDNumber:"",PhotoURL:""}},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a.validateField=a.validateField.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=h()(localStorage.userToken).IdentityCard;if(e)return void this.setState({IDNumber:e.IDNumber,PhotoURL:e.PhotoURL})}this.setState({IDNumber:"",PhotoURL:"./images/default_image.png"})}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidIDNumber,l=this.state.ValidPhotoURL;switch(e){case"IDNumber":if(r=""!==t,n.IDNumber=r?"":"ID number is required.",""!==n.IDNumber)break;r=t>=1e9&&t<=9999999999,n.IDNumber=r?"":"ID number must be 10-digits long.";break;case"PhotoURL":l=null!==t,n.PhotoURL=l?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidIDNumber:r,ValidPhotoURL:l},(function(){a.setState({ValidForm:a.state.ValidIDNumber&&a.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{class:"modal",id:"edit-identity-card-dialog",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"modal-header"},r.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),r.a.createElement("div",{class:"type-h3"},"Edit Identity Card")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement(Ve,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"IdentityCard"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"ID Number"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",name:"IDNumber",class:"form-control",autoComplete:"off",required:!0,value:this.state.IDNumber,onChange:this.onChange,min:"1000000000",max:"99999999999"}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.IDNumber))))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{class:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Update",class:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(n.Component),Xe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onDelete=function(){var e;return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({Preloader:r.a.createElement(be,null)}),e={Token:localStorage.getItem("userToken")},console.log("Going to delete Identity Card."),t.next=5,P.a.awrap(X(e).then((function(e){"Identity card is deleted."===e.Message&&(localStorage.setItem("userToken",e.Token),a.props.OnDocumentsUpdated()),a.setState({Preloader:null})})));case 5:case"end":return t.stop()}}))},a.state={IdentityCardID:"",IDNumber:"",PhotoURL:"./images/default_image.png",EditIdentityCardDialog:null,Preloader:null},a.onDelete=a.onDelete.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=h()(localStorage.userToken).IdentityCard;if(e)return void this.setState({IdentityCardID:e.IdentityCardID,IDNumber:e.IDNumber,PhotoURL:e.PhotoURL})}this.setState({IdentityCardID:"",IDNumber:"",PhotoURL:"./images/default_image.png"})}},{key:"render",value:function(){var e=this;return r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#identity-card-".concat(this.state.IdentityCardID)},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("i",{class:"glyph glyph-add"}),r.a.createElement("i",{class:"glyph glyph-remove"}),r.a.createElement("strong",null,this.props.Index)),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("img",{class:"img-responsive visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:this.state.PhotoURL,alt:"identity_card.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"IDENTITY CARD")),r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"ID Number:")," ",this.state.IDNumber)))),r.a.createElement("div",{class:"collapse",id:"identity-card-".concat(this.state.IdentityCardID)},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-18 col-md-offset-2"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block",src:this.state.PhotoURL,alt:"trailer.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{class:"col-md-4 text-right"},r.a.createElement("button",{type:"button",class:"btn btn-primary","data-toggle":"modal","data-target":"#edit-identity-card-dialog",onMouseDown:function(){e.setState({EditIdentityCardDialog:r.a.createElement(Qe,{OnCancel:function(){e.setState({EditIdentityCardDialog:null})},OnOK:function(t){t.click(),e.props.OnDocumentsUpdated()}})})}},"Edit"),r.a.createElement("button",{type:"button",class:"btn btn-danger",onClick:function(){e.onDelete()}},"Delete")))),this.state.Preloader,this.state.EditIdentityCardDialog)}}]),t}(n.Component),ze=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onDocumentsUpdated=function(){var e=h()(localStorage.userToken),t=0;e.DrivingLicence?a.setState({AddDrivingLicenceButton:null,DrivingLicenceListItem:r.a.createElement(_e,{Index:++t,OnDocumentsUpdated:a.onDocumentsUpdated})}):a.setState({AddDrivingLicenceButton:r.a.createElement(Fe,{OnDocumentsUpdated:a.onDocumentsUpdated}),DrivingLicenceListItem:null}),e.EntryExitCard?a.setState({AddEntryExitCardButton:null,EntryExitCardListItem:r.a.createElement(Ye,{Index:++t,OnDocumentsUpdated:a.onDocumentsUpdated})}):a.setState({AddEntryExitCardButton:r.a.createElement(We,{OnDocumentsUpdated:a.onDocumentsUpdated}),EntryExitCardListItem:null}),e.IdentityCard?a.setState({AddIdentityCardButton:null,IdentityCardListItem:r.a.createElement(Xe,{Index:++t,OnDocumentsUpdated:a.onDocumentsUpdated})}):a.setState({AddIdentityCardButton:r.a.createElement(qe,{OnDocumentsUpdated:a.onDocumentsUpdated}),IdentityCardListItem:null})},a.state={AddDrivingLicenceButton:null,AddEntryExitCardButton:null,AddIdentityCardButton:null,DrivingLicenceListItem:null,EntryExitCardListItem:null,IdentityCardListItem:null},a.onDocumentsUpdated=a.onDocumentsUpdated.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.onDocumentsUpdated()}},{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),r.a.createElement("div",{class:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Documents"),r.a.createElement("div",{style:{padding:"10px",backgroundColor:"#E5E5E5"}},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-18 col-md-offset-2"}),r.a.createElement("div",{class:"col-md-4 text-right"},this.state.AddDrivingLicenceButton,this.state.AddEntryExitCardButton,this.state.AddIdentityCardButton))),r.a.createElement("ol",{class:"list-items",style:{margin:"0px"}},this.state.DrivingLicenceListItem,this.state.EntryExitCardListItem,this.state.IdentityCardListItem))}}]),t}(n.Component),Ke=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onImageUploaded=function(t){t?e.setState({WarningAlert:r.a.createElement(Ie,{Message:t,OnClose:e.onImageUploaded})}):e.setState({WarningAlert:null})},e.state={Username:"",Password:"",Email:"",FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:"",WarningAlert:null,Errors:{}},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=h()(localStorage.userToken);this.setState({Username:e.Username,Password:e.Password,Email:e.Email,FirstName:e.FirstName,LastName:e.LastName,DateOfBirth:e.DateOfBirth,Gender:e.Gender,Address:e.Address,PhoneNumber:e.PhoneNumber,Nationality:e.Nationality})}else this.setState({Username:"",Password:"",Email:"",FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:""})}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.WarningAlert,r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group",style:{marginBottom:"5px"}},r.a.createElement(je,{OnImageUploaded:this.onImageUploaded}))),r.a.createElement("div",{className:"col-md-18"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},this.state.FirstName+" "+this.state.LastName),r.a.createElement("div",{className:"type-sh3"},r.a.createElement("span",{className:"fas fa-car"}),"   Driver"),r.a.createElement("div",null,r.a.createElement("ol",{className:"list-items theme-alt"},r.a.createElement("li",{className:"list-items-row"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{className:"fas fa-at",style:{color:"#008575"}}))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("a",{style:{textDecoration:"none"}},"Username:")),r.a.createElement("div",{className:"col-md-6"},this.state.Username))),r.a.createElement("li",{className:"list-items-row"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{className:"fas fa-envelope",style:{color:"#008575"}}))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("a",{style:{textDecoration:"none"}},"Email:")),r.a.createElement("div",{className:"col-md-6"},this.state.Email))),r.a.createElement("li",{className:"list-items-row"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{className:"fas fa-phone",style:{color:"#008575"}}))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("a",{style:{textDecoration:"none"}},"Phone Number:")),r.a.createElement("div",{className:"col-md-6"},this.state.PhoneNumber))))))))),r.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#00221E"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"type-h3",style:{paddingTop:"10px"}},"Details"),r.a.createElement("ol",{className:"list-items theme-alt"},r.a.createElement("li",{className:"list-items-row"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{className:"fas fa-birthday-cake",style:{color:"#008575"}}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("a",{style:{textDecoration:"none"}},"Date of Birth:")),r.a.createElement("div",{className:"col-md-4"},this.state.DateOfBirth))),r.a.createElement("li",{className:"list-items-row"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},"Male"===this.state.Gender&&r.a.createElement("strong",null,r.a.createElement("span",{className:"fas fa-male",style:{color:"#008575"}})),"Female"===this.state.Gender&&r.a.createElement("strong",null,r.a.createElement("span",{className:"fas fa-female",style:{color:"#008575"}}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("a",{style:{textDecoration:"none"}},"Gender:")),r.a.createElement("div",{className:"col-md-4"},this.state.Gender))),r.a.createElement("li",{className:"list-items-row"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{className:"fas fa-flag",style:{color:"#008575"}}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("a",{style:{textDecoration:"none"}},"Nationality:")),r.a.createElement("div",{className:"col-md-4"},this.state.Nationality))),r.a.createElement("li",{className:"list-items-row"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{className:"fas fa-map-marker",style:{color:"#008575"}}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("a",{style:{textDecoration:"none"}},"Address:")),r.a.createElement("div",{className:"col-md-4"},this.state.Address)))))))),r.a.createElement(ze,null),this.state.AddDrivingLicenceDialog)}}]),t}(n.Component),He=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(C.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),e.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.getItem("userToken"),PlateNumber:e.state.PlateNumber,Owner:e.state.Owner,ProductionYear:e.state.ProductionYear,Brand:e.state.Brand,Model:e.state.Model,Type:e.state.Type,MaximumWeight:e.state.MaximumWeight},e.setState({Preloader:r.a.createElement(be,null)}),n.next=7,P.a.awrap(V(a).then((function(t){"Truck is updated in database."===t.Message&&(localStorage.setItem("userToken",t.Token),e.setState({Preloader:null}),e.props.OnTruckSettingsUpdated())})));case 7:case"end":return n.stop()}}))},e.state={PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:"",ValidPlateNumber:!0,ValidOwner:!0,ValidProductionYear:!0,ValidBrand:!0,ValidModel:!0,ValidType:!0,ValidMaximumWeight:!0,ValidForm:!1,Preloader:null,Errors:{PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:""}},e.onChange=e.onChange.bind(Object(g.a)(e)),e.onSubmit=e.onSubmit.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=h()(localStorage.userToken).Truck;this.setState({PlateNumber:e.PlateNumber,Owner:e.Owner,ProductionYear:e.ProductionYear,Brand:e.Brand,Model:e.Model,Type:e.Type,MaximumWeight:e.MaximumWeight})}else this.setState({PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:""})}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidPlateNumber,l=this.state.ValidOwner,s=this.state.ValidProductionYear,i=this.state.ValidBrand,o=this.state.ValidModel,c=this.state.ValidType,m=this.state.MaximumWeight;switch(e){case"PlateNumber":r=""!==t&&t>=1&&t<=999,n.PlateNumber=r?"":"Plate Number must be between 001 and 999.";break;case"Owner":l=""!==t,n.Owner=l?"":"Owner is required.";break;case"ProductionYear":var d=(new Date).getFullYear();s=""!==t&&t>=2e3&&t<=d,n.ProductionYear=s?"":"Production Year must be between 2000 and ".concat(d);break;case"Brand":i=""!==t,n.Brand=i?"":"Brand is required.";break;case"Model":o=""!==t,n.Model=o?"":"Model is required.";break;case"Type":c=""!==t,n.Type=c?"":"Type is required";break;case"MaximumWeight":if(m=""!==t,n.MaximumWeight=m?"":"Maximum Weight is required.",""!==n.MaximumWeight)break;m=t>=700,n.MaximumWeight=m?"":"Maximum weight must be greater than 699."}this.setState({Errors:n,ValidPlateNumber:r,ValidOwner:l,ValidProductionYear:s,ValidBrand:i,ValidModel:o,ValidType:c,ValidMaximumWeight:m},(function(){a.setState({ValidForm:a.state.ValidPlateNumber&&a.state.ValidOwner&&a.state.ValidProductionYear&&a.state.ValidBrand&&a.state.ValidModel&&a.state.ValidType&&a.state.MaximumWeight})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),r.a.createElement("div",{class:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Truck Settings"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"entity-list entity-list-expandable"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-list-ol"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"number",name:"PlateNumber",class:"form-control",autocomplete:"off",value:this.state.PlateNumber,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Plate Number"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.PlateNumber))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-user"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",name:"Owner",class:"form-control",autocomplete:"off",value:this.state.Owner,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Owner"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.Owner))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-calendar-day"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"number",name:"ProductionYear",class:"form-control",autocomplete:"off",value:this.state.ProductionYear,onChange:this.onChange,placeholder:"XXXX"}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Production Year"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.ProductionYear))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-copyright"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",name:"Brand",class:"form-control",autocomplete:"off",value:this.state.Brand,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Brand"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.Brand))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-list-ol"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",name:"Model",class:"form-control",autocomplete:"off",value:this.state.Model,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Truck Model"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.Model))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-cog"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",name:"Type",class:"form-control",autocomplete:"off",value:this.state.Type,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Truck Type"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.Type))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-weight"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"number",name:"MaximumWeight",class:"form-control",autocomplete:"off",value:this.state.MaximumWeight,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Maximum Weight (GVW)"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.MaximumWeight))),r.a.createElement("div",{class:"entity-list-item active"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-save"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Save Changes?"),r.a.createElement("div",{class:"content-text-secondary"},"This cannot be undone.")),r.a.createElement("div",{class:"item-content-expanded"},r.a.createElement("input",{type:"submit",value:"Save",class:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.Preloader)}}]),t}(n.Component),$e=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n),(function(){a.validateField(t,n)}))},a.onInvalidImageSelected=function(){a.validateField("PhotoURL",null)},a.onImageUploaded=function(e){"Image uploaded successfully."===e.message?(a.setState({PhotoURL:e.imageUrl}),a.validateField("PhotoURL",a.state.PhotoURL)):a.validateField("PhotoURL",null)},a.onSubmit=function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.getItem("userToken"),MaximumWeight:a.state.MaximumWeight,PhotoURL:a.state.PhotoURL,Type:a.state.Type},console.log("Going to add the trailer."),a.setState({Preloader:r.a.createElement(be,null)}),n.next=8,P.a.awrap(A(t).then((function(e){"Trailer is added."===e.Message&&(localStorage.setItem("userToken",e.Token),a.props.OnTrailerAdded(a.cancelButton)),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={MaximumWeight:"",PhotoURL:"./images/default_image.png",ImageCategory:"Trailer-1",Type:"",ValidMaximumWeight:!1,ValidPhotoURL:!1,ValidType:!1,ValidForm:!1,Preloader:null,Errors:{MaximumWeight:"",PhotoURL:"",Type:""}},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a.validateField=a.validateField.bind(Object(g.a)(a)),a.onInvalidImageSelected=a.onInvalidImageSelected.bind(Object(g.a)(a)),a.onImageUploaded=a.onImageUploaded.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=h()(localStorage.userToken).Truck.Trailers;e?this.setState({ImageCategory:"Trailer-".concat(e.length+1)}):this.setState({ImageCategory:"Trailer-1"})}}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidMaximumWeight,l=this.state.ValidPhotoURL,s=this.state.ValidType;switch(e){case"MaximumWeight":if(r=""!==t,n.MaximumWeight=r?"":"Maximum Weight is required.",""!==n.MaximumWeight)break;r=t>=700,n.MaximumWeight=r?"":"Maximum weight must be greater than 699.";break;case"PhotoURL":l=null!==t,n.PhotoURL=l?"":"Invalid Image. Please upload a correct one.";break;case"Type":s=""!==t,n.Type=s?"":"Type is required."}this.setState({Errors:n,ValidMaximumWeight:r,ValidPhotoURL:l,ValidType:s},(function(){a.setState({ValidForm:a.state.ValidMaximumWeight&&a.state.ValidPhotoURL&&a.state.ValidType})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{class:"modal",id:"add-trailer-dialog",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"modal-header"},r.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),r.a.createElement("div",{class:"type-h3"},"New Trailer")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement(Ve,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:this.onImageUploaded,OnInvalidImageSelected:this.onInvalidImageSelected,ImageCategory:this.state.ImageCategory})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Maximum Weight (GVW)"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",name:"MaximumWeight",class:"form-control",autocomplete:"off",value:this.state.MaximumWeight,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.MaximumWeight)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Trailer Type"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"Type",class:"form-control",autocomplete:"off",value:this.state.Type,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Type))))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{class:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnAddTrailerDialogRemove,ref:function(t){return e.cancelButton=t}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Add",class:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(n.Component),Ze=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onAddTrailerDialogCreate=function(){a.setState({AddTrailerDialog:r.a.createElement($e,{OnAddTrailerDialogRemove:a.onAddTruckDialogRemove,OnTrailerAdded:a.onTrailerAdded})})},a.onAddTrailerDialogRemove=function(){a.setState({AddTrailerDialog:null})},a.onTrailerAdded=function(e){e.click(),a.props.OnTruckUpdated()},a.state={AddTrailerDialog:null},a.onAddTrailerDialogCreate=a.onAddTrailerDialogCreate.bind(Object(g.a)(a)),a.onAddTrailerDialogRemove=a.onAddTrailerDialogRemove.bind(Object(g.a)(a)),a.onTrailerAdded=a.onTrailerAdded.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"jumbotron theme-dark"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-24 text-center"},r.a.createElement("img",{src:"./images/trailer.png",alt:"trailer.png",height:"50"}),r.a.createElement("h3",{style:{paddingTop:"5px"}},"Trailers"),r.a.createElement("div",{class:"type-sh3"},"Your Truck is All Set Up"),r.a.createElement("div",{class:"col-md-12 col-md-offset-6"},r.a.createElement("div",{class:"type-p3"},"RECOMMENDED: Since your truck is all set up, you're good to go for adding up to TWO trailers to it."),r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",class:"btn btn-secondary","data-toggle":"modal","data-target":"#add-trailer-dialog",onMouseDown:this.onAddTrailerDialogCreate},"Add Trailer")))))),this.state.AddTrailerDialog)}}]),t}(n.Component),et=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n),(function(){a.validateField(t,n)}))},a.onInvalidImageSelected=function(){a.validateField("PhotoURL",null)},a.onImageUploaded=function(e){"Image uploaded successfully."===e.message?(a.setState({PhotoURL:e.imageUrl}),a.validateField("PhotoURL",a.state.PhotoURL)):a.validateField("PhotoURL",null)},a.onSubmit=function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.getItem("userToken"),TrailerID:a.props.Trailer.TrailerID,MaximumWeight:a.state.MaximumWeight,PhotoURL:a.state.PhotoURL,Type:a.state.Type},console.log(t),console.log("Updating trailer now."),a.setState({Preloader:r.a.createElement(be,null)}),n.next=9,P.a.awrap(M(t).then((function(e){"Trailer is updated."===e.Message&&(localStorage.setItem("userToken",e.Token),a.props.OnTrailerUpdated(a.cancelButton)),a.setState({Preloader:null})})));case 9:case"end":return n.stop()}}))},a.state={MaximumWeight:a.props.Trailer.MaximumWeight,PhotoURL:a.props.Trailer.PhotoURL,Type:a.props.Trailer.Type,ImageCategory:"Trailer-".concat(a.props.dialogID+1),ValidMaximumWeight:!0,ValidPhotoURL:!0,ValidType:!0,ValidForm:!1,Preloader:null,Errors:{MaximumWeight:"",PhotoURL:"",Type:""}},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a.validateField=a.validateField.bind(Object(g.a)(a)),a.onInvalidImageSelected=a.onInvalidImageSelected.bind(Object(g.a)(a)),a.onImageUploaded=a.onImageUploaded.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidMaximumWeight,l=this.state.ValidPhotoURL,s=this.state.ValidType;switch(e){case"MaximumWeight":if(r=""!==t,n.MaximumWeight=r?"":"Maximum Weight is required.",""!==n.MaximumWeight)break;r=t>=700,n.MaximumWeight=r?"":"Maximum weight must be greater than 699.";break;case"PhotoURL":l=null!==t,n.PhotoURL=l?"":"Invalid Image. Please upload a correct one.";break;case"Type":s=""!==t,n.Type=s?"":"Type is required."}this.setState({Errors:n,ValidMaximumWeight:r,ValidPhotoURL:l,ValidType:s},(function(){a.setState({ValidForm:a.state.ValidMaximumWeight&&a.state.ValidPhotoURL&&a.state.ValidType})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{class:"modal",id:"edit-trailer-dialog".concat(this.props.dialogID),tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"modal-header"},r.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),r.a.createElement("div",{class:"type-h3"},"Edit Trailer")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement(Ve,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:this.onImageUploaded,OnInvalidImageSelected:this.onInvalidImageSelected,ImageCategory:this.state.ImageCategory})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Maximum Weight (GVW)"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",name:"MaximumWeight",class:"form-control",autocomplete:"off",value:this.state.MaximumWeight,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.MaximumWeight)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Trailer Type"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"Type",class:"form-control",autocomplete:"off",value:this.state.Type,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Type))))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{class:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnEditTrailerDialogRemove,ref:function(t){return e.cancelButton=t}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Update",class:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(n.Component),tt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onDelete=function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({Preloader:r.a.createElement(be,null)}),t={Token:localStorage.getItem("userToken"),TrailerID:a.state.Trailers[e].TrailerID},console.log("Going to delete Trailers[".concat(e,"]")),n.next=5,P.a.awrap(F(t).then((function(e){"Trailer is deleted."===e.Message&&(localStorage.setItem("userToken",e.Token),a.props.OnTrailersUpdated()),a.setState({Preloader:null})})));case 5:case"end":return n.stop()}}))},a.state={Trailers:[],EditTrailerDialogs:[],Preloader:null},a.onDelete=a.onDelete.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=h()(localStorage.userToken).Truck.Trailers;console.log(e),this.setState({Trailers:e})}else this.setState({Trailers:[]})}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{class:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Trailers"),r.a.createElement("ol",{class:"list-items",style:{margin:"0px"}},this.state.Trailers.map((function(t,a){return r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#".concat(t.TrailerID)},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("i",{class:"glyph glyph-add"}),r.a.createElement("i",{class:"glyph glyph-remove"}),r.a.createElement("strong",null,a+1)),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("img",{class:"img-responsive visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:t.PhotoURL,alt:"trailer.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Maximum Weight (GVM):")," ",t.MaximumWeight),r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Trailer Type:")," ",t.Type)),r.a.createElement("div",{class:"col-md-6"}))),r.a.createElement("div",{class:"collapse",id:t.TrailerID},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-18 col-md-offset-2"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block",src:t.PhotoURL,alt:"trailer.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{class:"col-md-4 text-right"},r.a.createElement("button",{type:"button",class:"btn btn-primary","data-toggle":"modal","data-target":"#edit-trailer-dialog".concat(a),onMouseDown:function(){var n=e.state.EditTrailerDialogs;n[a]=r.a.createElement(et,{dialogID:a,Trailer:t,OnEditTrailerDialogRemove:function(){var t=e.state.EditTrailerDialogs;t[a]=null,e.setState({EditTrailerDialogs:t})},OnTrailerUpdated:function(t){t.click(),e.props.OnTrailersUpdated()}}),e.setState({EditTrailerDialogs:n})}},"Edit"),r.a.createElement("button",{type:"button",class:"btn btn-danger",onClick:function(t){e.onDelete(a)}},"Delete")))),e.state.EditTrailerDialogs[a])}))),this.state.Preloader)}}]),t}(n.Component),at=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onInvalidImageSelected=function(){},e.onImageUploaded=function(t){var a;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("Image uploaded successfully."!==t.message){n.next=4;break}return a={Token:localStorage.getItem("userToken"),PhotoURL:t.imageUrl},n.next=4,P.a.awrap(I(a).then((function(t){"Truck photo updated."===t.Message&&(localStorage.setItem("userToken",t.Token),e.props.OnTruckUpdated())})));case 4:case"end":return n.stop()}}))},e.onTrailersUpdated=function(){var t=h()(localStorage.userToken).Truck.Trailers;e.setState({AddTrailer:null,TrailersList:null}),t.length<2&&e.setState({AddTrailer:r.a.createElement(Ze,{OnTruckUpdated:e.props.OnTruckUpdated})}),t.length>0&&e.setState({TrailersList:r.a.createElement(tt,{OnTrailerDeleted:e.onTrailerDeleted})})},e.state={PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:"",PhotoURL:"./images/default_image.png",AddTrailer:null,TrailersList:null},e.onInvalidImageSelected=e.onInvalidImageSelected.bind(Object(g.a)(e)),e.onImageUploaded=e.onImageUploaded.bind(Object(g.a)(e)),e.onTrailersUpdated=e.onTrailersUpdated.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=h()(localStorage.userToken).Truck;this.setState({PlateNumber:e.PlateNumber,Owner:e.Owner,ProductionYear:e.ProductionYear,Brand:e.Brand,Model:e.Model,Type:e.Type,MaximumWeight:e.MaximumWeight,PhotoURL:e.PhotoURL}),e.Trailers.length<2&&this.setState({AddTrailer:r.a.createElement(Ze,{OnTruckUpdated:this.props.OnTruckUpdated})}),e.Trailers.length>0&&this.setState({TrailersList:r.a.createElement(tt,{OnTrailersUpdated:this.onTrailersUpdated})})}else this.setState({PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:"",PhotoURL:"./images/default_image.png",AddTrailer:null,TrailersList:null})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"jumbotron theme-default"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement(Ve,{Source:this.state.PhotoURL,Height:"200px",Width:"200px",OnImageUploaded:this.onImageUploaded,OnInvalidImageSelected:this.onInvalidImageSelected,ImageCategory:"Truck"})),r.a.createElement("div",{class:"col-md-18"},r.a.createElement("div",{class:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"".concat(this.state.Brand," ").concat(this.state.Model)),r.a.createElement("div",{class:"type-sh3"},r.a.createElement("span",{class:"fas fa-truck"}),"   ",this.state.Type),r.a.createElement("div",null,r.a.createElement("ol",{class:"list-items theme-alt"},r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fas fa-list-ol",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("a",{href:"",style:{textDecoration:"none"}},"Plate Number:")),r.a.createElement("div",{class:"col-md-6"},this.state.PlateNumber))),r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fas fa-calendar-day",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("a",{style:{textDecoration:"none"}},"Production Year:")),r.a.createElement("div",{class:"col-md-6"},this.state.ProductionYear))),r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fas fa-weight",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("a",{style:{textDecoration:"none"}},"Maximum Weight:")),r.a.createElement("div",{class:"col-md-6"},"".concat(this.state.MaximumWeight," GVW")))))))))),r.a.createElement(He,{OnTruckSettingsUpdated:this.props.OnTruckUpdated}),this.state.AddTrailer,this.state.TrailersList)}}]),t}(n.Component),nt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={Show:a.props.Show,Message:a.props.Message},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"modal in",style:this.state.Show?{display:"block",paddingRight:"17px"}:{display:"none",paddingRight:"17px"}},r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content animated fadeIn"},r.a.createElement("div",{class:"modal-body text-justify"},this.state.Message),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-info",onClick:function(t){e.setState({Show:!1})}},"Ok")))))}}]),t}(n.Component),rt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n),(function(){a.validateField(t,n)}))},a.onInvalidImageSelected=function(){a.validateField("PhotoURL",null)},a.onImageUploaded=function(e){"Image uploaded successfully."===e.message?(a.setState({PhotoURL:e.imageUrl}),a.validateField("PhotoURL",a.state.PhotoURL)):a.validateField("PhotoURL",null)},a.onSubmit=function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.getItem("userToken"),PlateNumber:a.state.PlateNumber,Owner:a.state.Owner,ProductionYear:a.state.ProductionYear,Brand:a.state.Brand,Model:a.state.Model,Type:a.state.Type,MaximumWeight:a.state.MaximumWeight,PhotoURL:a.state.PhotoURL},n.next=6,P.a.awrap(j(t).then((function(e){"Driver's truck is added."===e.Message?(localStorage.setItem("userToken",e.Token),a.props.OnAddTruckDialogRemove()):a.setState({MessageBox:r.a.createElement(nt,{Message:"Truck Not Added.",Show:!0})})})));case 6:case"end":return n.stop()}}))},a.state={PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:"",PhotoURL:"./images/default_image.png",ValidPlateNumber:!1,ValidOwner:!1,ValidProductionYear:!1,ValidBrand:!1,ValidModel:!1,ValidType:!1,ValidMaximumWeight:!1,ValidPhotoURL:!1,ValidForm:!1,MessageBox:null,Errors:{PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:"",PhotoURL:""}},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a.validateField=a.validateField.bind(Object(g.a)(a)),a.onInvalidImageSelected=a.onInvalidImageSelected.bind(Object(g.a)(a)),a.onImageUploaded=a.onImageUploaded.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidPlateNumber,l=this.state.ValidOwner,s=this.state.ValidProductionYear,i=this.state.ValidBrand,o=this.state.ValidModel,c=this.state.ValidType,m=this.state.ValidMaximumWeight,d=this.state.ValidPhotoURL;switch(e){case"PlateNumber":if(r=""!==t,n.PlateNumber=r?"":"Plate number is required.",""!==n.IDNumber)break;r=t>=100&&t<=999,n.PlateNumber=r?"":"Plate number must be 3-digits long.";break;case"Owner":l=""!==t,n.Owner=l?"":"Owner is required.";break;case"ProductionYear":var u=(new Date).getFullYear();s=""!==t&&t>=2e3&&t<=u,n.ProductionYear=s?"":"Production Year must be between 2000 and ".concat(u);break;case"Brand":i=""!==t,n.Brand=i?"":"Brand is required.";break;case"Model":o=""!==t,n.Model=o?"":"Model is required.";break;case"Type":c=""!==t,n.Type=c?"":"Type is required";break;case"MaximumWeight":if(m=""!==t,n.MaximumWeight=m?"":"Maximum Weight is required.",""!==n.MaximumWeight)break;m=t>=700,n.MaximumWeight=m?"":"Maximum weight must be greater than 699.";break;case"PhotoURL":d=null!==t,n.PhotoURL=d?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidPlateNumber:r,ValidOwner:l,ValidProductionYear:s,ValidBrand:i,ValidModel:o,ValidType:c,ValidMaximumWeight:m,ValidPhotoURL:d},(function(){a.setState({ValidForm:a.state.ValidPlateNumber&&a.state.ValidOwner&&a.state.ValidProductionYear&&a.state.ValidBrand&&a.state.ValidModel&&a.state.ValidType&&a.state.ValidMaximumWeight&&a.state.ValidPhotoURL})}))}},{key:"render",value:function(){return r.a.createElement("div",{class:"modal",id:"add-truck-dialog",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("p",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"modal-header"},r.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),r.a.createElement("div",{class:"type-h3"},"New Truck"),r.a.createElement("div",{class:"type-sh3"},"These detials will be displayed on your profile.")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement(Ve,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:this.onImageUploaded,OnInvalidImageSelected:this.onInvalidImageSelected,ImageCategory:"Truck"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Plate Number"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",name:"PlateNumber",class:"form-control",autocomplete:"off",value:this.state.PlateNumber,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.PlateNumber)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Owner"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"Owner",class:"form-control",autocomplete:"off",value:this.state.Owner,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Owner)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Production Year"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",name:"ProductionYear",class:"form-control",autocomplete:"off",value:this.state.ProductionYear,onChange:this.onChange,placeholder:"XXXX"}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.ProductionYear)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Brand"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"Brand",class:"form-control",autocomplete:"off",value:this.state.Brand,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Brand)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Truck Model"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"Model",class:"form-control",autocomplete:"off",value:this.state.Model,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Model)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Truck Type"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"Type",class:"form-control",autocomplete:"off",value:this.state.Type,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Type)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Maximum Weight (GVW)"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",name:"MaximumWeight",class:"form-control",autocomplete:"off",value:this.state.MaximumWeight,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.MaximumWeight))))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{class:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnAddTruckDialogRemove},"Cancel"),r.a.createElement("input",{type:"submit",value:"Add",class:"btn btn-primary",disabled:!this.state.ValidForm})))))),this.state.MessageBox)}}]),t}(n.Component),lt=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onAddTruckDialogRemove=function(){e.setState({AddTruck:null})},e.onAddTruckDialogCreate=function(){e.setState({AddTruck:r.a.createElement(rt,{Show:!0,OnAddTruckDialogRemove:e.onAddTruckDialogRemove})})},e.state={AddTruck:null},e.onAddTruckDialogCreate=e.onAddTruckDialogCreate.bind(Object(g.a)(e)),e.onAddTruckDialogRemove=e.onAddTruckDialogRemove.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){h()(localStorage.userToken).Truck&&this.props.OnTruckUpdated()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"jumbotron theme-alt",style:{width:"100%",backgroundColor:"#202020"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"add_truck.png",src:"./images/add_truck.png","data-source-index":"2"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3"},"Truck Management"),r.a.createElement("div",{class:"type-sh3"},"You have not added any truck yet."),r.a.createElement("p",null,"Adding your truck will let the Traders or Brokers see details about your truck. Valid and complete details of your truck make more chances for you to receive job requests."),r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",class:"btn btn-primary btn-lg","data-toggle":"modal","data-target":"#add-truck-dialog",onMouseDown:this.onAddTruckDialogCreate},"Add Now")))))),this.state.AddTruck)}}]),t}(n.Component),st=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onTruckUpdated=function(){h()(localStorage.userToken).Truck?(a.setState({Truck:null}),a.setState({Truck:r.a.createElement(at,{OnTruckUpdated:a.onTruckUpdated})})):(a.setState({Truck:null}),a.setState({Truck:r.a.createElement(lt,{OnTruckUpdated:a.onTruckUpdated})}))},a.state={Truck:r.a.createElement(lt,{OnTruckUpdated:a.onTruckUpdated})},a.onTruckUpdated=a.onTruckUpdated.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){localStorage.userToken&&(h()(localStorage.userToken).Truck&&this.setState({Truck:r.a.createElement(at,{OnTruckUpdated:this.onTruckUpdated})}))}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.Truck)}}]),t}(n.Component),it=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.getItem("userToken"),PermitNumber:a.state.PermitNumber,ExpiryDate:a.state.ExpiryDate,PhotoURL:a.state.PhotoURL,Code:a.state.Code,Place:a.state.Place},console.log("Going to add Permit Licence."),a.setState({Preloader:r.a.createElement(be,null)}),n.next=8,P.a.awrap(z(t).then((function(e){"Permit Licence is added."===e.Message&&(localStorage.setItem("userToken",e.Token),a.props.OnOK(a.cancelButton)),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={PermitNumber:"",ExpiryDate:new Date,PhotoURL:"./images/default_image.png",Code:"",Place:"",ValidPermitNumber:!1,ValidExpiryDate:!1,ValidPhotoURL:!1,ValidCode:!1,ValidPlace:!1,ValidForm:!1,Preloader:null,Errors:{PermitNumber:"",ExpiryDate:"",PhotoURL:"",Code:"",Place:""}},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a.validateField=a.validateField.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidPermitNumber,l=this.state.ValidExpiryDate,s=this.state.ValidPhotoURL,i=this.state.ValidCode,o=this.state.ValidPlace;switch(e){case"PermitNumber":if(r=""!==t,n.PermitNumber=r?"":"Permit number is required.",""!==n.PermitNumber)break;r=""!==t,n.PermitNumber=r?"":"Permit number is required.";break;case"ExpiryDate":l=new Date(t).getTime()>=(new Date).getTime(),n.ExpiryDate=l?"":"Expiry Date must be later than yesterday.";break;case"PhotoURL":s=null!==t,n.PhotoURL=s?"":"Invalid Image. Please upload a correct one.";break;case"Code":i=""!==t,n.Code=i?"":"Permit code is required.";break;case"Place":o=""!==t,n.Place=o?"":"Permit place is required."}this.setState({Errors:n,ValidPermitNumber:r,ValidExpiryDate:l,ValidPhotoURL:s,ValidCode:i,ValidPlace:o},(function(){a.setState({ValidForm:a.state.ValidPermitNumber&&a.state.ValidExpiryDate&&a.state.ValidPhotoURL&&a.state.ValidCode&&a.state.ValidPlace})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{class:"text-left"},r.a.createElement("div",{class:"modal",id:"add-permit-licence-dialog",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"modal-header"},r.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),r.a.createElement("div",{class:"type-h3"},"Add Permit Licence")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement(Ve,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)}})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Permit Number"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",name:"PermitNumber",class:"form-control",autoComplete:"off",value:this.state.PermitNumber,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.PermitNumber)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Expiry Date"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"date",name:"ExpiryDate",class:"form-control",autoComplete:"off",value:this.state.ExpiryDate,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.ExpiryDate)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Permit Code"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"Code",class:"form-control",autoComplete:"off",value:this.state.Code,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Code)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Permit Place"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"Place",class:"form-control",autoComplete:"off",value:this.state.Place,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Place))))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{class:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Add",class:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(n.Component),ot=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.getItem("userToken"),PermitLicenceID:a.props.PermitLicence.PermitLicenceID,PermitNumber:a.state.PermitNumber,ExpiryDate:a.state.ExpiryDate,PhotoURL:a.state.PhotoURL,Code:a.state.Code,Place:a.state.Place},console.log("Going to update Permit Licence."),a.setState({Preloader:r.a.createElement(be,null)}),n.next=8,P.a.awrap(H(t).then((function(e){"Permit Licence is updated."===e.Message&&(localStorage.setItem("userToken",e.Token),a.props.OnOK(a.cancelButton)),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={PermitNumber:a.props.PermitLicence.PermitNumber,ExpiryDate:a.props.PermitLicence.ExpiryDate,PhotoURL:a.props.PermitLicence.PhotoURL,Code:a.props.PermitLicence.Code,Place:a.props.PermitLicence.Place,ValidPermitNumber:!0,ValidExpiryDate:!0,ValidPhotoURL:!0,ValidCode:!0,ValidPlace:!0,ValidForm:!1,Preloader:null,Errors:{PermitNumber:"",ExpiryDate:"",PhotoURL:"",Code:"",Place:""}},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a.validateField=a.validateField.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidPermitNumber,l=this.state.ValidExpiryDate,s=this.state.ValidPhotoURL,i=this.state.ValidCode,o=this.state.ValidPlace;switch(e){case"PermitNumber":r=""!==t,n.PermitNumber=r?"":"Permit number is required.";break;case"ExpiryDate":l=new Date(t).getTime()>=(new Date).getTime(),n.ExpiryDate=l?"":"Expiry Date must be later than yesterday.";break;case"PhotoURL":s=null!==t,n.PhotoURL=s?"":"Invalid Image. Please upload a correct one.";break;case"Code":i=""!==t,n.Code=i?"":"Permit code is required.";break;case"Place":o=""!==t,n.Place=o?"":"Permit place is required."}this.setState({Errors:n,ValidPermitNumber:r,ValidExpiryDate:l,ValidPhotoURL:s,ValidCode:i,ValidPlace:o},(function(){a.setState({ValidForm:a.state.ValidPermitNumber&&a.state.ValidExpiryDate&&a.state.ValidPhotoURL&&a.state.ValidCode&&a.state.ValidPlace})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{class:"text-left"},r.a.createElement("div",{class:"modal",id:"edit-permit-dialog".concat(this.props.DialogID),tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"modal-header"},r.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),r.a.createElement("div",{class:"type-h3"},"Add Permit Licence")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement(Ve,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)}})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Permit Number"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",name:"PermitNumber",class:"form-control",autoComplete:"off",value:this.state.PermitNumber,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.PermitNumber)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Expiry Date"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"date",name:"ExpiryDate",class:"form-control",autoComplete:"off",value:this.state.ExpiryDate,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.ExpiryDate)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Permit Code"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"Code",class:"form-control",autoComplete:"off",value:this.state.Code,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Code)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Permit Place"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"Place",class:"form-control",autoComplete:"off",value:this.state.Place,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Place))))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{class:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Update",class:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(n.Component),ct=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onDelete=function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({Preloader:r.a.createElement(be,null)}),t={Token:localStorage.getItem("userToken"),PermitLicenceID:a.state.PermitLicences[e].PermitLicenceID},console.log("Going to delete PermitLicences[".concat(e,"]")),n.next=5,P.a.awrap(K(t).then((function(e){"Permit Licence is deleted."===e.Message&&(localStorage.setItem("userToken",e.Token),a.props.OnPermitLicencesUpdated()),a.setState({Preloader:null})})));case 5:case"end":return n.stop()}}))},a.getPermitLicences=function(){if(localStorage.userToken){var e=h()(localStorage.userToken).PermitLicences;a.setState({PermitLicences:e})}else a.setState({PermitLicences:[]})},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n))},a.onSearch=function(e){if(e.preventDefault(),""!==a.state.SearchString){for(var t=[],n=0;n<a.state.PermitLicences.length;n++)a.state.PermitLicences[n].Place===a.state.SearchString&&(t[n]=a.state.PermitLicences[n]);a.setState({PermitLicences:t})}else a.getPermitLicences()},a.state={PermitLicences:[],EditPermitLicenceDialogs:[],SearchString:"",Preloader:null},a.onDelete=a.onDelete.bind(Object(g.a)(a)),a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSearch=a.onSearch.bind(Object(g.a)(a)),a.getPermitLicences=a.getPermitLicences.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getPermitLicences()}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),r.a.createElement("div",{class:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Permit Licences"),r.a.createElement("nav",{class:"navbar navbar-default"},r.a.createElement("div",{class:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},r.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},r.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,class:"navbar-form navbar-right",role:"search"},r.a.createElement("div",{class:"putbox",style:{margin:"0px"}},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"search",name:"SearchString",class:"form-control",placeholder:"Search by Permit Place",style:{maxWidth:"500px",width:"100%"},autoComplete:"off",value:this.state.SearchString,onChange:this.onChange})),r.a.createElement("button",{type:"submit",class:"btn btn-default form-control",style:{width:"34px"}})))))),r.a.createElement("ol",{class:"list-items",style:{margin:"0px"}},this.state.PermitLicences.map((function(t,a){return r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#".concat(t.PermitLicenceID)},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("i",{class:"glyph glyph-add"}),r.a.createElement("i",{class:"glyph glyph-remove"}),r.a.createElement("strong",null,a+1)),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("img",{class:"img-responsive visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:t.PhotoURL,alt:"permit.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Permit Number:")," ",t.PermitNumber),r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Expiry Date:")," ",t.ExpiryDate),r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Permit Code:")," ",t.Code),r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Permit Place:")," ",t.Place)),r.a.createElement("div",{class:"col-md-6"}))),r.a.createElement("div",{class:"collapse",id:t.PermitLicenceID},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-18 col-md-offset-2"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block",src:t.PhotoURL,alt:"permit.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{class:"col-md-4 text-right"},r.a.createElement("button",{type:"button",class:"btn btn-primary","data-toggle":"modal","data-target":"#edit-permit-dialog".concat(a),onMouseDown:function(){var n=e.state.EditPermitLicenceDialogs;n[a]=r.a.createElement(ot,{DialogID:a,PermitLicence:t,OnCancel:function(){var t=e.state.EditPermitLicenceDialogs;t[a]=null,e.setState({EditPermitLicenceDialogs:t})},OnOK:function(t){t.click(),e.props.OnPermitLicencesUpdated()}}),e.setState({EditPermitLicenceDialogs:n})}},"Edit"),r.a.createElement("button",{type:"button",class:"btn btn-danger",onClick:function(){e.onDelete(a)}},"Delete")))),e.state.EditPermitLicenceDialogs[a])}))),this.state.Preloader)}}]),t}(n.Component),mt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onPermitLicencesUpdated=function(){h()(localStorage.userToken).PermitLicences?(a.setState({PermitLicencesList:null}),a.setState({PermitLicencesList:r.a.createElement(ct,{OnPermitLicencesUpdated:a.onPermitLicencesUpdated})})):a.setState({PermitLicencesList:null})},a.state={AddPermitLicenceDialog:null,PermitLicencesList:null},a.onPermitLicencesUpdated=a.onPermitLicencesUpdated.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.onPermitLicencesUpdated()}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{class:"jumbotron theme-alt",style:{width:"100%",backgroundColor:"#202020"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"permit.png",src:"./images/permit.png","data-source-index":"2"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3"},"Permit Licences"),r.a.createElement("div",{class:"type-sh3"},"Manage your Permits"),r.a.createElement("p",null,"If you are a non-Saudi driver, then you must have at least one permit licence."),r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",class:"btn btn-primary","data-toggle":"modal","data-target":"#add-permit-licence-dialog",onMouseDown:function(){e.setState({AddPermitLicenceDialog:r.a.createElement(it,{OnCancel:function(){e.setState({AddPermitLicenceDialog:null})},OnOK:function(t){t.click(),e.onPermitLicencesUpdated()}})})}},"New Permit Licence")))))),this.state.AddPermitLicenceDialog,this.state.PermitLicencesList)}}]),t}(n.Component),dt=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"jumbotron",style:{width:"100%",backgroundColor:"#202020"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"tools.png",src:"./images/tools.png",style:{borderRadius:"50%"},"data-source-index":"1"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3",style:{color:"#008575"}},"Financial Affairs"),r.a.createElement("div",{class:"type-sh3",style:{color:"#949496"}},"Under-Construction"))))))}}]),t}(n.Component),ut=a(73),pt=a(103),gt=a.n(pt);a(398);gt.a.setApiKey("AIzaSyC3YT8gMjGGdzQpHBNcayZYF4rvbGTL8IM"),gt.a.enableDebug();var Et=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={NoState:null},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=Object(ut.withScriptjs)(Object(ut.withGoogleMap)((function(e){return r.a.createElement(ut.GoogleMap,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyC3YT8gMjGGdzQpHBNcayZYF4rvbGTL8IM&libraries=places",defaultZoom:10,defaultCenter:{lat:33.78431,lng:72.73878}})})));return r.a.createElement("div",null,r.a.createElement(e,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyC3YT8gMjGGdzQpHBNcayZYF4rvbGTL8IM&libraries=places",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}))}}]),t}(n.Component),ht=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.getItem("userToken"),LoadingPlace:a.state.LoadingPlace,UnloadingPlace:a.state.UnloadingPlace,TripType:a.state.TripType,Price:a.state.Price},console.log("Going to add Job Request."),a.setState({Preloader:r.a.createElement(be,null)}),n.next=8,P.a.awrap($(t).then((function(e){"Job request is added."===e.Message&&(localStorage.setItem("userToken",e.Token),a.props.OnOK(a.cancelButton)),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={LoadingPlace:"",UnloadingPlace:"",TripType:"One Way",Price:0,ValidLoadingPlace:!1,ValidUnloadingPlace:!1,ValidPrice:!1,ValidForm:!1,Preloader:null,Errors:{LoadingPlace:"",UnloadingPlace:"",Price:""}},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a.validateField=a.validateField.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidLoadingPlace,l=this.state.ValidUnloadingPlace,s=this.state.ValidPrice;switch(e){case"LoadingPlace":r=""!==t,n.LoadingPlace=r?"":"Loading place is required.";break;case"UnloadingPlace":l=""!==t,n.UnloadingPlace=l?"":"Unloading place is required.";break;case"Price":s=t>0,n.Price=s?"":"Price must be more than $0.00."}this.setState({Errors:n,ValidLoadingPlace:r,ValidUnloadingPlace:l,ValidPrice:s},(function(){a.setState({ValidForm:a.state.LoadingPlace&&a.state.ValidUnloadingPlace&&a.state.ValidPrice})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{class:"text-left"},r.a.createElement("div",{class:"modal",id:"add-job-request-dialog",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"modal-header"},r.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),r.a.createElement("div",{class:"type-h3"},"Add Job Request")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Loading Place"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"LoadingPlace",class:"form-control",autoComplete:"off",value:this.state.LoadingPlace,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.LoadingPlace)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Unloading Place"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"UnloadingPlace",class:"form-control",autoComplete:"off",value:this.state.UnloadingPlace,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.UnloadingPlace)))),r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Trip Type"),r.a.createElement("br",null),r.a.createElement("div",{class:"dropdown",style:{width:"100%",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",class:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.TripType),r.a.createElement("span",{class:"caret"})),r.a.createElement("ul",{class:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({TripType:"One Way"})}},"One Way")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({TripType:"Two Way"})}},"Two Way"))))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Price (USD)"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",min:"0.00",step:"0.01",max:"100.00",name:"Price",class:"form-control",autoComplete:"off",value:this.state.Price,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Price))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-24"},r.a.createElement(Et,null)))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{class:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Add",class:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(n.Component),bt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.getItem("userToken"),JobRequestID:a.props.JobRequest.JobRequestID,LoadingPlace:a.state.LoadingPlace,UnloadingPlace:a.state.UnloadingPlace,TripType:a.state.TripType,Price:a.state.Price},console.log("Going to update Job Request."),a.setState({Preloader:r.a.createElement(be,null)}),n.next=8,P.a.awrap(Z(t).then((function(e){"Job request is updated."===e.Message&&(localStorage.setItem("userToken",e.Token),a.props.OnOK(a.cancelButton)),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={LoadingPlace:a.props.JobRequest.LoadingPlace,UnloadingPlace:a.props.JobRequest.UnloadingPlace,TripType:a.props.JobRequest.TripType,Price:a.props.JobRequest.Price,ValidLoadingPlace:!0,ValidUnloadingPlace:!0,ValidPrice:!0,ValidForm:!1,Preloader:null,Errors:{LoadingPlace:"",UnloadingPlace:"",Price:""}},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a.validateField=a.validateField.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidLoadingPlace,l=this.state.ValidUnloadingPlace,s=this.state.ValidPrice;switch(e){case"LoadingPlace":r=""!==t,n.LoadingPlace=r?"":"Loading place is required.";break;case"UnloadingPlace":l=""!==t,n.UnloadingPlace=l?"":"Unloading place is required.";break;case"Price":s=t>0,n.Price=s?"":"Price must be more than $0.00."}this.setState({Errors:n,ValidLoadingPlace:r,ValidUnloadingPlace:l,ValidPrice:s},(function(){a.setState({ValidForm:a.state.LoadingPlace&&a.state.ValidUnloadingPlace&&a.state.ValidPrice})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{class:"text-left"},r.a.createElement("div",{class:"modal",id:"edit-job-request-dialog-".concat(this.props.DialogID),tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"modal-header"},r.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),r.a.createElement("div",{class:"type-h3"},"Edit Job Request")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Loading Place"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"LoadingPlace",class:"form-control",autoComplete:"off",value:this.state.LoadingPlace,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.LoadingPlace)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Unloading Place"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"UnloadingPlace",class:"form-control",autoComplete:"off",value:this.state.UnloadingPlace,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.UnloadingPlace)))),r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Trip Type"),r.a.createElement("br",null),r.a.createElement("div",{class:"dropdown",style:{width:"100%",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",class:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.TripType),r.a.createElement("span",{class:"caret"})),r.a.createElement("ul",{class:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({TripType:"One Way"})}},"One Way")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({TripType:"Two Way"})}},"Two Way"))))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Price (USD)"),r.a.createElement("span",{class:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",min:"0.00",step:"0.01",max:"100.00",name:"Price",class:"form-control",autoComplete:"off",value:this.state.Price,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Price))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-24"},r.a.createElement(Et,null)))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{class:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Update",class:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(n.Component),ft=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onDelete=function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({Preloader:r.a.createElement(be,null)}),t={Token:localStorage.getItem("userToken"),JobRequestID:a.state.JobRequests[e].JobRequestID},console.log("Going to delete JobRequests[".concat(e,"]")),n.next=5,P.a.awrap(ee(t).then((function(e){"Job request is deleted."===e.Message&&(localStorage.setItem("userToken",e.Token),a.props.OnJobRequestsUpdated()),a.setState({Preloader:null})})));case 5:case"end":return n.stop()}}))},a.getJobRequests=function(){if(localStorage.userToken){var e=h()(localStorage.userToken).JobRequests;a.setState({JobRequests:e})}else a.setState({JobRequests:[]})},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n))},a.onSearch=function(e){if(e.preventDefault(),a.getJobRequests(),""!==a.state.SearchString){for(var t=[],n=0;n<a.state.JobRequests.length;n++)(a.state.JobRequests[n].LoadingPlace.includes(a.state.SearchString)||a.state.JobRequests[n].UnloadingPlace.includes(a.state.SearchString))&&(t[n]=a.state.JobRequests[n]);a.setState({JobRequests:t})}},a.state={JobRequests:[],EditJobRequestDialogs:[],SearchString:"",Preloader:null},a.onDelete=a.onDelete.bind(Object(g.a)(a)),a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSearch=a.onSearch.bind(Object(g.a)(a)),a.getJobRequests=a.getJobRequests.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.getJobRequests()}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),r.a.createElement("div",{class:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Your Job Requests"),r.a.createElement("nav",{class:"navbar navbar-default"},r.a.createElement("div",{class:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},r.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},r.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,class:"navbar-form navbar-right",role:"search"},r.a.createElement("div",{class:"putbox",style:{margin:"0px"}},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"search",name:"SearchString",class:"form-control",placeholder:"Search by Places",style:{maxWidth:"500px",width:"100%"},value:this.state.SearchString,onChange:this.onChange})),r.a.createElement("button",{type:"submit",class:"btn btn-default form-control",style:{width:"34px"}})))))),r.a.createElement("ol",{class:"list-items",style:{margin:"0px"}},this.state.JobRequests.map((function(t,a){return r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#".concat(t.JobRequestID)},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("i",{class:"glyph glyph-add"}),r.a.createElement("i",{class:"glyph glyph-remove"}),r.a.createElement("strong",null,a+1)),r.a.createElement("div",{class:"col-md-2"},r.a.createElement("img",{src:"./images/job_requests.png",alt:"job_requests.png",height:"50"})),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Loading Place:")," ",t.LoadingPlace),r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Unloading Place:")," ",t.UnloadingPlace),r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Trip Type:")," ",t.TripType)),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Price:")," ","$".concat(t.Price)),r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Available:")," ",Math.abs(new Date-new Date(t.TimeCreated))/36e5<t.WaitingTime?r.a.createElement("span",{class:"fa fa-check-circle",style:{fontWeight:"bold",color:"#25AE88"}}):r.a.createElement("span",{class:"fa fa-times-circle",style:{fontWeight:"bold",color:"#D75A4A"}})),r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Created:")," ","".concat(Math.floor(((new Date).getTime()-new Date(t.TimeCreated))/36e5)," Hour(s) Ago"))))),r.a.createElement("div",{class:"collapse",id:t.JobRequestID},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-18 col-md-offset-2"}),r.a.createElement("div",{class:"col-md-4 text-right"},r.a.createElement("button",{type:"button",class:"btn btn-primary","data-toggle":"modal","data-target":"#edit-job-request-dialog-".concat(a),onMouseDown:function(){var n=e.state.EditJobRequestDialogs;n[a]=r.a.createElement(bt,{DialogID:a,JobRequest:t,OnCancel:function(){var t=e.state.EditJobRequestDialogs;t[a]=null,e.setState({EditJobRequestDialogs:t})},OnOK:function(t){t.click(),e.props.OnJobRequestsUpdated()}}),e.setState({EditJobRequestDialogs:n})}},"Edit"),r.a.createElement("button",{type:"button",class:"btn btn-danger",onClick:function(){e.onDelete(a)}},"Delete")))),e.state.EditJobRequestDialogs[a])}))),this.state.Preloader)}}]),t}(n.Component),vt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onJobRequestsUpdated=function(){h()(localStorage.userToken).JobRequests?(a.setState({JobRequestsList:null}),a.setState({JobRequestsList:r.a.createElement(ft,{OnJobRequestsUpdated:a.onJobRequestsUpdated})})):a.setState({JobRequestsList:null})},a.state={AddJobRequestDialog:null,JobRequestsList:null},a.onJobRequestsUpdated=a.onJobRequestsUpdated.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.onJobRequestsUpdated()}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{class:"jumbotron theme-alt",style:{width:"100%",backgroundColor:"#202020"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"job_requests.png",src:"./images/job_requests.png","data-source-index":"2"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3"},"Job Requests"),r.a.createElement("div",{class:"type-sh3"},"Manage Your Job Requests"),r.a.createElement("p",null,"Create new job requests for your current and/or near-by locations to get a chance to increase your revenue."),r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",class:"btn btn-primary","data-toggle":"modal","data-target":"#add-job-request-dialog",onMouseDown:function(){e.setState({AddJobRequestDialog:r.a.createElement(ht,{OnCancel:function(){e.setState({AddJobRequestDialog:null})},OnOK:function(t){t.click(),e.onJobRequestsUpdated()}})})}},"New Job Request")))))),this.state.AddJobRequestDialog,this.state.JobRequestsList)}}]),t}(n.Component),yt=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",{class:"jumbotron theme-alt",style:{width:"100%",backgroundColor:"#202020"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"job_offers.png",src:"./images/job_offers.png","data-source-index":"2"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3"},"Job Offers"),r.a.createElement("div",{class:"type-sh3"},"Under Construction"),r.a.createElement("p",null,"For now, it's lonely here!"))))))}}]),t}(n.Component),Nt=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",{class:"jumbotron theme-alt",style:{width:"100%",backgroundColor:"#202020"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"on_going_jobs.png",src:"./images/on_going_jobs.png","data-source-index":"2"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3"},"On-Going Jobs"),r.a.createElement("div",{class:"type-sh3"},"Under Construction"),r.a.createElement("p",null,"For now, it's lonely here!"))))))}}]),t}(n.Component),xt=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",{class:"entity-list theme-alt",style:{backgroundColor:"#161616"}},r.a.createElement("div",{class:"entity-list-item",href:"#job-requests","aria-controls":"profile",role:"tab","data-toggle":"tab"},r.a.createElement("div",{class:"item-icon",style:{backgroundColor:"rgba(0, 0, 0, 0)"}},r.a.createElement("img",{src:"./images/job_requests.png",alt:"job_requests.png"})),r.a.createElement("div",{class:"item-content-secondary"}),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Job Requests"),r.a.createElement("div",{class:"content-text-secondary"},"Create job requests for places of your own choice."))),r.a.createElement("div",{class:"entity-list-item",href:"#job-offers","aria-controls":"profile",role:"tab","data-toggle":"tab"},r.a.createElement("div",{class:"item-icon",style:{backgroundColor:"rgba(0, 0, 0, 0)"}},r.a.createElement("img",{src:"./images/job_offers.png",alt:"job_offers.png"})),r.a.createElement("div",{class:"item-content-secondary"}),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Job Offers"),r.a.createElement("div",{class:"content-text-secondary"},"See job opportunities from Traders and Brokers."))),r.a.createElement("div",{class:"entity-list-item",href:"#on-going-jobs","aria-controls":"profile",role:"tab","data-toggle":"tab"},r.a.createElement("div",{class:"item-icon",style:{backgroundColor:"rgba(0, 0, 0, 0)"}},r.a.createElement("img",{src:"./images/on_going_jobs.png",alt:"on_going_jobs.png"})),r.a.createElement("div",{class:"item-content-secondary"}),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"On-Going Jobs"),r.a.createElement("div",{class:"content-text-secondary"},"Manage your jobs that are in progress.")))),r.a.createElement("div",{class:"tab-content"},r.a.createElement("div",{role:"tabpanel",class:"tab-pane active",id:"job-requests"},r.a.createElement(vt,null)),r.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"job-offers"},r.a.createElement(yt,null)),r.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"on-going-jobs"},r.a.createElement(Nt,null))))}}]),t}(n.Component),Pt=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"jumbotron",style:{width:"100%",backgroundColor:"#202020"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"tools.png",src:"./images/tools.png",style:{borderRadius:"50%"},"data-source-index":"1"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3",style:{color:"#008575"}},"Payments"),r.a.createElement("div",{class:"type-sh3",style:{color:"#949496"}},"Under-Construction"))))))}}]),t}(n.Component),Ct=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(C.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),e.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.getItem("userToken"),FirstName:e.state.FirstName,LastName:e.state.LastName,Address:e.state.Address,PhoneNumber:e.state.PhoneNumber,Gender:e.state.Gender,Nationality:e.state.Nationality,DateOfBirth:e.state.DateOfBirth},e.setState({Preloader:r.a.createElement(be,null)}),n.next=7,P.a.awrap(T(a).then((function(t){console.log(t),"driver is updated."===t.Message&&(localStorage.setItem("userToken",t.Token),e.props.OnSettingsSaved()),e.setState({Preloader:null})})));case 7:case"end":return n.stop()}}))},e.state={FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:"",ValidFirstName:!0,ValidLastName:!0,ValidPhoneNumber:!0,ValidForm:!1,SettingsSaved:!1,Preloader:null,Errors:{FirstName:"",LastName:"",PhoneNumber:""}},e.onChange=e.onChange.bind(Object(g.a)(e)),e.onSubmit=e.onSubmit.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=h()(localStorage.userToken);this.setState({FirstName:e.FirstName,LastName:e.LastName,DateOfBirth:e.DateOfBirth,Gender:e.Gender,Address:e.Address,PhoneNumber:e.PhoneNumber,Nationality:e.Nationality})}else this.setState({FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:""})}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidFirstName,l=this.state.ValidLastName,s=this.state.ValidPhoneNumber;switch(e){case"FirstName":r=t.match(/^[a-zA-Z ]+$/),n.FirstName=r?"":"First name is invalid.";break;case"LastName":l=t.match(/^[a-zA-Z ]+$/),n.LastName=l?"":"Last name is invalid.";break;case"PhoneNumber":s=t.match(/^\+[0-9]?()[0-9](\s|\S)(\d[0-9]{9})$/),n.PhoneNumber=s?"":"Phone number is invalid."}this.setState({Errors:n,ValidFirstName:r,ValidLastName:l,ValidPhoneNumber:s},(function(){a.setState({ValidForm:a.state.ValidFirstName&&a.state.ValidLastName&&a.state.ValidPhoneNumber})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{class:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"General Settings"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"entity-list entity-list-expandable"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-comment"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"FirstName",autoComplete:"off",value:this.state.FirstName,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"First Name"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.FirstName))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-comment"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"LastName",autoComplete:"off",value:this.state.LastName,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Last Name"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.LastName))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-birthday-cake"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"date",class:"form-control",name:"DateOfBirth",autocomplete:"off",value:this.state.DateOfBirth,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Date of Birth"))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"Male"===this.state.Gender?"fas fa-male":"fas fa-female"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"dropdown",style:{width:"193px",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",class:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.Gender),r.a.createElement("span",{class:"caret"})),r.a.createElement("ul",{class:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({Gender:"Male"})}},"Male")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({Gender:"Female"})}},"Female"))))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Gender"))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-flag"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"Nationality",autocomplete:"off",value:this.state.Nationality,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Nationality"))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-phone"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"PhoneNumber",autocomplete:"off",placeholder:"+XXXXXXXXXXXX",value:this.state.PhoneNumber,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Phone Number"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.PhoneNumber))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-location-arrow"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"Address",autocomplete:"off",value:this.state.Address,onChange:this.onChange,style:{width:"393px"}}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Address"))),r.a.createElement("div",{class:"entity-list-item active"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-save"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Save Changes?"),r.a.createElement("div",{class:"content-text-secondary"},"This cannot be undone.")),r.a.createElement("div",{class:"item-content-expanded"},r.a.createElement("input",{type:"submit",value:"Save",class:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.Preloader)}}]),t}(n.Component),Ot=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.getItem("userToken"),Username:a.props.Username,Email:a.props.Email},a.setState({Preloader:r.a.createElement(be,null)}),n.next=7,P.a.awrap(L(t).then((function(e){"driver is updated."===e.Message&&(localStorage.setItem("userToken",e.Token),a.props.OnSettingsSaved()),a.setState({Preloader:null})})));case 7:case"end":return n.stop()}}))},a.state={ConfirmCode:"",ValidConfirmCode:!1,ValidForm:!1,Preloader:null,Errors:{ConfirmCode:""}},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a.validateField=a.validateField.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidConfirmCode;r=t===this.props.Code,n.ConfirmCode=r?"":"Invalid code.",this.setState({Errors:n,ValidConfirmCode:r},(function(){a.setState({ValidForm:a.state.ValidConfirmCode})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{class:"text-left"},r.a.createElement("div",{class:"modal in",id:"code-confirmation-dialog",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true",style:{display:"block"}},r.a.createElement("div",{class:"modal-dialog"},this.state.Preloader,r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"modal-header"},r.a.createElement("img",{alt:"passcode.png",src:"./images/passcode.png",height:"60"}),r.a.createElement("div",{class:"type-h3"},"Email Confirmation"),r.a.createElement("div",{class:"type-sh3"},"We delivered a confirmation code to your email.")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Confirmation Code"),r.a.createElement("input",{type:"text",name:"ConfirmCode",class:"form-control",autocomplete:"off",value:this.state.ConfirmCode,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.ConfirmCode))))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{class:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Confirm",class:"btn btn-primary",disabled:!this.state.ValidForm})))))))))}}]),t}(n.Component),kt=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(C.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),e.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:if(e.state.NewUsername!==e.state.Username||e.state.NewEmail!==e.state.Email){n.next=5;break}return n.abrupt("return");case 5:if(e.state.NewEmail!==e.state.Email){n.next=12;break}return a={Token:localStorage.getItem("userToken"),Username:e.state.NewUsername,Email:e.state.NewEmail},e.setState({Preloader:r.a.createElement(be,null)}),n.next=10,P.a.awrap(L(a).then((function(t){"driver is updated."===t.Message&&(localStorage.setItem("userToken",t.Token),e.props.OnSettingsSaved()),e.setState({Preloader:null})})));case 10:n.next=14;break;case 12:return n.next=14,P.a.awrap(k.a.post("".concat(f.a.NAQEL_SERVER,"users/sendCode"),{Email:e.state.NewEmail}).then((function(t){t&&(console.log(t),console.log("Going to open Dialog."),e.setState({CodeConfirmationDialog:r.a.createElement(Ot,{Code:t.Code,Username:e.state.NewUsername,Email:e.state.NewEmail,OnCancel:function(){e.setState({CodeConfirmationDialog:null})},OnOK:function(t){t.click(),e.props.OnDocumentsUpdated()}})}))})));case 14:case"end":return n.stop()}}))},e.state={Username:"",NewUsername:"",Email:"",NewEmail:"",Code:"",ValidNewUsername:!0,ValidNewEmail:!0,ValidForm:!1,CodeConfirmationDialog:null,Errors:{NewUsername:"",NewEmail:""},CodeConfirmation:""},e.onChange=e.onChange.bind(Object(g.a)(e)),e.onSubmit=e.onSubmit.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=h()(localStorage.userToken);this.setState({Username:e.Username,NewUsername:e.Username,Email:e.Email,NewEmail:e.Email})}else this.setState({Username:"",NewUsername:"",Email:"",NewEmail:""})}},{key:"validateField",value:function(e,t){var a,n,r,l=this;return P.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:a=this.state.Errors,n=this.state.ValidNewUsername,r=this.state.ValidNewEmail,s.t0=e,s.next="NewUsername"===s.t0?6:"NewEmail"===s.t0?21:36;break;case 6:if(""!==t){s.next=10;break}return n=!1,a.NewUsername="Username is required.",s.abrupt("break",37);case 10:if(t.match(/^[a-z0-9]+$/i)){s.next=14;break}return n=!1,a.NewUsername="Username is invalid.",s.abrupt("break",37);case 14:if(t!==this.state.Username){s.next=18;break}return n=!0,a.NewUsername="",s.abrupt("break",37);case 18:return s.next=20,P.a.awrap(k.a.post("https://naqelserver.azurewebsites.net/users/validateUsername",{Username:t}).then((function(e){"Username is available."===e.data?(n=!0,a.NewUsername=""):(n=!1,a.NewUsername=e.data)})));case 20:return s.abrupt("break",37);case 21:if(""!==t){s.next=25;break}return r=!1,a.NewEmail="Email is required.",s.abrupt("break",37);case 25:if(t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)){s.next=29;break}return r=!1,a.NewEmail="Email is invalid.",s.abrupt("break",37);case 29:if(t!==this.state.Email){s.next=33;break}return r=!0,a.NewEmail="",s.abrupt("break",37);case 33:return s.next=35,P.a.awrap(k.a.post("https://naqelserver.azurewebsites.net/users/validateEmail",{Email:t}).then((function(e){"Email is already taken."===e.data?(r=!1,a.NewEmail=e.data):(r=!0,a.NewEmail="")})));case 35:case 36:return s.abrupt("break",37);case 37:this.setState({Errors:a,ValidNewUsername:n,ValidNewEmail:r},(function(){l.setState({ValidForm:l.state.ValidNewUsername&&l.state.ValidNewEmail})}));case 38:case"end":return s.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Username and Emails"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"entity-list entity-list-expandable"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-at"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",name:"NewUsername",class:"form-control",autocomplete:"off",value:this.state.NewUsername,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Username"),r.a.createElement("div",{class:"content-text-secondary text-danger"},this.state.Errors.NewUsername))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-envelope"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"email",name:"NewEmail",class:"form-control",placeholder:"someone@example.com",autocomplete:"off",value:this.state.NewEmail,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Email"),r.a.createElement("div",{class:"content-text-secondary text-danger"},this.state.Errors.NewEmail))),r.a.createElement("div",{class:"entity-list-item active"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-save"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Save Changes?"),r.a.createElement("div",{class:"content-text-secondary"},"This cannot be undone.")),r.a.createElement("div",{class:"item-content-expanded"},r.a.createElement("input",{type:"submit",value:"Save",class:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.Preloader,this.state.CodeConfirmationDialog)}}]),t}(n.Component),wt=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(C.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),e.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.getItem("userToken"),Password:e.state.NewPassword},e.setState({Preloader:r.a.createElement(be,null)}),console.log("Going to update password."),n.next=8,P.a.awrap(U(a).then((function(t){"driver is updated."===t.Message&&(localStorage.setItem("userToken",t.Token),e.props.OnSettingsSaved()),e.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},e.state={Password:"",CurrentPassword:"",NewPassword:"",ConfirmPassword:"",ValidCurrentPassword:!1,ValidNewPassword:!1,ValidConfirmPassword:!1,ValidForm:!1,Preloader:null,Errors:{CurrentPassword:"",NewPassword:"",ConfirmPassword:""}},e.onChange=e.onChange.bind(Object(g.a)(e)),e.onSubmit=e.onSubmit.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=h()(localStorage.userToken);this.setState({Password:e.Password})}}},{key:"validateField",value:function(e,t){var a,n,r,l,s=this;return P.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:a=this.state.Errors,n=this.state.ValidCurrentPassword,r=this.state.ValidNewPassword,l=this.state.ValidConfirmPassword,i.t0=e,i.next="CurrentPassword"===i.t0?7:"NewPassword"===i.t0?11:"ConfirmPassword"===i.t0?14:17;break;case 7:return i.next=9,P.a.awrap(k.a.post("https://naqelserver.azurewebsites.net/users/validatePassword",{DriverID:h()(localStorage.userToken).DriverID,Password:t}).then((function(e){n="Valid password."===e.data})));case 9:return a.CurrentPassword=n?"":"Current password is invalid.",i.abrupt("break",18);case 11:return r=t.length>=6,a.NewPassword=r?"":"Password is too short.",i.abrupt("break",18);case 14:return l=t===this.state.NewPassword,a.ConfirmPassword=l?"":"Passwords did not match.",i.abrupt("break",18);case 17:return i.abrupt("break",18);case 18:this.setState({Errors:a,ValidCurrentPassword:n,ValidNewPassword:r,ValidConfirmPassword:l},(function(){s.setState({ValidForm:s.state.ValidCurrentPassword&&s.state.ValidNewPassword&&s.state.ValidConfirmPassword})}));case 19:case"end":return i.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Change Password"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"entity-list entity-list-expandable"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-key"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"password",name:"CurrentPassword",class:"form-control",autocomplete:"off",value:this.state.CurrentPassword,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Current Password"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.CurrentPassword))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-key"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"password",name:"NewPassword",class:"form-control",autocomplete:"off",value:this.state.NewPassword,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"New Password"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.NewPassword))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-key"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"password",name:"ConfirmPassword",class:"form-control",autocomplete:"off",value:this.state.ConfirmPassword,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Confirm Password"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.ConfirmPassword))),r.a.createElement("div",{class:"entity-list-item active"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-save"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Save Changes?"),r.a.createElement("div",{class:"content-text-secondary"},"This cannot be undone.")),r.a.createElement("div",{class:"item-content-expanded"},r.a.createElement("input",{type:"submit",value:"Save",class:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.Preloader)}}]),t}(n.Component),St=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onGeneralSettingsSaved=function(){e.setState({GeneralSettings:null}),e.setState({GeneralSettings:r.a.createElement(Ct,{onSettingsSaved:e.onGeneralSettingsSaved})})},e.onUsernameAndEmailSettingsSaved=function(){e.setState({UsernameAndEmailSettings:null}),e.setState({UsernameAndEmailSettings:r.a.createElement(kt,{OnSettingsSaved:e.onUsernameAndEmailSettingsSaved})})},e.onPasswordSettingsSaved=function(){e.setState({PasswordSettings:null}),e.setState({PasswordSettings:r.a.createElement(wt,{OnSettingsSaved:e.onPasswordSettingsSaved})})},e.state={GeneralSettings:r.a.createElement(Ct,{OnSettingsSaved:e.onGeneralSettingsSaved}),UsernameAndEmailSettings:r.a.createElement(kt,{OnSettingsSaved:e.onUsernameAndEmailSettingsSaved}),PasswordSettings:r.a.createElement(wt,{OnSettingsSaved:e.onPasswordSettingsSaved})},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.GeneralSettings,this.state.UsernameAndEmailSettings,this.state.PasswordSettings)}}]),t}(n.Component),Dt=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return localStorage.userToken?r.a.createElement("div",null,r.a.createElement("ul",{class:"nav nav-tabs theme-alt",role:"tablist",style:Re},r.a.createElement("li",{role:"presentation",class:"active"},r.a.createElement("a",{href:"#profile","aria-controls":"profile",role:"tab","data-toggle":"tab"},"Profile")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#trucks","aria-controls":"trucks",role:"tab","data-toggle":"tab"},"Trucks")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#permits","aria-controls":"permits",role:"tab","data-toggle":"tab"},"Permits")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#financialAffairs","aria-controls":"financialAffairs",role:"tab","data-toggle":"tab"},"Financial Affairs")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#jobs","aria-controls":"jobs",role:"tab","data-toggle":"tab"},"Jobs")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#payments","aria-controls":"payments",role:"tab","data-toggle":"tab"},"Payments")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#settings","aria-controls":"settings",role:"tab","data-toggle":"tab"},"Settings"))),r.a.createElement("div",{class:"tab-content"},r.a.createElement("div",{role:"tabpanel",class:"tab-pane active",id:"profile"},r.a.createElement(Ke,null)),r.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"trucks"},r.a.createElement(st,null)),r.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"permits"},r.a.createElement(mt,null)),r.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"financialAffairs"},r.a.createElement(dt,null)),r.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"jobs"},r.a.createElement(xt,null)),r.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"payments"},r.a.createElement(Pt,null)),r.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"settings"},r.a.createElement(St,null)))):(this.props.history.push("/login"),r.a.createElement("a",null))}}]),t}(n.Component),Tt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onImageUpload=function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.state.Image=e.target.files[0],console.log(a.state.Image),t=new FormData,n.prev=3,t.append("Image",a.state.Image,a.state.Image.name),n.next=7,P.a.awrap(k.a.post(f.a.IMAGE_UPLOADER,t,{onUploadProgress:function(e){a.setState({UploadProgress:r.a.createElement("div",{className:"progress-bar"},r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}))})}}).then((function(e){var t,n;return P.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if("Image uploaded successfully."!==(e=e.data).message){r.next=6;break}return t={Token:localStorage.Token,PhotoURL:e.imageUrl,FileName:e.filename},n=e.imageUrl,r.next=6,P.a.awrap(le(t).then((function(e){"Profile photo is updated."!==e.Message&&"Profile photo is added."!==e.Message||a.setState({PhotoURL:n,UploadProgress:null})})));case 6:case"end":return r.stop()}}))})).catch((function(){a.props.OnImageUploaded("Invalid Image."),a.setState({ImageURL:"./images/defaultProfilePhoto.png",UploadProgress:null})})));case 7:n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(3),a.setState({UploadProgress:null}),n.abrupt("return");case 13:case"end":return n.stop()}}),null,null,[[3,9]])},a.onSubmit=function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault();case 1:case"end":return t.stop()}}))},a.state={Image:null,PhotoURL:"./images/defaultProfilePhoto.png",UploadProgress:null},a.onImageUpload=a.onImageUpload.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;return P.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=4;break}return e={Token:localStorage.Token,Get:"ProfilePhoto"},a.next=4,P.a.awrap(re(e).then((function(e){if("Profile photo found."===e.Message){var a=e.ProfilePhoto;t.setState({PhotoURL:a.PhotoURL})}else t.state({PhotoURL:"./images/defaultProfilePhoto.png"})})));case 4:case"end":return a.stop()}}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("input",{type:"file",onChange:this.onImageUpload,style:{display:"none"},ref:function(t){return e.fileInput=t}}),r.a.createElement("figure",{className:"media"},r.a.createElement("div",{className:"media-img media-img-has-play ratio-movie",style:Object(C.a)({width:"200px",height:"200px",border:"0px",padding:"0px"},"border","5px solid #3A3A3C")},r.a.createElement("a",{href:"#",onClick:function(){return e.fileInput.click()}},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:this.state.PhotoURL,alt:"ProfilePhoto.png"}),r.a.createElement("i",{className:"glyph glyph-edit"})))),this.state.UploadProgress)}}]),t}(n.Component),Lt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){if(e.preventDefault(),a.state.ValidForm){var t={Token:localStorage.Token,IDNumber:a.state.IDNumber,PhotoURL:a.state.PhotoURL};console.log("Going to add Identity Card."),a.setState({Preloader:r.a.createElement(be,null)}),function(e){return k.a.post("".concat(f.a.NAQEL_SERVER,"traders/addIdentityCard"),{IDNumber:e.IDNumber,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))}(t).then((function(e){"Identity card is added."===e.Message&&a.props.OnOK(a.cancelButton),a.setState({Preloader:null})}))}},a.state={IDNumber:"",PhotoURL:"./images/default_image.png",ValidIDNumber:!1,ValidPhotoURL:!1,ValidForm:!1,Preloader:null,Errors:{IDNumber:"",PhotoURL:""}},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a.validateField=a.validateField.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidIDNumber,l=this.state.ValidPhotoURL;switch(e){case"IDNumber":if(r=""!==t,n.IDNumber=r?"":"ID number is required.",""!==n.IDNumber)break;r=t>=1e9&&t<=9999999999,n.IDNumber=r?"":"ID number must be 10-digits long.";break;case"PhotoURL":l=null!==t,n.PhotoURL=l?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidIDNumber:r,ValidPhotoURL:l},(function(){a.setState({ValidForm:a.state.ValidIDNumber&&a.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"text-left"},r.a.createElement("div",{className:"modal",id:"add-identity-card-dialog",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Add Identity Card")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement(Ve,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"IdentityCard"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"ID Number"),r.a.createElement("span",{className:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",name:"IDNumber",className:"form-control",autoComplete:"off",required:!0,value:this.state.IDNumber,onChange:this.onChange,min:"1000000000",max:"9999999999"}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.IDNumber))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(n.Component),Ut=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={AddIdentityCardDialog:null},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("button",{type:"button",className:"btn btn-primary",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#add-identity-card-dialog",onMouseDown:function(){e.setState({AddIdentityCardDialog:r.a.createElement(Lt,{OnCancel:function(){e.setState({AddIdentityCardDialog:null})},OnOK:function(t){t.click(),e.props.OnDocumentsUpdated()}})})}},r.a.createElement("span",{className:"fas fa-plus","aria-hidden":"true"})," Identity Card"),this.state.AddIdentityCardDialog)}}]),t}(n.Component),Rt=a(173),jt=a.n(Rt),It=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){if(e.preventDefault(),a.state.ValidForm){var t={Token:localStorage.Token,Number:a.state.Number,Type:a.state.Type,PhotoURL:a.state.PhotoURL};console.log("Going to add commercial register certificate."),a.setState({Preloader:r.a.createElement(be,null)}),function(e){return k.a.post("".concat(f.a.NAQEL_SERVER,"traders/addCommercialRegisterCertificate"),{Number:e.Number,Type:e.Type,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))}(t).then((function(e){"Commercial register certificate is added."===e.Message&&a.props.OnOK(a.cancelButton),a.setState({Preloader:null})}))}},a.state={Number:jt()().substring(0,7).toUpperCase(),Type:"",PhotoURL:"./images/default_image.png",ValidType:!1,ValidPhotoURL:!1,ValidForm:!1,Preloader:null,Errors:{Type:"",PhotoURL:""}},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a.validateField=a.validateField.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidType,l=this.state.ValidPhotoURL;switch(e){case"Type":r=""!==t,n.Type=r?"":"Certificate type is required.";break;case"PhotoURL":l=null!==t,n.PhotoURL=l?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidType:r,ValidPhotoURL:l},(function(){a.setState({ValidForm:a.state.ValidType&&a.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"text-left"},r.a.createElement("div",{className:"modal",id:"add-commercial-register-certificate-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Add Commercial Register Certificate")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement(Ve,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"CommercialRegisterCertificate"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Certificate Number"),r.a.createElement("span",{className:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"Number",className:"form-control",autoComplete:"off",readOnly:!0,value:this.state.Number,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Certificate Type"),r.a.createElement("span",{className:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"Type",className:"form-control",autoComplete:"off",required:!0,value:this.state.Type,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Type))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(n.Component),Vt=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={AddCommercialRegisterCertificateDialog:null},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("button",{type:"button",className:"btn btn-primary",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#add-commercial-register-certificate-dialog",onMouseDown:function(){e.setState({AddCommercialRegisterCertificateDialog:r.a.createElement(It,{OnCancel:function(){e.setState({AddCommercialRegisterCertificateDialog:null})},OnOK:function(t){t.click(),e.props.OnDocumentsUpdated()}})})}},r.a.createElement("span",{className:"fas fa-plus","aria-hidden":"true"})," CR Certificate"),this.state.AddCommercialRegisterCertificateDialog)}}]),t}(n.Component),At=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){if(e.preventDefault(),a.state.ValidForm){var t={Token:localStorage.Token,IDNumber:a.state.IDNumber,PhotoURL:a.state.PhotoURL};console.log("Going to update Identity Card."),a.setState({Preloader:r.a.createElement(be,null)}),function(e){return k.a.post("".concat(f.a.NAQEL_SERVER,"traders/updateIdentityCard"),{IDNumber:e.IDNumber,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))}(t).then((function(e){"Identity card is updated."===e.Message&&a.props.OnOK(a.cancelButton),a.setState({Preloader:null})}))}},a.state={IDNumber:"",PhotoURL:"./images/default_image.png",ValidIDNumber:!0,ValidPhotoURL:!0,ValidForm:!1,Preloader:null,Errors:{IDNumber:"",PhotoURL:""}},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a.validateField=a.validateField.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.Token){this.setState({Preloader:r.a.createElement(be,null)});var t={Token:localStorage.Token,Get:"IdentityCard"};re(t).then((function(t){if("Identity card found."===t.Message){var a=t.IdentityCard;e.setState({IDNumber:a.IDNumber,PhotoURL:a.PhotoURL,Preloader:null})}else e.setState({IDNumber:"",PhotoURL:"./images/default_image.png",Preloader:null})}))}}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidIDNumber,l=this.state.ValidPhotoURL;switch(e){case"IDNumber":if(r=""!==t,n.IDNumber=r?"":"ID number is required.",""!==n.IDNumber)break;r=t>=1e9&&t<=9999999999,n.IDNumber=r?"":"ID number must be 10-digits long.";break;case"PhotoURL":l=null!==t,n.PhotoURL=l?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidIDNumber:r,ValidPhotoURL:l},(function(){a.setState({ValidForm:a.state.ValidIDNumber&&a.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{className:"modal",id:"edit-identity-card-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Edit Identity Card")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement(Ve,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"IdentityCard"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"ID Number"),r.a.createElement("span",{className:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",name:"IDNumber",className:"form-control",autoComplete:"off",required:!0,value:this.state.IDNumber,onChange:this.onChange,min:"1000000000",max:"99999999999"}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.IDNumber))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(n.Component),Ft=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onDelete=function(){a.setState({Preloader:r.a.createElement(be,null)});var e={Token:localStorage.Token};console.log("Going to delete Identity Card."),function(e){return k.a.delete("".concat(f.a.NAQEL_SERVER,"traders/deleteIdentityCard"),{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))}(e).then((function(e){console.log(e),"Identity card is deleted."===e.Message&&a.props.OnDocumentsUpdated(),a.setState({Preloader:null})}))},a.onRefresh=function(){if(localStorage.Token){var e={Token:localStorage.Token,Get:"IdentityCard"};re(e).then((function(e){if("Identity card found."===e.Message){var t=e.IdentityCard;a.setState({IdentityCardID:t.IdentityCardID,IDNumber:t.IDNumber,PhotoURL:t.PhotoURL})}else a.setState({IdentityCardID:"",IDNumber:"",PhotoURL:"./images/default_image.png"})}))}},a.state={Key:Math.floor(100*Math.random()),IdentityCardID:"",IDNumber:"",PhotoURL:"./images/default_image.png",EditIdentityCardDialog:null,Preloader:null},a.onDelete=a.onDelete.bind(Object(g.a)(a)),a.onRefresh=a.onRefresh.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"render",value:function(){var e=this;return r.a.createElement("li",{className:"list-items-row"},r.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#identity-card-".concat(this.state.IdentityCardID)},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("i",{className:"glyph glyph-add"}),r.a.createElement("i",{className:"glyph glyph-remove"}),r.a.createElement("strong",null,this.props.Index)),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("img",{className:"img-responsive visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:this.state.PhotoURL,alt:"identity_card.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"IDENTITY CARD")),r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"ID Number:")," ",this.state.IDNumber)))),r.a.createElement("div",{className:"collapse",id:"identity-card-".concat(this.state.IdentityCardID)},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-18 col-md-offset-2"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block",src:this.state.PhotoURL,alt:"trailer.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{className:"col-md-4 text-right"},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#edit-identity-card-dialog",onMouseDown:function(){e.setState({EditIdentityCardDialog:r.a.createElement(At,{OnCancel:function(){e.setState({EditIdentityCardDialog:null})},OnOK:function(t){t.click(),e.onRefresh()}})})}},"Edit"),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){e.onDelete()}},"Delete")))),this.state.Preloader,this.state.EditIdentityCardDialog)}}]),t}(n.Component),Mt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onRefresh=function(){if(a.setState({Preloader:r.a.createElement(be,null)}),localStorage.Token){var e={Token:localStorage.Token,Get:"CommercialRegisterCertificate"};re(e).then((function(e){if("Commercial register certificate found."===e.Message){var t=e.CommercialRegisterCertificate;a.setState({Number:t.Number,Type:t.Type,PhotoURL:t.PhotoURL,Preloader:null})}else a.setState({Number:"",Type:"",PhotoURL:"./images/default_image.png",Preloader:null})}))}},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){if(e.preventDefault(),a.state.ValidForm){var t={Token:localStorage.Token,Number:a.state.Number,Type:a.state.Type,PhotoURL:a.state.PhotoURL};console.log("Going to update commercial register certificate."),a.setState({Preloader:r.a.createElement(be,null)}),function(e){return k.a.post("".concat(f.a.NAQEL_SERVER,"traders/updateCommercialRegisterCertificate"),{Number:e.Number,Type:e.Type,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))}(t).then((function(e){"Commercial register certificate is updated."===e.Message&&a.props.OnOK(a.cancelButton),a.setState({Preloader:null})}))}},a.state={Number:"",Type:"",PhotoURL:"./images/default_image.png",ValidType:!0,ValidPhotoURL:!0,ValidForm:!1,Preloader:null,Errors:{Type:"",PhotoURL:""}},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a.validateField=a.validateField.bind(Object(g.a)(a)),a.onRefresh=a.onRefresh.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidType,l=this.state.ValidPhotoURL;switch(e){case"Type":r=""!==t,n.Type=r?"":"Certificate type is required.";break;case"PhotoURL":l=null!==t,n.PhotoURL=l?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidType:r,ValidPhotoURL:l},(function(){a.setState({ValidForm:a.state.ValidType&&a.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{className:"modal",id:"edit-commercial-register-certificate-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Edit Commercial Register Certificate")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement(Ve,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"IdentityCard"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Certificate Number"),r.a.createElement("span",{className:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"Number",className:"form-control",autoComplete:"off",readOnly:!0,value:this.state.Number,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Certificate Type"),r.a.createElement("span",{className:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"Type",className:"form-control",autoComplete:"off",required:!0,value:this.state.Type,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Type))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(n.Component),Wt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onDelete=function(){a.setState({Preloader:r.a.createElement(be,null)});var e={Token:localStorage.Token};console.log("Going to delete commercial register certificate."),function(e){return k.a.delete("".concat(f.a.NAQEL_SERVER,"traders/deleteCommercialRegisterCertificate"),{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))}(e).then((function(e){"Commercial register certificate is deleted."===e.Message&&a.props.OnDocumentsUpdated(),a.setState({Preloader:null})}))},a.onRefresh=function(){if(localStorage.Token){var e={Token:localStorage.Token,Get:"CommercialRegisterCertificate"};re(e).then((function(e){if("Commercial register certificate found."===e.Message){var t=e.CommercialRegisterCertificate;a.setState({ID:t.ID,Number:t.Number,Type:t.Type,PhotoURL:t.PhotoURL})}else a.setState({ID:"",Number:"",Type:"",PhotoURL:"./images/default_image.png"})}))}},a.state={ID:"",Number:"",Type:"",PhotoURL:"./images/default_image.png",EditCommercialRegisterCertificateDialog:null,Preloader:null},a.onDelete=a.onDelete.bind(Object(g.a)(a)),a.onRefresh=a.onRefresh.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"render",value:function(){var e=this;return r.a.createElement("li",{className:"list-items-row"},r.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#commercial-register-certificate-".concat(this.state.ID)},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("i",{className:"glyph glyph-add"}),r.a.createElement("i",{className:"glyph glyph-remove"}),r.a.createElement("strong",null,this.props.Index)),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("img",{className:"img-responsive visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:this.state.PhotoURL,alt:"identity_card.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"COMMERCIAL REGISTER CERTIFICATE")),r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Certificate Number:")," ",this.state.Number),r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Certificate Type:")," ",this.state.Type)))),r.a.createElement("div",{className:"collapse",id:"commercial-register-certificate-".concat(this.state.ID)},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-18 col-md-offset-2"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block",src:this.state.PhotoURL,alt:"trailer.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{className:"col-md-4 text-right"},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#edit-commercial-register-certificate-dialog",onMouseDown:function(){e.setState({EditCommercialRegisterCertificateDialog:r.a.createElement(Mt,{OnCancel:function(){e.setState({EditCommercialRegisterCertificateDialog:null})},OnOK:function(t){t.click(),e.onRefresh()}})})}},"Edit"),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){e.onDelete()}},"Delete")))),this.state.Preloader,this.state.EditCommercialRegisterCertificateDialog)}}]),t}(n.Component),Jt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onDocumentsUpdated=function(){var e,t,n=0;if(localStorage.Token){var l={Token:localStorage.Token,Get:"IdentityCard"};re(l).then((function(s){console.log(s),e="Identity card found."===s.Message?s.IdentityCard:void 0,l={Token:localStorage.Token,Get:"CommercialRegisterCertificate"},re(l).then((function(l){t="Commercial register certificate found."===l.Message?l.CommercialRegisterCertificate:void 0,e?a.setState({AddIdentityCardButton:null,IdentityCardListItem:r.a.createElement(Ft,{Index:++n,OnDocumentsUpdated:a.onDocumentsUpdated})}):a.setState({AddIdentityCardButton:r.a.createElement(Ut,{OnDocumentsUpdated:a.onDocumentsUpdated}),IdentityCardListItem:null}),t?a.setState({AddCommercialRegisterCertificateButton:null,CommercialRegisterCertificateListItem:r.a.createElement(Wt,{Index:++n,OnDocumentsUpdated:a.onDocumentsUpdated})}):a.setState({AddCommercialRegisterCertificateButton:r.a.createElement(Vt,{OnDocumentsUpdated:a.onDocumentsUpdated}),CommercialRegisterCertificateListItem:null})}))}))}},a.state={AddIdentityCardButton:null,AddCommercialRegisterCertificateButton:null,IdentityCardListItem:null,CommercialRegisterCertificateListItem:null},a.onDocumentsUpdated=a.onDocumentsUpdated.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){console.log("I'm Here.. Going to update documents..."),this.onDocumentsUpdated()}},{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),r.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Documents"),r.a.createElement("div",{style:{padding:"10px",backgroundColor:"#E5E5E5"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-18 col-md-offset-2"}),r.a.createElement("div",{className:"col-md-4 text-right"},this.state.AddIdentityCardButton,this.state.AddCommercialRegisterCertificateButton))),r.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},this.state.IdentityCardListItem,this.state.CommercialRegisterCertificateListItem))}}]),t}(n.Component),qt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onRefresh=function(){if(localStorage.Token){var e={Token:localStorage.Token,Get:"Trader"};re(e).then((function(e){if("Trader found."===e.Message){var t=e.Trader;a.setState({Username:t.Username,Email:t.Email,FirstName:t.FirstName,LastName:t.LastName,Address:t.Address,PhoneNumber:t.PhoneNumber,Gender:t.Gender,Nationality:t.Nationality,DateOfBirth:t.DateOfBirth})}}))}},a.state={Username:"",Email:"",FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:""},a.onRefresh=a.onRefresh.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group",style:{marginBottom:"5px"}},r.a.createElement(Tt,null))),r.a.createElement("div",{className:"col-md-18"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},this.state.FirstName+" "+this.state.LastName),r.a.createElement("div",{className:"type-sh3"},r.a.createElement("span",{className:"fas fa-briefcase"}),"   Trader"),r.a.createElement("div",null,r.a.createElement("ol",{className:"list-items theme-alt"},r.a.createElement("li",{className:"list-items-row"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{className:"fas fa-at",style:{color:"#008575"}}))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("a",{style:{textDecoration:"none"}},"Username:")),r.a.createElement("div",{className:"col-md-6"},this.state.Username))),r.a.createElement("li",{className:"list-items-row"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{className:"fas fa-envelope",style:{color:"#008575"}}))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("a",{style:{textDecoration:"none"}},"Email:")),r.a.createElement("div",{className:"col-md-6"},this.state.Email))),r.a.createElement("li",{className:"list-items-row"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{className:"fas fa-phone",style:{color:"#008575"}}))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("a",{style:{textDecoration:"none"}},"Phone Number:")),r.a.createElement("div",{className:"col-md-6"},this.state.PhoneNumber))))))))),r.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#00221E"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"type-h3",style:{paddingTop:"10px"}},"Details"),r.a.createElement("ol",{className:"list-items theme-alt"},r.a.createElement("li",{className:"list-items-row"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{className:"fas fa-birthday-cake",style:{color:"#008575"}}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("a",{style:{textDecoration:"none"}},"Date of Birth:")),r.a.createElement("div",{className:"col-md-4"},this.state.DateOfBirth))),r.a.createElement("li",{className:"list-items-row"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{className:"Male"===this.state.Gender?"fas fa-male":"fas fa-female",style:{color:"#008575"}}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("a",{style:{textDecoration:"none"}},"Gender:")),r.a.createElement("div",{className:"col-md-4"},this.state.Gender))),r.a.createElement("li",{className:"list-items-row"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{className:"fas fa-flag",style:{color:"#008575"}}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("a",{style:{textDecoration:"none"}},"Nationality:")),r.a.createElement("div",{className:"col-md-4"},this.state.Nationality))),r.a.createElement("li",{className:"list-items-row"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{className:"fas fa-map-marker",style:{color:"#008575"}}))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("a",{style:{textDecoration:"none"}},"Address:")),r.a.createElement("div",{className:"col-md-4"},this.state.Address)))))))),r.a.createElement(Jt,null))}}]),t}(n.Component),Bt=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-alt",style:{width:"100%",backgroundColor:"#202020"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"job_requests.png",src:"./images/job_requests.png","data-source-index":"2"})),r.a.createElement("div",{className:"col-md-12 col-md-pull-12"},r.a.createElement("div",{className:"type-h3"},"Job Requests"),r.a.createElement("div",{className:"type-sh3"},"Under Construction"),r.a.createElement("p",null,"For now, it's lonely here! Drivers' Job Requests are displayed here."))))))}}]),t}(n.Component),_t=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;"EntryExit"!==t&&"JobOfferType"!==t||console.log("Value of ".concat(t," is ").concat(n)),a.setState(Object(C.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.Token,TripType:a.state.TripType,CargoType:a.state.CargoType,CargoWeight:a.state.CargoWeight,LoadingPlace:a.state.LoadingPlace,UnloadingPlace:a.state.UnloadingPlace,LoadingDate:a.state.LoadingDate,LoadingTime:a.state.LoadingTime,EntryExit:a.state.EntryExit,Price:a.state.Price,AcceptedDelay:a.state.AcceptedDelay,JobOfferType:a.state.JobOfferType},console.log("Going to add Job offer."),a.setState({Preloader:r.a.createElement(be,null)}),n.next=8,P.a.awrap(pe(t).then((function(e){"Job offer is added."===e.Message&&a.props.OnOK(a.cancelButton),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={LoadingPlace:"",UnloadingPlace:"",TripType:"One Way",CargoType:"",CargoWeight:0,LoadingDate:new Date,LoadingTime:(new Date).getTime(),AcceptedDelay:0,Price:0,JobOfferType:"Fixed-Price",EntryExit:0,ValidCargoType:!1,ValidCargoWeight:!1,ValidLoadingPlace:!1,ValidUnloadingPlace:!1,ValidLoadingDate:!1,ValidLoadingTime:!1,ValidAcceptedDelay:!1,ValidPrice:!1,ValidForm:!1,Preloader:null,Errors:{CargoType:"",CargoWeight:"",LoadingPlace:"",UnloadingPlace:"",LoadingDate:"",LoadingTime:"",AcceptedDelay:"",Price:""}},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a.validateField=a.validateField.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidCargoType,l=this.state.ValidCargoWeight,s=this.state.ValidLoadingPlace,i=this.state.ValidUnloadingPlace,o=this.state.ValidLoadingDate,c=this.state.ValidLoadingTime,m=this.state.AcceptedDelay,d=this.state.ValidPrice;switch(e){case"CargoType":r=""!==t,n.CargoType=r?"":"Cargo type is required.";break;case"CargoWeight":if(l=""!==t,n.CargoWeight=l?"":"Cargo weight is required.",""!==n.CargoWeight)break;l=t>=100,n.CargoWeight=l?"":"Cargo weight must be greater than 100 lbs.";break;case"LoadingPlace":s=""!==t,n.LoadingPlace=s?"":"Loading place is required.";break;case"UnloadingPlace":i=""!==t,n.UnloadingPlace=i?"":"Unloading place is required.";break;case"LoadingDate":if(o=""!==t,n.LoadingDate=o?"":"Loading date is required.",""!==n.LoadingDate)break;o=new Date(t)>=new Date,n.LoadingDate=o?"":"Loading date must be later than yesterday.";break;case"LoadingTime":c=""!==t,n.LoadingTime=c?"":"Loading time is required.";break;case"AcceptedDelay":if(m=""!==t,n.AcceptedDelay=m?"":"Accepted delay is required.",""!==n.AcceptedDelay)break;m=t>=0&&t<=48,n.AcceptedDelay=m?"":"Accepted delay can be in the range of 0 to 48 hours.";break;case"Price":if(d=""!==t,n.Price=d?"":"Price is required.",""!==n.Price)break;d=t>0,n.Price=d?"":"Price must be more than $0.00."}this.setState({Errors:n,ValidCargoType:r,ValidCargoWeight:l,ValidLoadingPlace:s,ValidUnloadingPlace:i,ValidLoadingDate:o,ValidLoadingTime:c,ValidAcceptedDelay:m,ValidPrice:d},(function(){a.setState({ValidForm:a.state.ValidCargoType&&a.state.ValidCargoWeight&&a.state.ValidLoadingPlace&&a.state.ValidUnloadingPlace&&a.state.ValidLoadingDate&&a.state.ValidLoadingTime&&a.state.AcceptedDelay&&a.state.ValidPrice})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"text-left"},r.a.createElement("div",{className:"modal",id:"add-job-offer-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Add Job Offer")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"job_offfers.png",src:"./images/job_offers.png","data-source-index":"2"}))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Loading Place"),r.a.createElement("span",{className:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"LoadingPlace",className:"form-control",autoComplete:"off",value:this.state.LoadingPlace,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.LoadingPlace)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Unloading Place"),r.a.createElement("span",{className:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"UnloadingPlace",className:"form-control",autoComplete:"off",value:this.state.UnloadingPlace,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.UnloadingPlace)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Trip Type"),r.a.createElement("br",null),r.a.createElement("div",{className:"dropdown",style:{width:"100%",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",className:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.TripType),r.a.createElement("span",{className:"caret"})),r.a.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({TripType:"One Way"})}},"One Way")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({TripType:"Two Way"})}},"Two Way"))))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Cargo Type"),r.a.createElement("span",{className:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"CargoType",className:"form-control",autoComplete:"off",value:this.state.CargoType,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.CargoType)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Cargo Weight (lbs)"),r.a.createElement("span",{className:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",name:"CargoWeight",className:"form-control",autoComplete:"off",value:this.state.CargoWeight,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.CargoWeight)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Loading Date"),r.a.createElement("span",{className:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"date",name:"LoadingDate",className:"form-control",autoComplete:"off",value:this.state.LoadingDate,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.LoadingDate))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Loading Time"),r.a.createElement("span",{className:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"time",name:"LoadingTime",className:"form-control",autoComplete:"off",value:this.state.LoadingTime,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.LoadingTime)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Accepted Delay (Hours)"),r.a.createElement("span",{className:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",name:"AcceptedDelay",className:"form-control",autoComplete:"off",value:this.state.AcceptedDelay,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.AcceptedDelay)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Price (USD)"),r.a.createElement("span",{className:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",min:"0.00",step:"0.01",max:"100.00",name:"Price",className:"form-control",autoComplete:"off",value:this.state.Price,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Price)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"button","data-toggle":"button",className:"btn btn-toggle-switch",autocomplete:"off","aria-pressed":"false",onClick:function(){e.state.JobOfferType="Fixed-Price"===e.state.JobOfferType?"Auctionable":"Fixed-Price"}},r.a.createElement("span",{className:"stateLabel stateLabel-on"},"Auctionable Job Offer"),r.a.createElement("span",{className:"stateLabel stateLabel-off"},"Fixed-Price Job Offer"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"checkbox"},r.a.createElement("label",{className:"control-label"},r.a.createElement("input",{type:"checkbox",name:"EntryExit",value:this.state.EntryExit,onChange:function(){e.state.EntryExit=e.state.EntryExit?0:1}}),r.a.createElement("span",null,"Entry/Exit"))))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(n.Component),Gt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.Token,JobOfferID:a.state.JobOfferID,TripType:a.state.TripType,CargoType:a.state.CargoType,CargoWeight:a.state.CargoWeight,LoadingPlace:a.state.LoadingPlace,UnloadingPlace:a.state.UnloadingPlace,LoadingDate:a.state.LoadingDate,LoadingTime:a.state.LoadingTime,EntryExit:a.state.EntryExit,Price:a.state.Price,AcceptedDelay:a.state.AcceptedDelay,JobOfferType:a.state.JobOfferType},console.log("Going to update Job offer."),a.setState({Preloader:r.a.createElement(be,null)}),n.next=8,P.a.awrap(ge(t).then((function(e){"Job offer is updated."===e.Message&&a.props.OnOK(a.cancelButton),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={JobOfferID:a.props.JobOffer.JobOfferID,LoadingPlace:a.props.JobOffer.LoadingPlace,UnloadingPlace:a.props.JobOffer.UnloadingPlace,TripType:a.props.JobOffer.TripType,CargoType:a.props.JobOffer.CargoType,CargoWeight:a.props.JobOffer.CargoWeight,LoadingDate:a.props.JobOffer.LoadingDate,LoadingTime:a.props.JobOffer.LoadingTime,AcceptedDelay:a.props.JobOffer.AcceptedDelay,Price:a.props.JobOffer.Price,JobOfferType:a.props.JobOffer.JobOfferType,EntryExit:a.props.JobOffer.EntryExit,ValidCargoType:!0,ValidCargoWeight:!0,ValidLoadingPlace:!0,ValidUnloadingPlace:!0,ValidLoadingDate:!0,ValidLoadingTime:!0,ValidAcceptedDelay:!0,ValidPrice:!0,ValidForm:!1,Preloader:null,Errors:{CargoType:"",CargoWeight:"",LoadingPlace:"",UnloadingPlace:"",LoadingDate:"",LoadingTime:"",AcceptedDelay:"",Price:""}},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a.validateField=a.validateField.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidCargoType,l=this.state.ValidCargoWeight,s=this.state.ValidLoadingPlace,i=this.state.ValidUnloadingPlace,o=this.state.ValidLoadingDate,c=this.state.ValidLoadingTime,m=this.state.AcceptedDelay,d=this.state.ValidPrice;switch(e){case"CargoType":r=""!==t,n.CargoType=r?"":"Cargo type is required.";break;case"CargoWeight":if(l=""!==t,n.CargoWeight=l?"":"Cargo weight is required.",""!==n.CargoWeight)break;l=t>=100,n.CargoWeight=l?"":"Cargo weight must be greater than 100 lbs.";break;case"LoadingPlace":s=""!==t,n.LoadingPlace=s?"":"Loading place is required.";break;case"UnloadingPlace":i=""!==t,n.UnloadingPlace=i?"":"Unloading place is required.";break;case"LoadingDate":if(o=""!==t,n.LoadingDate=o?"":"Loading date is required.",""!==n.LoadingDate)break;o=new Date(t)>=new Date,n.LoadingDate=o?"":"Loading date must be later than yesterday.";break;case"LoadingTime":break;case"AcceptedDelay":if(m=""!==t,n.AcceptedDelay=m?"":"Accepted delay is required.",""!==n.AcceptedDelay)break;m=t>=0&&t<=48,n.AcceptedDelay=m?"":"Accepted delay can be in the range of 0 to 48 hours.";break;case"Price":if(d=""!==t,n.Price=d?"":"Price is required.",""!==n.Price)break;d=t>0,n.Price=d?"":"Price must be more than $0.00."}this.setState({Errors:n,ValidCargoType:r,ValidCargoWeight:l,ValidLoadingPlace:s,ValidUnloadingPlace:i,ValidLoadingDate:o,ValidLoadingTime:c,ValidAcceptedDelay:m,ValidPrice:d},(function(){a.setState({ValidForm:a.state.ValidCargoType&&a.state.ValidCargoWeight&&a.state.ValidLoadingPlace&&a.state.ValidUnloadingPlace&&a.state.ValidLoadingDate&&a.state.ValidLoadingTime&&a.state.AcceptedDelay&&a.state.ValidPrice})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"text-left"},r.a.createElement("div",{className:"modal",id:"edit-job-offer-dialog-".concat(this.props.DialogID),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Edit Job Offer")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"job_offfers.png",src:"./images/job_offers.png","data-source-index":"2"}))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Loading Place"),r.a.createElement("span",{className:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"LoadingPlace",className:"form-control",autoComplete:"off",value:this.state.LoadingPlace,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.LoadingPlace)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Unloading Place"),r.a.createElement("span",{className:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"UnloadingPlace",className:"form-control",autoComplete:"off",value:this.state.UnloadingPlace,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.UnloadingPlace)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Trip Type"),r.a.createElement("br",null),r.a.createElement("div",{className:"dropdown",style:{width:"100%",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",className:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.TripType),r.a.createElement("span",{className:"caret"})),r.a.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({TripType:"One Way"})}},"One Way")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({TripType:"Two Way"})}},"Two Way"))))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Cargo Type"),r.a.createElement("span",{className:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"text",name:"CargoType",className:"form-control",autoComplete:"off",value:this.state.CargoType,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.CargoType)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Cargo Weight (lbs)"),r.a.createElement("span",{className:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",name:"CargoWeight",className:"form-control",autoComplete:"off",value:this.state.CargoWeight,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.CargoWeight)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Loading Date"),r.a.createElement("span",{className:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"date",name:"LoadingDate",className:"form-control",autoComplete:"off",value:this.state.LoadingDate,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.LoadingDate))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Loading Time"),r.a.createElement("span",{className:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"time",name:"LoadingTime",className:"form-control",autoComplete:"off",value:this.state.LoadingTime,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.LoadingTime)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Accepted Delay (Hours)"),r.a.createElement("span",{className:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",name:"AcceptedDelay",className:"form-control",autoComplete:"off",value:this.state.AcceptedDelay,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.AcceptedDelay)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Price (USD)"),r.a.createElement("span",{className:"text-danger",style:Ee},"*"),r.a.createElement("input",{type:"number",min:"0.00",step:"0.01",max:"100.00",name:"Price",className:"form-control",autoComplete:"off",value:this.state.Price,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Price)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"button","data-toggle":"button",className:"Auctionable"===this.state.JobOfferType?"btn btn-toggle-switch active":"btn btn-toggle-switch",autocomplete:"off","aria-pressed":"Auctionable"===this.state.JobOfferType?"true":"false",onClick:function(){e.state.JobOfferType="Fixed-Price"===e.state.JobOfferType?"Auctionable":"Fixed-Price",e.validateField("","")}},r.a.createElement("span",{className:"stateLabel stateLabel-on"},"Auctionable Job Offer"),r.a.createElement("span",{className:"stateLabel stateLabel-off"},"Fixed-Price Job Offer"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"checkbox"},r.a.createElement("label",{className:"control-label"},r.a.createElement("input",{type:"checkbox",name:"EntryExit",defaultChecked:1===this.state.EntryExit?"checked":"",value:this.state.EntryExit,onChange:function(){e.state.EntryExit=1===e.state.EntryExit?0:1,e.validateField("","")}}),r.a.createElement("span",null,"Entry/Exit"))))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(n.Component),Yt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onDelete=function(e){a.setState({Preloader:r.a.createElement(be,null)});var t={Token:localStorage.Token,JobOfferID:a.state.JobOffers[e].JobOfferID};console.log("Going to delete JobOffers[".concat(e,"]...")),function(e){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(f.a.NAQEL_SERVER,"traders/deleteJobOffer...")),t.next=3,P.a.awrap(k.a.delete("".concat(f.a.NAQEL_SERVER,"traders/deleteJobOffer"),{JobOfferID:e.JobOfferID},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))}(t).then((function(e){console.log(e),"Job offer is deleted."===e.Message&&a.onComponentUpdated(),a.setState({Preloader:null})}))},a.onComponentUpdated=function(){var e;return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Token:localStorage.Token,Get:"JobOffers"},t.next=4,P.a.awrap(re(e).then((function(e){"Job offers found."===e.Message?(console.log(e),a.setState({AllJobOffers:e.JobOffers,JobOffers:e.JobOffers})):a.setState({AllJobOffers:[],JobOffers:[]})})));case 4:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n))},a.onSearch=function(e){e.preventDefault(),""===a.state.SearchString&&(a.setState({JobOffers:a.state.AllJobOffers}),console.log("AFTER SETTING STATE..."));for(var t=a.state.AllJobOffers,n=[],r=0;r<t.length;r++)(t[r].LoadingPlace.includes(a.state.SearchString)||t[r].UnloadingPlace.includes(a.state.SearchString))&&(n[r]=t[r]);console.log(n),a.setState({JobOffers:n})},a.state={AllJobOffers:[],JobOffers:[],EditJobOfferDialogs:[],SearchString:"",Preloader:null},a.onDelete=a.onDelete.bind(Object(g.a)(a)),a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSearch=a.onSearch.bind(Object(g.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),r.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Your Job Offers"),r.a.createElement("nav",{className:"navbar navbar-default"},r.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5"}},r.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},r.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},r.a.createElement("div",{className:"putbox",style:{margin:"0px"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search by Places",autoComplete:"off",style:{maxWidth:"500px",width:"100%"},value:this.state.SearchString,onChange:this.onChange})),r.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),r.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},this.state.JobOffers.map((function(t,a){var n=Math.abs(new Date-new Date(t.TimeCreated))/36e5;return r.a.createElement("li",{className:"list-items-row",key:a},r.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#".concat(t.JobOfferID)},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-2"},r.a.createElement("i",{className:"glyph glyph-add"}),r.a.createElement("i",{className:"glyph glyph-remove"}),r.a.createElement("strong",null,a+1)),r.a.createElement("div",{className:"col-md-2"},r.a.createElement("img",{src:"./images/job_offers.png",alt:"job_offers.png",height:"50"})),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{style:{padding:"3px 0px 3px 0px"}},r.a.createElement("span",{className:"fas fa-map-marker-alt",style:{color:"#606060"}}),r.a.createElement("span",{style:{fontWeight:"bold",color:"#606060"}},"Loading Place:")," ",t.LoadingPlace),r.a.createElement("div",{style:{padding:"3px 0px 3px 0px"}},r.a.createElement("span",{className:"fas fa-map-marker-alt",style:{color:"#606060"}}),r.a.createElement("span",{style:{fontWeight:"bold",color:"#606060"}},"Unloading Place:")," ",t.UnloadingPlace),r.a.createElement("div",{style:{padding:"3px 0px 3px 0px"}},r.a.createElement("span",{className:"fas fa-map-signs",style:{color:"#606060"}}),r.a.createElement("span",{style:{fontWeight:"bold",color:"#606060"}},"Trip Type:")," ",t.TripType),r.a.createElement("div",{style:{padding:"3px 0px 3px 0px"}},r.a.createElement("span",{className:"fas fa-tag",style:{color:"#606060"}}),r.a.createElement("span",{style:{fontWeight:"bold",color:"#606060"}},"Price:")," ","$".concat(t.Price)),r.a.createElement("div",{style:{padding:"3px 0px 3px 0px"}},r.a.createElement("span",{className:"fas fa-clock",style:{color:"#606060"}}),r.a.createElement("span",{style:{fontWeight:"bold",color:"#606060"}},"Accepted Delay:")," ","".concat(t.AcceptedDelay," Hour(s)"))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{style:{padding:"3px 0px 3px 0px"}},r.a.createElement("span",{className:"fas fa-box",style:{color:"#606060"}}),r.a.createElement("span",{style:{fontWeight:"bold",color:"#606060"}},"Cargo Type:")," ",t.CargoType),r.a.createElement("div",{style:{padding:"3px 0px 3px 0px"}},r.a.createElement("span",{className:"fas fa-weight",style:{color:"#606060"}}),r.a.createElement("span",{style:{fontWeight:"bold",color:"#606060"}},"Cargo Weight:")," ","".concat(t.CargoWeight," lbs.")),r.a.createElement("div",{style:{padding:"3px 0px 3px 0px"}},r.a.createElement("span",{className:"fas fa-calendar",style:{color:"#606060"}}),r.a.createElement("span",{style:{fontWeight:"bold",color:"#606060"}},"Loading Date:")," ",t.LoadingDate),r.a.createElement("div",{style:{padding:"3px 0px 3px 0px"}},r.a.createElement("span",{className:"fas fa-clock",style:{color:"#606060"}}),r.a.createElement("span",{style:{fontWeight:"bold",color:"#606060"}},"Loading Time:")," ",t.LoadingTime)),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{style:{padding:"3px 0px 3px 0px"}},r.a.createElement("span",{className:"fas fa-hand-holding-usd",style:{color:"#606060"}}),r.a.createElement("span",{style:{fontWeight:"bold",color:"#606060"}},"Offer Type:")," ",t.JobOfferType),r.a.createElement("div",{style:{padding:"3px 0px 3px 0px"}},r.a.createElement("span",{className:"fas fa-id-badge",style:{color:"#606060"}}),r.a.createElement("span",{style:{fontWeight:"bold",color:"#606060"}},"Entry/Exit:")," ",1===t.EntryExit?r.a.createElement("span",{className:"fa fa-check-circle",style:{fontWeight:"bold",color:"#25AE88"}}):r.a.createElement("span",{className:"fa fa-times-circle",style:{fontWeight:"bold",color:"#D75A4A"}})),r.a.createElement("div",{style:{padding:"3px 0px 3px 0px"}},r.a.createElement("span",{className:"fas fa-plug",style:{color:"#606060"}}),r.a.createElement("span",{style:{fontWeight:"bold",color:"#606060"}},"Available:")," ",n<t.WaitingTime?r.a.createElement("span",{className:"fa fa-check-circle",style:{fontWeight:"bold",color:"#25AE88"}}):r.a.createElement("span",{className:"fa fa-times-circle",style:{fontWeight:"bold",color:"#D75A4A"}})),r.a.createElement("div",{style:{padding:"3px 0px 3px 0px"}},r.a.createElement("span",{className:"fas fa-calendar",style:{color:"#606060"}}),r.a.createElement("span",{style:{fontWeight:"bold",color:"#606060"}},"Created:")," ","".concat(Math.floor(n)," Hour(s) Ago"))))),r.a.createElement("div",{className:"collapse",id:t.JobOfferID},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-18 col-md-offset-2"}),r.a.createElement("div",{className:"col-md-4 text-right"},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#edit-job-offer-dialog-".concat(a),onMouseDown:function(){var n=e.state.EditJobOfferDialogs;n[a]=r.a.createElement(Gt,{DialogID:a,JobOffer:t,OnCancel:function(){var t=e.state.EditJobOfferDialogs;t[a]=null,e.setState({EditJobOfferDialogs:t})},OnOK:function(t){t.click(),e.onComponentUpdated()}}),e.setState({EditJobOfferDialogs:n})}},"Edit"),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return P.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.awrap(e.onDelete(a));case 2:case"end":return t.stop()}}))}},"Delete")))),e.state.EditJobOfferDialogs[a])}))),this.state.Preloader)}}]),t}(n.Component),Qt=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onJobOffersUpdated=function(){a.JobOffersList.onComponentUpdated()},a.state={AddJobOfferDialog:null,JobOffersList:null},a.onJobOffersUpdated=a.onJobOffersUpdated.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.onJobOffersUpdated()}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-alt",style:{width:"100%",backgroundColor:"#202020"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"job_offers.png",src:"./images/job_offers.png","data-source-index":"2"})),r.a.createElement("div",{className:"col-md-12 col-md-pull-12"},r.a.createElement("div",{className:"type-h3"},"Job Offers"),r.a.createElement("div",{className:"type-sh3"},"Manage Your Job Offers"),r.a.createElement("p",null,"Hi There! Want to transport your freight somewhere? Why not create a new job offer now!!"),r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#add-job-offer-dialog",onMouseDown:function(){e.setState({AddJobOfferDialog:r.a.createElement(_t,{OnCancel:function(){e.setState({AddJobOfferDialog:null})},OnOK:function(t){t.click(),e.onJobOffersUpdated()}})})}},"New Job Offer")))))),r.a.createElement(Yt,{ref:function(t){return e.JobOffersList=t}}),this.state.AddJobOfferDialog)}}]),t}(n.Component),Xt=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-alt",style:{width:"100%",backgroundColor:"#202020"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"on_going_jobs.png",src:"./images/on_going_jobs.png","data-source-index":"2"})),r.a.createElement("div",{className:"col-md-12 col-md-pull-12"},r.a.createElement("div",{className:"type-h3"},"On-Going Jobs"),r.a.createElement("div",{className:"type-sh3"},"Under Construction"),r.a.createElement("p",null,"For now, it's lonely here!"))))))}}]),t}(n.Component),zt=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",{className:"entity-list theme-alt",style:{backgroundColor:"#161616"}},r.a.createElement("div",{className:"entity-list-item",href:"#job-requests","aria-controls":"profile",role:"tab","data-toggle":"tab"},r.a.createElement("div",{className:"item-icon",style:{backgroundColor:"rgba(0, 0, 0, 0)"}},r.a.createElement("img",{src:"./images/job_requests.png",alt:"job_requests.png"})),r.a.createElement("div",{className:"item-content-secondary"}),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Job Requests"),r.a.createElement("div",{className:"content-text-secondary"},"Explore job requests from Drivers."))),r.a.createElement("div",{className:"entity-list-item",href:"#job-offers","aria-controls":"profile",role:"tab","data-toggle":"tab"},r.a.createElement("div",{className:"item-icon",style:{backgroundColor:"rgba(0, 0, 0, 0)"}},r.a.createElement("img",{src:"./images/job_offers.png",alt:"job_offers.png"})),r.a.createElement("div",{className:"item-content-secondary"}),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Job Offers"),r.a.createElement("div",{className:"content-text-secondary"},"Create job opportunities for places of your own choice."))),r.a.createElement("div",{className:"entity-list-item",href:"#on-going-jobs","aria-controls":"profile",role:"tab","data-toggle":"tab"},r.a.createElement("div",{className:"item-icon",style:{backgroundColor:"rgba(0, 0, 0, 0)"}},r.a.createElement("img",{src:"./images/on_going_jobs.png",alt:"on_going_jobs.png"})),r.a.createElement("div",{className:"item-content-secondary"}),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"On-Going Jobs"),r.a.createElement("div",{className:"content-text-secondary"},"Manage your jobs that are in progress.")))),r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"job-requests"},r.a.createElement(Bt,null)),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"job-offers"},r.a.createElement(Qt,null)),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"on-going-jobs"},r.a.createElement(Xt,null))))}}]),t}(n.Component),Kt=(n.Component,function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(C.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),e.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,FirstName:e.state.FirstName,LastName:e.state.LastName,Address:e.state.Address,PhoneNumber:e.state.PhoneNumber,Gender:e.state.Gender,Nationality:e.state.Nationality,DateOfBirth:e.state.DateOfBirth},e.setState({Preloader:r.a.createElement(be,null)}),n.next=7,P.a.awrap(se(a).then((function(t){"Trader is updated."===t.Message&&(e.forceUpdate(),e.props.OnSettingsSaved()),e.setState({Preloader:null})})));case 7:case"end":return n.stop()}}))},e.state={FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:"",ValidFirstName:!0,ValidLastName:!0,ValidPhoneNumber:!0,ValidForm:!1,SettingsSaved:!1,Preloader:null,Errors:{FirstName:"",LastName:"",PhoneNumber:""}},e.onChange=e.onChange.bind(Object(g.a)(e)),e.onSubmit=e.onSubmit.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;return P.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=5;break}return this.setState({Preloader:r.a.createElement(be,null)}),e={Token:localStorage.Token,Get:"Trader"},a.next=5,P.a.awrap(re(e).then((function(e){if("Trader found."===e.Message){var a=e.Trader;t.setState({FirstName:a.FirstName,LastName:a.LastName,Address:a.Address,PhoneNumber:a.PhoneNumber,Gender:a.Gender,Nationality:a.Nationality,DateOfBirth:a.DateOfBirth,Preloader:null})}else t.setState({FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:"",Preloader:null})})));case 5:case"end":return a.stop()}}),null,this)}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidFirstName,l=this.state.ValidLastName,s=this.state.ValidPhoneNumber;switch(e){case"FirstName":r=t.match(/^[a-zA-Z ]+$/),n.FirstName=r?"":"First name is invalid.";break;case"LastName":l=t.match(/^[a-zA-Z ]+$/),n.LastName=l?"":"Last name is invalid.";break;case"PhoneNumber":s=t.match(/^\+[0-9]?()[0-9](\s|\S)(\d[0-9]{9})$/),n.PhoneNumber=s?"":"Phone number is invalid."}this.setState({Errors:n,ValidFirstName:r,ValidLastName:l,ValidPhoneNumber:s},(function(){a.setState({ValidForm:a.state.ValidFirstName&&a.state.ValidLastName&&a.state.ValidPhoneNumber})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"General Settings"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"entity-list entity-list-expandable"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-comment"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"FirstName",autoComplete:"off",value:this.state.FirstName,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"First Name"),r.a.createElement("div",{className:"text-danger"},this.state.Errors.FirstName))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-comment"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"LastName",autoComplete:"off",value:this.state.LastName,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Last Name"),r.a.createElement("div",{className:"text-danger"},this.state.Errors.LastName))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-birthday-cake"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"date",className:"form-control",name:"DateOfBirth",autoComplete:"off",value:this.state.DateOfBirth,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Date of Birth"))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"Male"===this.state.Gender?"fas fa-male":"fas fa-female"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"dropdown",style:{width:"193px",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",className:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.Gender),r.a.createElement("span",{className:"caret"})),r.a.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({Gender:"Male"}),e.validateField("","")}},"Male")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({Gender:"Female"}),e.validateField("","")}},"Female"))))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Gender"))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-flag"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"Nationality",autoComplete:"off",value:this.state.Nationality,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Nationality"))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-phone"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"PhoneNumber",autoComplete:"off",placeholder:"+XXXXXXXXXXXX",value:this.state.PhoneNumber,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Phone Number"),r.a.createElement("div",{className:"text-danger"},this.state.Errors.PhoneNumber))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-location-arrow"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"Address",autoComplete:"off",value:this.state.Address,onChange:this.onChange,style:{width:"393px"}}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Address"))),r.a.createElement("div",{className:"entity-list-item active"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-save"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Save Changes?"),r.a.createElement("div",{className:"content-text-secondary"},"This cannot be undone.")),r.a.createElement("div",{className:"item-content-expanded"},r.a.createElement("input",{type:"submit",value:"Save",className:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.Preloader)}}]),t}(n.Component)),Ht=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(C.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.Token,Username:a.props.Username,Email:a.props.Email},a.setState({Preloader:r.a.createElement(be,null)}),n.next=7,P.a.awrap(me(t).then((function(e){"Trader is updated."===e.Message&&a.props.OnOK(a.cancelButton),a.setState({Preloader:null})})));case 7:case"end":return n.stop()}}))},a.state={ConfirmCode:"",ValidConfirmCode:!1,ValidForm:!1,Preloader:null,Errors:{ConfirmCode:""}},a.onChange=a.onChange.bind(Object(g.a)(a)),a.onSubmit=a.onSubmit.bind(Object(g.a)(a)),a.validateField=a.validateField.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidConfirmCode;r=t===this.props.Code,n.ConfirmCode=r?"":"Invalid code.",this.setState({Errors:n,ValidConfirmCode:r},(function(){a.setState({ValidForm:a.state.ValidConfirmCode})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{class:"text-left"},r.a.createElement("div",{class:"modal in",id:"code-confirmation-dialog",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true",style:{display:"block"}},r.a.createElement("div",{class:"modal-dialog"},this.state.Preloader,r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"modal-header"},r.a.createElement("img",{alt:"passcode.png",src:"./images/passcode.png",height:"60"}),r.a.createElement("div",{class:"type-h3"},"Email Confirmation"),r.a.createElement("div",{class:"type-sh3"},"We delivered a confirmation code to your email.")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Confirmation Code"),r.a.createElement("input",{type:"text",name:"ConfirmCode",class:"form-control",autocomplete:"off",value:this.state.ConfirmCode,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.ConfirmCode))))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{class:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Confirm",class:"btn btn-primary",disabled:!this.state.ValidForm})))))))))}}]),t}(n.Component),$t=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(C.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a,n,l;return P.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(t.preventDefault(),e.state.ValidForm){s.next=3;break}return s.abrupt("return");case 3:if(e.state.NewUsername!==e.state.Username||e.state.NewEmail!==e.state.Email){s.next=5;break}return s.abrupt("return");case 5:if(e.state.NewUsername===e.state.Username){s.next=12;break}return s.next=8,P.a.awrap(ie(e.state.NewUsername));case 8:if("Username is unavailable."!==(a=s.sent).Message){s.next=12;break}return e.validateField("NewUsername",a.Message),s.abrupt("return");case 12:if(e.state.NewEmail===e.state.Email){s.next=19;break}return s.next=15,P.a.awrap(oe(e.state.NewEmail));case 15:if("Email is already taken."!==(n=s.sent).Message){s.next=19;break}return e.validateField("NewEmail",n.Message),s.abrupt("return");case 19:if(e.state.NewEmail!==e.state.Email){s.next=27;break}return l={Token:localStorage.Token,Username:e.state.NewUsername,Email:e.state.NewEmail},e.setState({Preloader:r.a.createElement(be,null)}),console.log("Going to update username."),s.next=25,P.a.awrap(me(l).then((function(t){console.log(t),"Trader is updated."===t.Message&&e.props.OnSettingsSaved(),e.setState({Preloader:null})})));case 25:s.next=30;break;case 27:return console.log("Going to send code..."),s.next=30,P.a.awrap(ce(e.state.NewEmail).then((function(t){console.log(t),"Code sent."===t.Message&&e.setState({CodeConfirmationDialog:r.a.createElement(Ht,{Code:t.Code,Username:e.state.NewUsername,Email:e.state.NewEmail,OnCancel:function(){e.setState({CodeConfirmationDialog:null})},OnOK:function(t){t.click(),e.props.OnSettingsSaved()}})})})));case 30:case"end":return s.stop()}}))},e.state={Username:"",NewUsername:"",Email:"",NewEmail:"",Code:"",ValidNewUsername:!0,ValidNewEmail:!0,ValidForm:!1,CodeConfirmationDialog:null,Errors:{NewUsername:"",NewEmail:""},CodeConfirmation:"",Preloader:null},e.onChange=e.onChange.bind(Object(g.a)(e)),e.onSubmit=e.onSubmit.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;return P.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=5;break}return this.setState({Preloader:r.a.createElement(be,null)}),e={Token:localStorage.Token,Get:"Trader"},a.next=5,P.a.awrap(re(e).then((function(e){if("Trader found."===e.Message){var a=e.Trader;t.setState({Username:a.Username,NewUsername:a.Username,Email:a.Email,NewEmail:a.Email,Preloader:null})}else t.setState({Username:"",NewUsername:"",Email:"",NewEmail:"",Preloader:null})})));case 5:case"end":return a.stop()}}),null,this)}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidNewUsername,l=this.state.ValidNewEmail;switch(e){case"NewUsername":if(r=""!==t,n.NewUsername=r?"":"Username is required.",""!=n.NewUsername)break;if(r=t.match(/^[a-z0-9]+$/i),n.NewUsername=r?"":"Username is invalid.",""!=n.NewUsername)break;r="Username is unavailable."!==t,n.NewUsername=r?"":"Username is unavailable.";break;case"NewEmail":if(l=""!==t,n.NewEmail=l?"":"Email is required.",""!=n.NewEmail)break;if(l=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),n.NewEmail=l?"":"Email is invalid.",""!=n.NewEmail)break;l="Email is already taken."!==t,n.NewEmail=l?"":"Email is already taken."}this.setState({Errors:n,ValidNewUsername:r,ValidNewEmail:l},(function(){a.setState({ValidForm:a.state.ValidNewUsername&&a.state.ValidNewEmail})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Username and Emails"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"entity-list entity-list-expandable"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-at"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"NewUsername",className:"form-control",autoComplete:"off",value:this.state.NewUsername,onChange:this.onChange}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Username"),r.a.createElement("div",{className:"content-text-secondary text-danger"},this.state.Errors.NewUsername))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-envelope"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",name:"NewEmail",className:"form-control",placeholder:"someone@example.com",autoComplete:"off",value:this.state.NewEmail,onChange:this.onChange}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Email"),r.a.createElement("div",{className:"content-text-secondary text-danger"},this.state.Errors.NewEmail))),r.a.createElement("div",{className:"entity-list-item active"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-save"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Save Changes?"),r.a.createElement("div",{className:"content-text-secondary"},"This cannot be undone.")),r.a.createElement("div",{className:"item-content-expanded"},r.a.createElement("input",{type:"submit",value:"Save",className:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.Preloader,this.state.CodeConfirmationDialog)}}]),t}(n.Component),Zt=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(C.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),e.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,Password:e.state.CurrentPassword},n.next=6,P.a.awrap(de(a).then((function(t){var a;return P.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("Invalid password."!==t.Message){n.next=4;break}e.validateField("CurrentPassword",t.Message),n.next=8;break;case 4:return a={Token:localStorage.Token,Password:e.state.NewPassword},e.setState({Preloader:r.a.createElement(be,null)}),n.next=8,P.a.awrap(ue(a).then((function(t){"Trader is updated."===t.Message&&e.props.OnSettingsSaved(),e.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))})));case 6:case"end":return n.stop()}}))},e.state={CurrentPassword:"",NewPassword:"",ConfirmPassword:"",ValidCurrentPassword:!1,ValidNewPassword:!1,ValidConfirmPassword:!1,ValidForm:!1,Preloader:null,Errors:{CurrentPassword:"",NewPassword:"",ConfirmPassword:""}},e.onChange=e.onChange.bind(Object(g.a)(e)),e.onSubmit=e.onSubmit.bind(Object(g.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateField",value:function(e,t){var a,n,r,l,s=this;return P.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:a=this.state.Errors,n=this.state.ValidCurrentPassword,r=this.state.ValidNewPassword,l=this.state.ValidConfirmPassword,i.t0=e,i.next="CurrentPassword"===i.t0?7:"NewPassword"===i.t0?14:"ConfirmPassword"===i.t0?17:20;break;case 7:if(n=""!==t,a.CurrentPassword=n?"":"Current password is required.",""===a.CurrentPassword){i.next=11;break}return i.abrupt("break",21);case 11:return n="Invalid password."!==t,a.CurrentPassword=n?"":"Current password is invalid.",i.abrupt("break",21);case 14:return r=t.length>=6,a.NewPassword=r?"":"Password is too short.",i.abrupt("break",21);case 17:return l=t===this.state.NewPassword,a.ConfirmPassword=l?"":"Passwords did not match.",i.abrupt("break",21);case 20:return i.abrupt("break",21);case 21:this.setState({Errors:a,ValidCurrentPassword:n,ValidNewPassword:r,ValidConfirmPassword:l},(function(){s.setState({ValidForm:s.state.ValidCurrentPassword&&s.state.ValidNewPassword&&s.state.ValidConfirmPassword})}));case 22:case"end":return i.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Change Password"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"entity-list entity-list-expandable"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-key"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",name:"CurrentPassword",className:"form-control",autoComplete:"off",value:this.state.CurrentPassword,onChange:this.onChange}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Current Password"),r.a.createElement("div",{className:"text-danger"},this.state.Errors.CurrentPassword))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-key"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",name:"NewPassword",className:"form-control",autoComplete:"off",value:this.state.NewPassword,onChange:this.onChange}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"New Password"),r.a.createElement("div",{className:"text-danger"},this.state.Errors.NewPassword))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-key"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",name:"ConfirmPassword",className:"form-control",autoComplete:"off",value:this.state.ConfirmPassword,onChange:this.onChange}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Confirm Password"),r.a.createElement("div",{className:"text-danger"},this.state.Errors.ConfirmPassword))),r.a.createElement("div",{className:"entity-list-item active"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-save"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Save Changes?"),r.a.createElement("div",{className:"content-text-secondary"},"This cannot be undone.")),r.a.createElement("div",{className:"item-content-expanded"},r.a.createElement("input",{type:"submit",value:"Save",className:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.Preloader)}}]),t}(n.Component),ea=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(Kt,{ref:"GeneralSettings",OnSettingsSaved:function(){e.refs.GeneralSettings.componentDidMount()}}),r.a.createElement($t,{ref:"UsernameAndEmailSettings",OnSettingsSaved:function(){e.refs.UsernameAndEmailSettings.componentDidMount()}}),r.a.createElement(Zt,{ref:"PasswordSettings",OnSettingsSaved:function(){e.refs.PasswordSettings.forceUpdate()}}))}}]),t}(n.Component),ta=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return localStorage.Token?r.a.createElement("div",null,r.a.createElement("ul",{className:"nav nav-tabs theme-alt",role:"tablist",style:Re},r.a.createElement("li",{role:"presentation",className:"active"},r.a.createElement("a",{href:"#profile","aria-controls":"profile",role:"tab","data-toggle":"tab",onClick:function(){e.refs.Profile.componentDidMount()}},"Profile")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#jobs","aria-controls":"jobs",role:"tab","data-toggle":"tab"},"Jobs")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#payments","aria-controls":"payments",role:"tab","data-toggle":"tab"},"Payments")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#settings","aria-controls":"settings",role:"tab","data-toggle":"tab"},"Settings"))),r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"profile"},r.a.createElement(qt,{ref:"Profile"})),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"jobs"},r.a.createElement(zt,null)),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"payments"},"Payments"),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"settings"},r.a.createElement(ea,null)))):r.a.createElement(p.a,{to:"/login"})}}]),t}(n.Component),aa=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("a",{id:"up",href:"#top",className:"back-to-top",style:{position:"fixed",right:"20px",bottom:"20px"}},r.a.createElement("i",{className:"glyph glyph-up",style:{color:"#008575"}}),r.a.createElement("span",{className:"sr-only"},"Back to top"))}}]),t}(n.Component),na=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{className:"border-top footer theme-default color-bg-light-neutral-high text-light"},r.a.createElement("div",{className:"container"},"\xa9 ",(new Date).getFullYear()," - Core Infinite - ",r.a.createElement("a",{"asp-area":"","asp-controller":"Home","asp-action":"Privacy"},"Privacy")))}}]),t}(n.Component),ra=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(u.a,{basename:"/"},r.a.createElement("div",{className:"App"},r.a.createElement(y,null),r.a.createElement(p.b,{exact:!0,path:"/",component:N}),r.a.createElement(p.b,{exact:!0,path:"/register",component:De}),r.a.createElement(p.b,{exact:!0,path:"/emailConfirmation",component:Te}),r.a.createElement(p.b,{exact:!0,path:"/setupAccount",component:Le}),r.a.createElement(p.b,{exact:!0,path:"/congratulations",component:Ue}),r.a.createElement(p.b,{exact:!0,path:"/login",component:Se}),r.a.createElement(p.b,{exact:!0,path:"/drivers",component:Dt}),r.a.createElement(p.b,{exact:!0,path:"/traders",component:ta}),r.a.createElement(aa,null),r.a.createElement(na,null)))}}]),t}(n.Component);s.a.render(r.a.createElement(ra,null),document.getElementById("root"))},9:function(e,t){e.exports={APP_NAME:"Naqel",USER_TOKEN:"userToken",USER_NOT_FOUND:"Username not found.",INVALID_PASSWORD:"Invalid password.",USERNAME_OR_EMAIL_TAKEN:"Username or email is already taken.",NAQEL_SERVER:"https://naqelserver.azurewebsites.net/",IMAGE_UPLOADER:"https://us-central1-naqel-transport-jobs.cloudfunctions.net/uploadImage"}}},[[174,1,2]]]);
//# sourceMappingURL=main.b460890d.chunk.js.map