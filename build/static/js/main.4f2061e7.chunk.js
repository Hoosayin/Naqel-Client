(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{185:function(e,t,a){e.exports=a(428)},190:function(e,t,a){},428:function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),l=a(64),c=a.n(l),o=(a(190),a(2)),i=a(3),m=a(5),d=a(4),u=a(6),p=a(12),E=a(43),h=a(7),b=a(36),v=a.n(b),f=a(8),g=a.n(f),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).logOut=function(e){e.preventDefault(),localStorage.userToken?localStorage.removeItem("userToken"):localStorage.Token&&localStorage.removeItem("Token"),a.props.history.push("/login")},a.state={DriverLoggedIn:!1},a.logOut=a.logOut.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e,t;localStorage.Token&&(t=(e=v()(localStorage.Token)).DriverID?"/drivers":e.TraderID?"/traders":e.AdministratorID?"/administrators":e.TransportCompanyResponsibleID?"/transportCompanyResponsibles":"/login");var a=s.a.createElement("ul",{className:"nav navbar-nav navbar-right"},s.a.createElement("li",null,s.a.createElement(p.b,{to:"/register"},"Register")),s.a.createElement("li",null,s.a.createElement(p.b,{to:"/login"},"Login"))),n=s.a.createElement("ul",{className:"nav navbar-nav navbar-right"},s.a.createElement("li",null,s.a.createElement(p.b,{to:t},"Dashboard")),s.a.createElement("li",null,s.a.createElement(p.b,{to:"",onClick:this.logOut.bind(this)},"Logout")));return s.a.createElement("header",null,s.a.createElement("nav",{className:"navbar navbar-default"},s.a.createElement("div",{className:"navbar-local color-accent theme-dark"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"navbar-header"},s.a.createElement("button",{type:"button",className:"navbar-toggle collapsed","data-toggle":"collapse","data-target":"#bs-example-navbar-collapse-2"},s.a.createElement("span",{className:"sr-only"},"Toggle navigation"),s.a.createElement("i",{className:"glyph glyph-hamburger"})),s.a.createElement(p.b,{to:"/",className:"navbar-brand"},g.a.APP_NAME.toUpperCase())),s.a.createElement("div",{className:"collapse navbar-collapse",id:"bs-example-navbar-collapse-2"},s.a.createElement("ul",{className:"nav navbar-nav"}),localStorage.Token?n:a)))))}}]),t}(r.Component),y=Object(E.f)(N),x=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement("div",{class:"jumbotron theme-alt",style:{width:"100%",backgroundColor:"#202020"}},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},s.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"truck.png",src:"./images/truck.png","data-source-index":"2"})),s.a.createElement("div",{class:"col-md-12 col-md-pull-12"},s.a.createElement("div",{class:"type-h3",style:{color:"#008575"}},"Weclome to Naqel"),s.a.createElement("div",{class:"type-sh3",style:{color:"#949496"}},"Transport Services On-The-Go"),s.a.createElement("p",{style:{color:"#D1D2D4"}},"Welcome to Naqel! If you are a trader or a broker, and you want to publish job opportunities for drivers nearby, well, you are on the right place. Naqel is a mediator among traders, brokers and drivers, and provides intuitive and secure way to get transport services."),s.a.createElement("p",{style:{color:"#D1D2D4"}},"Not a Trader or a Broker? No worries! Naqel provides services for drivers too. If you are a driver, and you are searching for job opportunities, you are just one step away. Create your account on our Web Service, and we will notify you job oppprtunities on your personal account."))))),s.a.createElement("div",{class:"jumbotron theme-alt",style:{width:"100%",backgroundColor:"#16171F"}},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},s.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"oath.png",src:"./images/oath.png","data-source-index":"2"})),s.a.createElement("div",{class:"col-md-12 col-md-pull-12"},s.a.createElement("div",{class:"type-h3",style:{color:"#008575"}},"Privacy"),s.a.createElement("div",{class:"type-sh3",style:{color:"#949496"}},"Your Privacy is Important to Us"),s.a.createElement("p",{style:{color:"#D1D2D4"}},"Naqel's Privacy Statement describes the types of data we collect from you, how we use your data, and the legal bases we have to process your data. The Privacy Statement also describes how Naqel uses your content, which is information submitted by you to Naqel via the Services."),s.a.createElement("p",{style:{color:"#D1D2D4"}},"Where processing is based on consent and to the extent permitted by law, by agreeing to these Terms, you consent to Naqel's collection, use and disclosure of your content and data as described in the privacy statement."))))),s.a.createElement("div",{class:"jumbotron theme-alt",style:{width:"100%",backgroundColor:"#00201C"}},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},s.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"account.png",src:"./images/account.png","data-source-index":"2"})),s.a.createElement("div",{class:"col-md-12 col-md-pull-12"},s.a.createElement("div",{class:"type-h3",style:{color:"#008575"}},"User Accounts"),s.a.createElement("div",{class:"type-sh3",style:{color:"#949496"}},"Signup and/or Login"),s.a.createElement("p",{style:{color:"#D1D2D4"}},"Do you want to use our services right now? No Worries! Just signup by filling up precise forms and/or login to your profile. Drivers can view job opprotunities on their dashboards. Traders and/or Brokers can post job requests for freight from thier accounts."),s.a.createElement("div",{class:"btn-group"},s.a.createElement(p.b,{to:"/register",class:"btn btn-secondary"},"Signup"),s.a.createElement(p.b,{to:"/login",class:"btn btn-primary"},"Login")))))),s.a.createElement("div",{class:"jumbotron theme-dark",style:{backgroundColor:"#202020",height:"100vh"}},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-24 text-center"},s.a.createElement("div",{class:"row section-gallery"},s.a.createElement("div",{class:"col-md-8"},s.a.createElement("h4",{style:{fontWeight:"bold"}},"LOCATION"),s.a.createElement("div",{class:"type-p1 text-center"},"Wah",s.a.createElement("br",null),"Punjab, Pakistan")),s.a.createElement("div",{class:"col-md-8"},s.a.createElement("h4",{style:{fontWeight:"bold"}},"AROUND THE GLOBE"),s.a.createElement("div",{class:"type-p1 text-center text-light",style:{color:"#25AAE1"}},s.a.createElement("a",{class:"fa",href:"#"},s.a.createElement("i",{class:"fab fa-fw fa-facebook-f"})),s.a.createElement("a",{class:"fa",href:"#"},s.a.createElement("i",{class:"fab fa-fw fa-instagram"})),s.a.createElement("a",{class:"fa",href:"#"},s.a.createElement("i",{class:"fab fa-fw fa-twitter"})))),s.a.createElement("div",{class:"col-md-8"},s.a.createElement("h4",{style:{fontWeight:"bold"}},"CONTACT US"),s.a.createElement("div",{class:"type-p1 text-center"},"Naqel is created by Core Infinite. For more information, visit ",s.a.createElement("a",{style:{textDecoration:"none",color:"#008575"},href:"#",class:"color-type-accent"},"coreinfinte.com")))))))))}}]),t}(r.Component),S=x,C=a(1),O=a.n(C),w=a(9),k=a(10),P=a.n(k),j=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/register"),{Username:e.Username,Email:e.Email,Password:e.Password,RegisterAs:e.RegisterAs}).then((function(e){return 0===e.data.localeCompare(g.a.USERNAME_OR_EMAIL_TAKEN)?e.data:(localStorage.setItem("newCredentialsToken",e.data),e.data)})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},T=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"users/accountSetup"),{Username:e.Username,Email:e.Email,Password:e.Password,RegisterAs:e.RegisterAs,FirstName:e.FirstName,LastName:e.LastName,DateOfBirth:e.DateOfBirth,Gender:e.Gender,Address:e.Address,PhoneNumber:e.PhoneNumber,Nationality:e.Nationality}).then((function(e){console.log(e.data)})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},R=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request on ".concat(g.a.NAQEL_SERVER,"drivers/login")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/login"),{EmailOrUsername:e.EmailOrUsername,Password:e.Password,SignInAs:e.SignInAs}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},D=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending GET request to ".concat(g.a.NAQEL_SERVER,"drivers/get").concat(e.Get,"...")),t.next=3,O.a.awrap(P.a.get("".concat(g.a.NAQEL_SERVER,"drivers/get").concat(e.Get),{params:e.Params,headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},A=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/uploadDriverProfilePhoto")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/uploadDriverProfilePhoto"),{PhotoURL:e.PhotoURL,FileName:e.FileName},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},F=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/generalSettings"),{FirstName:e.FirstName,LastName:e.LastName,Address:e.Address,PhoneNumber:e.PhoneNumber,Gender:e.Gender,Nationality:e.Nationality,DateOfBirth:e.DateOfBirth},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},L=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/validateUsername"),{Username:e}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},I=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/validateEmail"),{Email:e}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},U=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"users/sendCode...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"users/sendCode"),{Email:e}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},V=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/usernameAndEmailSettings...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/usernameAndEmailSettings"),{Username:e.Username,Email:e.Email},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},J=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/validatePassword"),{Password:e.Password},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},M=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/passwordSettings"),{Password:e.Password},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},B=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/addTruck...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/addTruck"),{TransportCompanyResponsibleID:e.TransportCompanyResponsibleID,PlateNumber:e.PlateNumber,Owner:e.Owner,ProductionYear:e.ProductionYear,Brand:e.Brand,Model:e.Model,Type:e.Type,MaximumWeight:e.MaximumWeight,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},q=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/updateTruckPhoto...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/updateTruckPhoto"),{PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Q=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/updateTruck...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/updateTruck"),{TransportCompanyResponsibleID:e.TransportCompanyResponsibleID,PlateNumber:e.PlateNumber,Owner:e.Owner,ProductionYear:e.ProductionYear,Brand:e.Brand,Model:e.Model,Type:e.Type,MaximumWeight:e.MaximumWeight},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},W=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(g.a.NAQEL_SERVER,"drivers/deleteTruck...")),t.next=3,O.a.awrap(P.a.delete("".concat(g.a.NAQEL_SERVER,"drivers/deleteTruck"),{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},G=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/addTrailer...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/addTrailer"),{MaximumWeight:e.MaximumWeight,PhotoURL:e.PhotoURL,Type:e.Type},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},_=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(g.a.NAQEL_SERVER,"drivers/deleteTrailer...")),t.next=3,O.a.awrap(P.a.delete("".concat(g.a.NAQEL_SERVER,"drivers/deleteTrailer"),{headers:{Authorization:"JWT ".concat(e.Token)},data:{TrailerID:e.TrailerID}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},z=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/addDrivingLicence...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/addDrivingLicence"),{LicenceNumber:e.LicenceNumber,Type:e.Type,ReleaseDate:e.ReleaseDate,ExpiryDate:e.ExpiryDate,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},H=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/updateDrivingLicence...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/updateDrivingLicence"),{LicenceNumber:e.LicenceNumber,Type:e.Type,ReleaseDate:e.ReleaseDate,ExpiryDate:e.ExpiryDate,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},K=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(g.a.NAQEL_SERVER,"drivers/deleteDrivingLicence...")),t.next=3,O.a.awrap(P.a.delete("".concat(g.a.NAQEL_SERVER,"drivers/deleteDrivingLicence"),{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Y=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/addEntryExitCard...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/addEntryExitCard"),{EntryExitNumber:e.EntryExitNumber,Type:e.Type,ReleaseDate:e.ReleaseDate,NumberOfMonths:e.NumberOfMonths},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},$=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/updateEntryExitCard...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/updateEntryExitCard"),{EntryExitNumber:e.EntryExitNumber,Type:e.Type,ReleaseDate:e.ReleaseDate,NumberOfMonths:e.NumberOfMonths},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},X=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(g.a.NAQEL_SERVER,"drivers/deleteEntryExitCard...")),t.next=3,O.a.awrap(P.a.delete("".concat(g.a.NAQEL_SERVER,"drivers/deleteEntryExitCard"),{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Z=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/addIdentityCard...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/addIdentityCard"),{Token:e.Token,IDNumber:e.IDNumber,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},ee=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/updateIdentityCard...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/updateIdentityCard"),{Token:e.Token,IDNumber:e.IDNumber,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},te=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(g.a.NAQEL_SERVER,"drivers/deleteIdentityCard...")),t.next=3,O.a.awrap(P.a.delete("".concat(g.a.NAQEL_SERVER,"drivers/deleteIdentityCard"),{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},ae=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/addPermitLicence...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/addPermitLicence"),{PermitNumber:e.PermitNumber,ExpiryDate:e.ExpiryDate,PhotoURL:e.PhotoURL,Code:e.Code,Place:e.Place},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},ne=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(g.a.NAQEL_SERVER,"drivers/deletePermitLicence...")),t.next=3,O.a.awrap(P.a.delete("".concat(g.a.NAQEL_SERVER,"drivers/deletePermitLicence"),{headers:{Authorization:"JWT ".concat(e.Token)},data:{PermitLicenceID:e.PermitLicenceID}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},re=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/updatePermitLicence...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/updatePermitLicence"),{PermitLicenceID:e.PermitLicenceID,PermitNumber:e.PermitNumber,ExpiryDate:e.ExpiryDate,PhotoURL:e.PhotoURL,Code:e.Code,Place:e.Place},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},se=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/addJobRequest...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/addJobRequest"),{LoadingPlace:e.LoadingPlace,LoadingLat:e.LoadingLat,LoadingLng:e.LoadingLng,UnloadingPlace:e.UnloadingPlace,UnloadingLat:e.UnloadingLat,UnloadingLng:e.UnloadingLng,TripType:e.TripType,Price:e.Price},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},le=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/updateJobRequest...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/updateJobRequest"),{JobRequestID:e.JobRequestID,LoadingPlace:e.LoadingPlace,LoadingLat:e.LoadingLat,LoadingLng:e.LoadingLng,UnloadingPlace:e.UnloadingPlace,UnloadingLat:e.UnloadingLat,UnloadingLng:e.UnloadingLng,TripType:e.TripType,Price:e.Price},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},ce=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(g.a.NAQEL_SERVER,"drivers/deleteJobRequest...")),t.next=3,O.a.awrap(P.a.delete("".concat(g.a.NAQEL_SERVER,"drivers/deleteJobRequest"),{headers:{Authorization:"JWT ".concat(e.Token)},data:{JobRequestID:e.JobRequestID}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},oe=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/addDriverRequest...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/addDriverRequest"),{JobOfferID:e.JobOfferID,Price:e.Price},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},ie=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(g.a.NAQEL_SERVER,"drivers/deleteDriverRequest...")),t.next=3,O.a.awrap(P.a.delete("".concat(g.a.NAQEL_SERVER,"drivers/deleteDriverRequest"),{headers:{Authorization:"JWT ".concat(e.Token)},data:{JobOfferID:e.JobOfferID}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},me=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/addObjectionReason...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/addObjectionReason"),{Reason:e.Reason},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},de=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/addJobObjection...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/addJobObjection"),{OnGoingJobID:e.OnGoingJobID,Reason:e.Reason,Comment:e.Comment},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},ue=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/finishJob...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/finishJob"),{},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},pe=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/toggleSelectTraderRequest...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/toggleSelectTraderRequest"),{TraderRequestID:e.TraderRequestID,Selected:e.Selected},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Ee=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/approveTraderPayProof...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/approveTraderPayProof"),{TraderPayProofID:e.TraderPayProofID},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},he=function(e){return P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/addDriverPayProof"),{DriverBillID:e.DriverBillID,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))},be=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(g.a.NAQEL_SERVER,"drivers/deleteDriverPayProof...")),t.next=3,O.a.awrap(P.a.delete("".concat(g.a.NAQEL_SERVER,"drivers/deleteDriverPayProof"),{headers:{Authorization:"JWT ".concat(e.Token)},data:{DriverPayProofID:e.DriverPayProofID}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},ve=function(e){return P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/addQuestion"),{Question:e.Question},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))},fe=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(g.a.NAQEL_SERVER,"drivers/deleteQuestion...")),t.next=3,O.a.awrap(P.a.delete("".concat(g.a.NAQEL_SERVER,"drivers/deleteQuestion"),{headers:{Authorization:"JWT ".concat(e.Token)},data:{DriverQuestionID:e.DriverQuestionID}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},ge=function(e){return P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/getClientSecret"),{Amount:e.Amount},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))},Ne=function(e){return P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/addDriverPayDetails"),{DriverBillID:e.DriverBillID,OwnerName:e.OwnerName,OwnerEmail:e.OwnerEmail,CardType:e.CardType},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))},ye=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("I'm in registerTrader axios..."),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"traders/register"),{Username:e.Username,Email:e.Email,Password:e.Password,RegisterAs:e.RegisterAs}).then((function(e){return 0===e.data.localeCompare(g.a.USERNAME_OR_EMAIL_TAKEN)?e.data:(localStorage.setItem("newCredentialsToken",e.data),e.data)})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},xe=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"users/accountSetup"),{Username:e.Username,Email:e.Email,Password:e.Password,RegisterAs:e.RegisterAs,FirstName:e.FirstName,LastName:e.LastName,DateOfBirth:e.DateOfBirth,Gender:e.Gender,Address:e.Address,PhoneNumber:e.PhoneNumber,Nationality:e.Nationality}).then((function(e){console.log(e.data)})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},Se=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"traders/login"),{EmailOrUsername:e.EmailOrUsername,Password:e.Password}).then((function(e){return e.data})).catch((function(e){console.log(e)})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},Ce=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending GET request to ".concat(g.a.NAQEL_SERVER,"traders/get").concat(e.Get,"...")),t.next=3,O.a.awrap(P.a.get("".concat(g.a.NAQEL_SERVER,"traders/get").concat(e.Get),{params:e.Params,headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Oe=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"traders/uploadTraderProfilePhoto"),{PhotoURL:e.PhotoURL,FileName:e.FileName},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},we=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"traders/generalSettings"),{FirstName:e.FirstName,LastName:e.LastName,Address:e.Address,PhoneNumber:e.PhoneNumber,Gender:e.Gender,Nationality:e.Nationality,DateOfBirth:e.DateOfBirth},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},ke=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"traders/validateUsername"),{Username:e}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},Pe=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"traders/validateEmail"),{Email:e}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},je=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"users/sendCode"),{Email:e}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},Te=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"traders/usernameAndEmailSettings"),{Username:e.Username,Email:e.Email},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},Re=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"traders/validatePassword"),{Password:e.Password},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},De=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"traders/passwordSettings"),{Password:e.Password},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},Ae=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"traders/addJobOffer"),{TripType:e.TripType,CargoType:e.CargoType,CargoWeight:e.CargoWeight,LoadingPlace:e.LoadingPlace,LoadingLat:e.LoadingLat,LoadingLng:e.LoadingLng,UnloadingPlace:e.UnloadingPlace,UnloadingLat:e.UnloadingLat,UnloadingLng:e.UnloadingLng,LoadingDate:e.LoadingDate,LoadingTime:e.LoadingTime,EntryExit:e.EntryExit,Price:e.Price,AcceptedDelay:e.AcceptedDelay,JobOfferType:e.JobOfferType},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},Fe=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"traders/updateJobOffer"),{JobOfferID:e.JobOfferID,TripType:e.TripType,CargoType:e.CargoType,CargoWeight:e.CargoWeight,LoadingPlace:e.LoadingPlace,LoadingLat:e.LoadingLat,LoadingLng:e.LoadingLng,UnloadingPlace:e.UnloadingPlace,UnloadingLat:e.UnloadingLat,UnloadingLng:e.UnloadingLng,LoadingDate:e.LoadingDate,LoadingTime:e.LoadingTime,EntryExit:e.EntryExit,Price:e.Price,AcceptedDelay:e.AcceptedDelay,JobOfferType:e.JobOfferType},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},Le=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(g.a.NAQEL_SERVER,"traders/deleteJobOffer...")),t.next=3,O.a.awrap(P.a.delete("".concat(g.a.NAQEL_SERVER,"traders/deleteJobOffer"),{headers:{Authorization:"JWT ".concat(e.Token)},data:{JobOfferID:e.JobOfferID}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Ie=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"traders/addTraderRequest...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"traders/addTraderRequest"),{JobRequestID:e.JobRequestID,CargoType:e.CargoType,CargoWeight:e.CargoWeight,LoadingDate:e.LoadingDate,LoadingTime:e.LoadingTime,EntryExit:e.EntryExit,AcceptedDelay:e.AcceptedDelay},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Ue=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(g.a.NAQEL_SERVER,"traders/deleteTraderRequest...")),t.next=3,O.a.awrap(P.a.delete("".concat(g.a.NAQEL_SERVER,"traders/deleteTraderRequest"),{headers:{Authorization:"JWT ".concat(e.Token)},data:{JobRequestID:e.JobRequestID}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Ve=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"traders/addObjectionReason...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"traders/addObjectionReason"),{Reason:e.Reason},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Je=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"traders/addJobObjection...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"traders/addJobObjection"),{OnGoingJobID:e.OnGoingJobID,Reason:e.Reason,Comment:e.Comment},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Me=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"traders/approveJob...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"traders/approveJob"),{},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Be=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"traders/addDriverReview...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"traders/addDriverReview"),{CompletedJobID:e.CompletedJobID,Rating:e.Rating,Review:e.Review},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},qe=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"traders/addOnGoingJobFromJobOffer...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"traders/addOnGoingJobFromJobOffer"),{DriverRequestID:e.DriverRequestID},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Qe=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"traders/addOnGoingJobFromJobRequest...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"traders/addOnGoingJobFromJobRequest"),{TraderRequestID:e.TraderRequestID},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},We=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"traders/addDriverReviewFromOnGoingJob...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"traders/addDriverReviewFromOnGoingJob"),{OnGoingJobID:e.OnGoingJobID,Rating:e.Rating,Review:e.Review},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Ge=function(e){return P.a.post("".concat(g.a.NAQEL_SERVER,"traders/addTraderPayProof"),{TraderBillID:e.TraderBillID,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))},_e=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(g.a.NAQEL_SERVER,"traders/deleteTraderPayProof...")),t.next=3,O.a.awrap(P.a.delete("".concat(g.a.NAQEL_SERVER,"traders/deleteTraderPayProof"),{headers:{Authorization:"JWT ".concat(e.Token)},data:{TraderPayProofID:e.TraderPayProofID}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},ze=function(e){return P.a.post("".concat(g.a.NAQEL_SERVER,"traders/getClientSecret"),{Amount:e.Amount},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))},He=function(e){return P.a.post("".concat(g.a.NAQEL_SERVER,"traders/requestSpecialBill"),{TraderBillID:e.TraderBillID,Amount:e.Amount},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))},Ke=function(e){return P.a.post("".concat(g.a.NAQEL_SERVER,"traders/addQuestion"),{Question:e.Question},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))},Ye=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(g.a.NAQEL_SERVER,"traders/deleteQuestion...")),t.next=3,O.a.awrap(P.a.delete("".concat(g.a.NAQEL_SERVER,"traders/deleteQuestion"),{headers:{Authorization:"JWT ".concat(e.Token)},data:{TraderQuestionID:e.TraderQuestionID}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},$e=function(e){return P.a.post("".concat(g.a.NAQEL_SERVER,"traders/addTraderPayDetails"),{TraderBillID:e.TraderBillID,OwnerName:e.OwnerName,OwnerEmail:e.OwnerEmail,CardType:e.CardType},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))},Xe=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/register"),{Username:e.Username,Email:e.Email,Password:e.Password,RegisterAs:e.RegisterAs}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},Ze=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/setupAccount"),{Username:e.Username,Email:e.Email,Password:e.Password,RegisterAs:e.RegisterAs,FirstName:e.FirstName,LastName:e.LastName,AdministratorSecret:e.AdministratorSecret}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},et=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request on ".concat(g.a.NAQEL_SERVER,"administrators/login")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/login"),{EmailOrUsername:e.EmailOrUsername,Password:e.Password,SignInAs:e.SignInAs}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},tt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending GET request to ".concat(g.a.NAQEL_SERVER,"administrators/get").concat(e.Get,"...")),t.next=3,O.a.awrap(P.a.get("".concat(g.a.NAQEL_SERVER,"administrators/get").concat(e.Get),{params:e.Params,headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},at=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/uploadProfilePhoto")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/uploadProfilePhoto"),{PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},nt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/generalSettings"),{FirstName:e.FirstName,LastName:e.LastName},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},rt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/validateUsername"),{Username:e}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},st=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/validateEmail"),{Email:e}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},lt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"users/sendCode...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"users/sendCode"),{Email:e}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},ct=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/usernameAndEmailSettings...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/usernameAndEmailSettings"),{Username:e.Username,Email:e.Email},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},ot=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/validatePassword"),{Password:e.Password},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},it=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/passwordSettings"),{Password:e.Password},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},mt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/updateNaqelSettings"),{Street:e.Street,City:e.City,Country:e.Country,ZIPCode:e.ZIPCode,PhoneNumber:e.PhoneNumber,Website:e.Website,BusinessName:e.BusinessName,BankName:e.BankName,AccountNumber:e.AccountNumber},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},dt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/activateDriverAccount...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/activateDriverAccount"),{DriverID:e.DriverID},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},ut=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/blockDriverAccount...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/blockDriverAccount"),{DriverID:e.DriverID,BlockDate:e.BlockDate,Reason:e.Reason},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},pt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/unblockDriverAccount...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/unblockDriverAccount"),{DriverID:e.DriverID},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Et=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/setRefundRate...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/setRefundRate"),{TraderID:e.TraderID,RefundRate:e.RefundRate},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},ht=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/exonerateTrader"),{TraderID:e.TraderID,ExonerateDate:e.ExonerateDate,Reason:e.Reason},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},bt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/chargeTrader"),{TraderID:e.TraderID},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},vt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/addTraderObjectionReason...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/addTraderObjectionReason"),{Reason:e.Reason},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},ft=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(g.a.NAQEL_SERVER,"administrators/deleteTraderObjectionReason...")),t.next=3,O.a.awrap(P.a.delete("".concat(g.a.NAQEL_SERVER,"administrators/deleteTraderObjectionReason"),{headers:{Authorization:"JWT ".concat(e.Token)},data:{DriverObjectionReasonID:e.DriverObjectionReasonID}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},gt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/verifyTraderObjectionReason...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/verifyTraderObjectionReason"),{DriverObjectionReasonID:e.DriverObjectionReasonID},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Nt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/addDriverObjectionReason...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/addDriverObjectionReason"),{Reason:e.Reason},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},yt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(g.a.NAQEL_SERVER,"administrators/deleteDriverObjectionReason...")),t.next=3,O.a.awrap(P.a.delete("".concat(g.a.NAQEL_SERVER,"administrators/deleteDriverObjectionReason"),{headers:{Authorization:"JWT ".concat(e.Token)},data:{DriverObjectionReasonID:e.DriverObjectionReasonID}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},xt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/verifyDriverObjectionReason...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/verifyDriverObjectionReason"),{DriverObjectionReasonID:e.DriverObjectionReasonID},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},St=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(g.a.NAQEL_SERVER,"administrators/discardObjectionableJob...")),t.next=3,O.a.awrap(P.a.delete("".concat(g.a.NAQEL_SERVER,"administrators/discardObjectionableJob"),{headers:{Authorization:"JWT ".concat(e.Token)},data:{OnGoingJobID:e.OnGoingJobID}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Ct=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/addDriverAnswer...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/addDriverAnswer"),{DriverQuestionID:e.DriverQuestionID,Answer:e.Answer},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Ot=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/addDriverQuestionClass...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/addDriverQuestionClass"),{Class:e.Class},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},wt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/classifyDriverQuestion...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/classifyDriverQuestion"),{DriverQuestionID:e.DriverQuestionID,Class:e.Class},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},kt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/addTraderAnswer...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/addTraderAnswer"),{TraderQuestionID:e.TraderQuestionID,Answer:e.Answer},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Pt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/addTraderQuestionClass...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/addTraderQuestionClass"),{Class:e.Class},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},jt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/classifyTraderQuestion...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/classifyTraderQuestion"),{TraderQuestionID:e.TraderQuestionID,Class:e.Class},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Tt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/addResponsibleAnswer"),{ResponsibleQuestionID:e.ResponsibleQuestionID,Answer:e.Answer},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},Rt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/addResponsibleQuestionClass"),{Class:e.Class},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},Dt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/classifyResponsibleQuestion"),{ResponsibleQuestionID:e.ResponsibleQuestionID,Class:e.Class},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},At=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/setGlobalFeeRate...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/setGlobalFeeRate"),{FeeRate:e.FeeRate},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Ft=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/setTemporaryFeeRate...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/setTemporaryFeeRate"),{FeeRate:e.FeeRate,Date:e.Date},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Lt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/clearTemporaryFeeRate...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/clearTemporaryFeeRate"),{},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},It=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/addPriceRange...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/addPriceRange"),{StartRange:e.StartRange,EndRange:e.EndRange,FeeRate:e.FeeRate},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Ut=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/updatePriceRange...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/updatePriceRange"),{PriceRangeID:e.PriceRangeID,FeeRate:e.FeeRate},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Vt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(g.a.NAQEL_SERVER,"administrators/deletePriceRange...")),t.next=3,O.a.awrap(P.a.delete("".concat(g.a.NAQEL_SERVER,"administrators/deletePriceRange"),{headers:{Authorization:"JWT ".concat(e.Token)},data:{PriceRangeID:e.PriceRangeID}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Jt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/addTraderRate...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/addTraderRate"),{Username:e.Username,FeeRate:e.FeeRate},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Mt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/updateTraderRate...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/updateTraderRate"),{TraderRateID:e.TraderRateID,FeeRate:e.FeeRate},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Bt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(g.a.NAQEL_SERVER,"administrators/deleteTraderRate...")),t.next=3,O.a.awrap(P.a.delete("".concat(g.a.NAQEL_SERVER,"administrators/deleteTraderRate"),{headers:{Authorization:"JWT ".concat(e.Token)},data:{TraderRateID:e.TraderRateID}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},qt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"administrators/approveDriverPayProof...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"administrators/approveDriverPayProof"),{DriverPayProofID:e.DriverPayProofID},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},Qt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"transportCompanyResponsibles/register"),{Username:e.Username,Email:e.Email,Password:e.Password,RegisterAs:e.RegisterAs}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},Wt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"transportCompanyResponsibles/setupAccount"),{Username:e.Username,Email:e.Email,Password:e.Password,RegisterAs:e.RegisterAs,Name:e.Name,PhoneNumber:e.PhoneNumber}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},Gt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"transportCompanyResponsibles/login"),{EmailOrUsername:e.EmailOrUsername,Password:e.Password,SignInAs:e.SignInAs}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},_t=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.get("".concat(g.a.NAQEL_SERVER,"transportCompanyResponsibles/get").concat(e.Get),{params:e.Params,headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},zt=function(e){return P.a.post("".concat(g.a.NAQEL_SERVER,"transportCompanyResponsibles/addCommercialRegisterCertificate"),{Type:e.Type,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))},Ht=function(e){return P.a.post("".concat(g.a.NAQEL_SERVER,"transportCompanyResponsibles/updateCommercialRegisterCertificate"),{Type:e.Type,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))},Kt=function(e){return P.a.delete("".concat(g.a.NAQEL_SERVER,"transportCompanyResponsibles/deleteCommercialRegisterCertificate"),{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))},Yt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"transportCompanyResponsibles/generalSettings"),{Name:e.Name,PhoneNumber:e.PhoneNumber},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},$t=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"transportCompanyResponsibles/validateUsername"),{Username:e}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},Xt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"transportCompanyResponsibles/validateEmail"),{Email:e}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},Zt=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"users/sendCode...")),t.next=3,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"users/sendCode"),{Email:e}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},ea=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"transportCompanyResponsibles/usernameAndEmailSettings"),{Username:e.Username,Email:e.Email},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},ta=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"transportCompanyResponsibles/validatePassword"),{Password:e.Password},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},aa=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.post("".concat(g.a.NAQEL_SERVER,"transportCompanyResponsibles/passwordSettings"),{Password:e.Password},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},na=function(e){return P.a.post("".concat(g.a.NAQEL_SERVER,"transportCompanyResponsibles/addQuestion"),{Question:e.Question},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))},ra=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(P.a.delete("".concat(g.a.NAQEL_SERVER,"transportCompanyResponsibles/deleteQuestion"),{headers:{Authorization:"JWT ".concat(e.Token)},data:{ResponsibleQuestionID:e.ResponsibleQuestionID}}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},sa={paddingLeft:"5px",fontWeight:"bold"},la={background:"rgba(0, 0, 0, 0.8)",position:"fixed",zIndex:"10",top:"0px",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},ca=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{style:la},s.a.createElement("div",{style:{textAlign:"center"}},s.a.createElement("div",{class:"progress-ring progress-large"},s.a.createElement("div",{class:"progress-circle"}),s.a.createElement("div",{class:"progress-circle"}),s.a.createElement("div",{class:"progress-circle"}),s.a.createElement("div",{class:"progress-circle"}),s.a.createElement("div",{class:"progress-circle"}))))}}]),t}(r.Component),oa={backgroundImage:"url(/images/login_back.jpg)",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100vh"},ia={backgroundImage:"url(/images/signup_back.jpg)",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100vh"},ma={backgroundImage:"url(/images/passcode_back.jpg)",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100vh"},da={backgroundImage:"url(/images/create_account_back.jpg)",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100vh"},ua={backgroundImage:"url(/images/congrats_back.jpg)",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100vh"},pa={backgroundColor:"rgba(229, 229, 229, 0.8)",height:"auto",width:"350px",padding:"30px",alignContent:"center",boxShadow:"0 6px 6px rgba(0, 0, 0, 0.6)"},Ea={backgroundColor:"rgba(229, 229, 229, 0.8)",height:"auto",padding:"30px",alignContent:"center",boxShadow:"0 6px 6px rgba(0, 0, 0, 0.6)"},ha={backgroundColor:"rgba(229, 229, 229, 0.8)",height:"auto",width:"60%",margin:"50px",boxShadow:"0 6px 6px rgba(0, 0, 0, 0.6)"},ba={width:"100%"},va={paddingTop:"10px"},fa=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(w.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,O.a.awrap(t.preventDefault());case 2:if(e.state.ValidForm){n.next=4;break}return n.abrupt("return");case 4:if(e.setState({Preloader:s.a.createElement(ca,null)}),a={EmailOrUsername:e.state.EmailOrUsername,Password:e.state.Password,SignInAs:e.state.SignInAs},"Driver"!==e.state.SignInAs){n.next=11;break}return n.next=9,O.a.awrap(R(a).then((function(t){console.log(t),"Login successful."===t.Message?(localStorage.setItem("Token",t.Token),e.setState({LoggedInAsDriver:!0,Preloader:null})):e.setState({LoginError:s.a.createElement("div",null,s.a.createElement("label",{className:"control-label text-danger"},t.Message),s.a.createElement("br",null)),Preloader:null})})));case 9:n.next=23;break;case 11:if("Administrator"!==e.state.SignInAs){n.next=16;break}return n.next=14,O.a.awrap(et(a).then((function(t){"Login successful."===t.Message?(localStorage.setItem("Token",t.Token),e.setState({LoggedInAsAdministrator:!0,Preloader:null})):e.setState({LoginError:s.a.createElement("div",null,s.a.createElement("label",{className:"control-label text-danger"},t.Message),s.a.createElement("br",null)),Preloader:null})})));case 14:n.next=23;break;case 16:if("TC Responsible"!==e.state.SignInAs){n.next=21;break}return n.next=19,O.a.awrap(Gt(a).then((function(t){"Login successful."===t.Message?(localStorage.setItem("Token",t.Token),e.setState({LoggedInAsTCResponsible:!0,Preloader:null})):e.setState({LoginError:s.a.createElement("div",null,s.a.createElement("label",{className:"control-label text-danger"},t.Message),s.a.createElement("br",null)),Preloader:null})})));case 19:n.next=23;break;case 21:return n.next=23,O.a.awrap(Se(a).then((function(t){"Login successful."===t.Message?(localStorage.setItem("Token",t.Token),e.setState({LoggedInAsTrader:!0,Preloader:null})):e.setState({LoginError:s.a.createElement("div",null,s.a.createElement("label",{className:"control-label text-danger"},t.Message),s.a.createElement("br",null)),Preloader:null})})));case 23:case"end":return n.stop()}}))},e.state={EmailOrUsername:"",Password:"",SignInAs:"Driver",ValidEmailOrUsername:!1,ValidPassword:!1,ValidForm:!1,LoggedInAsDriver:!1,LoggedInAsTrader:!1,LoggedInAsAdministrator:!1,LoggedInAsTCResponsible:!1,LoginError:null,Errors:{EmailOrUsername:"",Password:""}},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidEmailOrUsername,s=this.state.ValidPassword;switch(e){case"EmailOrUsername":r=""!==t,n.EmailOrUsername=r?"":"Email or username is required.";break;case"Password":s=""!=t,n.Password=s?"":"Password is required."}this.setState({Errors:n,ValidEmailOrUsername:r,ValidPassword:s},(function(){a.setState({ValidForm:a.state.ValidEmailOrUsername&&a.state.ValidPassword})}))}},{key:"render",value:function(){var e=this;return this.state.LoggedInAsDriver?s.a.createElement(E.a,{to:"/drivers"}):this.state.LoggedInAsTrader?s.a.createElement(E.a,{to:"/traders"}):this.state.LoggedInAsAdministrator?s.a.createElement(E.a,{to:"/administrators"}):this.state.LoggedInAsTCResponsible?s.a.createElement(E.a,{to:"/transportCompanyResponsibles"}):s.a.createElement("div",null,s.a.createElement("div",{className:"middle",style:oa},s.a.createElement("div",{className:"theme-default animated fadeIn",style:pa},s.a.createElement("div",{style:ba},s.a.createElement("img",{src:"./images/login.png",alt:"Login.png",height:"60"}),s.a.createElement("div",{className:"type-h3",style:va},"Sign In"),s.a.createElement("br",null),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"EmailOrUsername",className:"control-label"},"Email or Username"),s.a.createElement("input",{type:"email",className:"form-control",name:"EmailOrUsername",placeholder:"someone@provider.com",value:this.state.EmailOrUsername,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.EmailOrUsername)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"Password",className:"control-label"},"Password"),s.a.createElement("input",{type:"password",className:"form-control",name:"Password",placeholder:"Password",value:this.state.Password,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.Password)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Sign In As"),s.a.createElement("div",{className:"dropdown",style:{width:"100%"}},s.a.createElement("button",{id:"example-dropdown",className:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},s.a.createElement("span",null,this.state.SignInAs),s.a.createElement("span",{className:"caret"})),s.a.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},s.a.createElement("li",null,s.a.createElement(p.b,{onClick:function(t){e.state.SignInAs="Driver"},onChange:this.onChange},"Driver")),s.a.createElement("li",null,s.a.createElement(p.b,{onClick:function(t){e.state.SignInAs="Trader"},onChange:this.onChange},"Trader")),s.a.createElement("li",null,s.a.createElement(p.b,{onClick:function(t){e.state.SignInAs="Broker"},onChange:this.onChange},"Broker")),s.a.createElement("li",null,s.a.createElement(p.b,{onClick:function(t){e.state.SignInAs="TC Responsible"},onChange:this.onChange},"TC Responsible")),s.a.createElement("li",null,s.a.createElement(p.b,{onClick:function(t){e.state.SignInAs="Administrator"},onChange:this.onChange},"Administrator"))))),s.a.createElement("div",{className:"form-group"},this.state.LoginError,s.a.createElement("label",{className:"control-label"},s.a.createElement(p.b,{to:"/"},"Forgot password")),s.a.createElement("br",null),s.a.createElement("label",{className:"control-label"},"No account? ",s.a.createElement("span",null,s.a.createElement(p.b,{to:"/register"},"Register now")))),s.a.createElement("div",null,s.a.createElement("input",{type:"submit",value:"Sign In",className:"btn btn-primary",disabled:!this.state.ValidForm})))))),this.state.Preloader)}}]),t}(r.Component),ga=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(w.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),""!==e.state.Username&&""!==e.state.Email&&""!==e.state.Password&&""!==e.state.ConfirmPassword){n.next=4;break}return e.setState({NullError:!0,UsernameOrEmailTaken:!1}),n.abrupt("return");case 4:if("Driver"!==(a={Username:e.state.Username,Password:e.state.Password,Email:e.state.Email,RegisterAs:e.state.RegisterAs}).RegisterAs){n.next=10;break}return n.next=8,O.a.awrap(j(a).then((function(t){t&&localStorage.newCredentialsToken?e.props.history.push("/emailConfirmation"):e.setState({NullError:!1,UsernameOrEmailTaken:!0})})));case 8:n.next=23;break;case 10:if("Administrator"!==a.RegisterAs){n.next=15;break}return n.next=13,O.a.awrap(Xe(a).then((function(t){"Token received."===t.Message?(localStorage.setItem("newCredentialsToken",t.Token),e.props.history.push("/emailConfirmation")):e.setState({NullError:!1,UsernameOrEmailTaken:!0})})));case 13:n.next=23;break;case 15:if("TC Responsible"!==a.RegisterAs){n.next=20;break}return n.next=18,O.a.awrap(Qt(a).then((function(t){"Token received."===t.Message?(localStorage.setItem("newCredentialsToken",t.Token),e.props.history.push("/emailConfirmation")):e.setState({NullError:!1,UsernameOrEmailTaken:!0})})));case 18:n.next=23;break;case 20:return console.log("Seting up resources for new trader or broker..."),n.next=23,O.a.awrap(ye(a).then((function(t){t&&localStorage.newCredentialsToken?e.props.history.push("/emailConfirmation"):e.setState({NullError:!1,UsernameOrEmailTaken:!0})})));case 23:case"end":return n.stop()}}))},e.state={Username:"",Email:"",Password:"",ConfirmPassword:"",RegisterAs:"Driver",NullError:!1,PasswordsMatched:!1,UsernameOrEmailTaken:!1,ValidEmail:!1,ValidPassword:!1,ValidForm:!1,Agreed:!1,Errors:{Email:"",Password:"",ConfirmPassword:"",Agreed:""}},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this.state.Errors,n=this.state.ValidEmail,r=this.state.ValidPassword,s=this.state.PasswordsMatched,l=this.state.Agreed;switch(e){case"Email":n=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),a.Email=n?"":"Email is invalid.";break;case"Password":r=t.length>=6,a.Password=r?"":"Password is too short.";break;case"ConfirmPassword":s=this.state.Password===t,a.ConfirmPassword=s?"":"Passwords did not match.";break;case"IsAgree":l=this.refs.agreementCheckBox.checked}this.setState({Errors:a,ValidEmail:n,ValidPassword:r,PasswordsMatched:s,Agreed:l},this.validateForm)}},{key:"validateForm",value:function(){this.setState({ValidForm:this.state.ValidEmail&&this.state.ValidPassword&&this.state.PasswordsMatched&&this.state.Agreed})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{class:"middle",style:ia},s.a.createElement("div",{class:"theme-default animated fadeIn",style:pa},s.a.createElement("div",{style:ba},s.a.createElement("img",{src:"./images/signup.png",alt:"signup.png",height:"60"}),s.a.createElement("div",{class:"type-h3",style:va},"Sign Up"),s.a.createElement("br",null),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{htmlFor:"Username",class:"control-label"},"Username"),s.a.createElement("span",{class:"text-danger",style:sa},"*"),s.a.createElement("input",{htmlFor:"Username",type:"text",name:"Username",class:"form-control",autocomplete:"off",value:this.state.Username,onChange:this.onChange,required:!0})),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{htmlFor:"Email",class:"control-label"},"Email"),s.a.createElement("span",{class:"text-danger",style:sa},"*"),s.a.createElement("input",{htmlFor:"Email",type:"email",name:"Email",class:"form-control",placeholder:"someone@example.com",autocomplete:"off",value:this.state.Email,onChange:this.onChange}),s.a.createElement("span",{class:"text-danger"},this.state.Errors.Email)),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{htmlFor:"Password",class:"control-label"},"Password"),s.a.createElement("span",{class:"text-danger",style:sa},"*"),s.a.createElement("input",{htmlFor:"Password",type:"password",name:"Password",class:"form-control",value:this.state.Password,onChange:this.onChange}),s.a.createElement("span",{class:"text-danger"},this.state.Errors.Password)),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{htmlFor:"ConfirmPassword",class:"control-label"},"Confirm Password"),s.a.createElement("span",{class:"text-danger",style:sa},"*"),s.a.createElement("input",{htmlFor:"ConfirmPassword",type:"password",name:"ConfirmPassword",class:"form-control",value:this.state.ConfirmPassword,onChange:this.onChange}),s.a.createElement("span",{class:"text-danger"},this.state.Errors.ConfirmPassword)),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{class:"control-label"},"Register As"),s.a.createElement("div",{class:"dropdown",style:{width:"100%",maxWidth:"296px"}},s.a.createElement("button",{id:"example-dropdown",class:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},s.a.createElement("span",null,this.state.RegisterAs),s.a.createElement("span",{class:"caret"})),s.a.createElement("ul",{class:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},s.a.createElement("li",null,s.a.createElement(p.b,{onClick:function(t){e.state.RegisterAs="Driver"},onChange:this.onChange},"Driver")),s.a.createElement("li",null,s.a.createElement(p.b,{onClick:function(t){e.state.RegisterAs="Trader"},onChange:this.onChange},"Trader")),s.a.createElement("li",null,s.a.createElement(p.b,{onClick:function(t){e.state.RegisterAs="Broker"},onChange:this.onChange},"Broker")),s.a.createElement("li",null,s.a.createElement(p.b,{onClick:function(t){e.state.RegisterAs="TC Responsible"},onChange:this.onChange},"TC Responsible")),s.a.createElement("li",null,s.a.createElement(p.b,{onClick:function(t){e.state.RegisterAs="Administrator"},onChange:this.onChange},"Administrator"))))),s.a.createElement("div",null,s.a.createElement("div",{class:"checkbox"},s.a.createElement("label",{class:"control-label"},s.a.createElement("input",{ref:"agreementCheckBox",type:"checkbox",name:"IsAgree",value:"",onChange:this.onChange}),s.a.createElement("span",null,"Agree with our "),s.a.createElement("span",null,s.a.createElement(p.b,{"data-toggle":"modal","data-target":"#terms"},"Terms and Conditions"))))),s.a.createElement("div",{class:"form-group"},this.state.NullError&&s.a.createElement("div",null,s.a.createElement("label",{class:"control-label text-danger"},"All fields are required."),s.a.createElement("br",null)),this.state.UsernameOrEmailTaken&&s.a.createElement("div",null,s.a.createElement("label",{class:"control-label text-danger"},"Username or email is already taken."),s.a.createElement("br",null)),this.state.AgreementError&&s.a.createElement("div",null,s.a.createElement("label",{class:"control-label text-danger"},"You must agree to our terms and conditions."),s.a.createElement("br",null)),s.a.createElement("label",{class:"control-label"},"Have an account? ",s.a.createElement("span",null,s.a.createElement(p.b,{to:"/login"},"Sign In Now!")))),s.a.createElement("input",{type:"submit",value:"Next",class:"btn btn-primary",disabled:!this.state.ValidForm}))))),s.a.createElement("div",{class:"modal",id:"terms",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},s.a.createElement("div",{class:"modal-dialog"},s.a.createElement("div",{class:"modal-content"},s.a.createElement("div",{class:"modal-header"},s.a.createElement("h4",{class:"modal-title",id:"modal-sample-label"},"Terms of Use")),s.a.createElement("div",{class:"modal-body text-justify"},"Your privacy is important to us. ",s.a.createElement("span",null,g.a.APP_NAME),"'s Privacy Statement describes the types of data we collect from you, how we use your Data, and the legal bases we have to process your Data. The Privacy Statement also describes how ",String.APP_NAME," uses your content, which is information submitted by you to ",g.a.APP_NAME," via the Services. Where processing is based on consent and to the extent permitted by law, by agreeing to these Terms, you consent to ",g.a.APP_NAME,"\ufffd collection, use and disclosure of your content and data as described in the privacy statement. In some cases, we will provide separate notice and request your consent as referenced in the privacy statement."),s.a.createElement("div",{class:"modal-footer"},s.a.createElement("button",{type:"button",class:"btn btn-info","data-dismiss":"modal"},"Ok"))))))}}]),t}(r.Component),Na=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(w.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){t.preventDefault(),e.state.ValidForm&&(localStorage.setItem("verifiedCredentialsToken",localStorage.newCredentialsToken),localStorage.removeItem("newCredentialsToken"),"Administrator"===e.state.NewCredentials.RegisterAs?e.props.history.push("/setupAdministratorAccount"):"TC Responsible"===e.state.NewCredentials.RegisterAs?e.props.history.push("/setupTransportCompanyResponsibleAccount"):e.props.history.push("/setupAccount"))},e.state={NewCredentials:v()(localStorage.newCredentialsToken),ConfirmationCode:0,ValidConfirmationCode:!1,ValidForm:!1,Errors:{ConfirmationCode:""}},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e.validateField=e.validateField.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidConfirmationCode;switch(e){case"ConfirmationCode":if(r=""!==t,n.ConfirmationCode=r?"":"Confirmation code is required.",""!==n.ConfirmationCode)break;r="12345"===t,n.ConfirmationCode=r?"":"Invalid code."}this.setState({Errors:n,ValidConfirmationCode:r},(function(){a.setState({ValidForm:a.state.ValidConfirmationCode})}))}},{key:"render",value:function(){return localStorage.newCredentialsToken?s.a.createElement("div",{class:"middle",style:ma},s.a.createElement("div",{class:"theme-default animated fadeIn",style:pa},s.a.createElement("div",{style:ba},s.a.createElement("img",{src:"./images/passcode.png",alt:"passcode.png",height:"60"}),s.a.createElement("div",{class:"type-h3",style:va},"Email Confirmation"),s.a.createElement("div",{class:"type-sh3"},"We delivered a confirmation code to your email."),s.a.createElement("br",null),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{htmlFor:"ConfirmationCode",class:"control-label"},"Confirmation Code"),s.a.createElement("span",{class:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{htmlFor:"ConfirmationCode",type:"text",name:"ConfirmationCode",class:"form-control",value:this.state.ConfirmationCode,onChange:this.onChange}),s.a.createElement("span",{class:"text-danger"},this.state.Errors.ConfirmationCode)),s.a.createElement("input",{type:"submit",value:"Next",class:"btn btn-primary",disabled:!this.state.ValidForm}))))):s.a.createElement(E.a,{to:"/register"})}}]),t}(r.Component),ya=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(w.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a,n;return O.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.preventDefault(),e.state.ValidForm){r.next=3;break}return r.abrupt("return");case 3:if(localStorage.verifiedCredentialsToken&&(a=v()(localStorage.verifiedCredentialsToken),e.state.Username=a.Username,e.state.Email=a.Email,e.state.Password=a.Password,e.state.RegisterAs=a.RegisterAs),"Driver"!=(n={Username:e.state.Username,Email:e.state.Email,Password:e.state.Password,RegisterAs:e.state.RegisterAs,FirstName:e.state.FirstName,LastName:e.state.LastName,DateOfBirth:e.state.DateOfBirth,Gender:e.state.Gender,Address:e.state.Address,PhoneNumber:e.state.PhoneNumber,Nationality:e.state.Nationality}).RegisterAs){r.next=8;break}return r.next=8,O.a.awrap(T(n).then((function(t){localStorage.removeItem("verifiedCredentialsToken"),localStorage.setItem("IsCreatedSuccessfully",!0),e.props.history.push("/congratulations")})));case 8:if("Trader"!=n.RegisterAs&&"Broker"!=n.RegisterAs){r.next=11;break}return r.next=11,O.a.awrap(xe(n).then((function(t){localStorage.removeItem("verifiedCredentialsToken"),localStorage.setItem("IsCreatedSuccessfully",!0),e.props.history.push("/congratulations")})));case 11:case"end":return r.stop()}}))},e.state={Username:"",Email:"",Password:"",RegisterAs:"",FirstName:"",LastName:"",DateOfBirth:"",Gender:"Male",Nationality:"",Address:"",PhoneNumber:"",ValidFirstName:!1,ValidLastName:!1,ValidDateOfBirth:!1,ValidNationality:!1,ValidAddress:!1,ValidPhoneNumber:!1,ValidForm:!1,Errors:{FirstName:"",LastName:"",DateOfBirth:"",Nationality:"",Address:"",PhoneNumber:""}},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e.validateField=e.validateField.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidFirstName,s=this.state.ValidLastName,l=this.state.ValidDateOfBirth,c=this.state.ValidNationality,o=this.state.ValidAddress,i=this.state.ValidPhoneNumber;switch(e){case"FirstName":r=""!==t&&t.match(/^[a-zA-Z ]+$/),n.FirstName=r?"":"First name is invalid.";break;case"LastName":s=""!==t&&t.match(/^[a-zA-Z ]+$/),n.LastName=s?"":"Last name is invalid.";break;case"DateOfBirth":l=new Date(t)<new Date,n.DateOfBirth=l?"":"Your Birthday must be earlier than today.";break;case"Nationality":c=""!==t&&t.match(/^[a-zA-Z ]+$/),n.Nationality=c?"":"Nationality is invalid.";break;case"Address":o=""!==t,n.Address=o?"":"Address is required.";break;case"PhoneNumber":i=t.match(/^\+[0-9]?()[0-9](\s|\S)(\d[0-9]{9})$/),n.PhoneNumber=i?"":"Phone number is invalid."}this.setState({Errors:n,ValidFirstName:r,ValidLastName:s,ValidDateOfBirth:l,ValidNationality:c,ValidAddress:o,ValidPhoneNumber:i},(function(){a.setState({ValidForm:a.state.ValidFirstName&&a.state.ValidLastName&&a.state.ValidDateOfBirth&&a.state.ValidNationality&&a.state.ValidAddress&&a.state.ValidPhoneNumber})}))}},{key:"render",value:function(){var e=this;return localStorage.verifiedCredentialsToken?s.a.createElement("div",{class:"middle",style:da},s.a.createElement("div",{class:"theme-default animated fadeIn",style:Ea},s.a.createElement("div",{style:ba},s.a.createElement("img",{src:"./images/create_account.png",atl:"create_account.png",height:"60"}),s.a.createElement("div",{class:"type-h3",style:va},"Create Account"),s.a.createElement("div",{class:"type-sh3"},"Just one more step, and you're done!"),s.a.createElement("br",null),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-8"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{htmlFor:"FirstName",class:"control-label"},"First Name"),s.a.createElement("span",{class:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"text",className:"form-control",name:"FirstName",autocomplete:"off",value:this.state.FirstName,onChange:this.onChange}),s.a.createElement("span",{class:"text-danger"},this.state.Errors.FirstName)),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{htmlFor:"LastName",class:"control-label"},"Last Name"),s.a.createElement("span",{class:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"text",className:"form-control",name:"LastName",autocomplete:"off",value:this.state.LastName,onChange:this.onChange}),s.a.createElement("span",{class:"text-danger"},this.state.Errors.LastName)),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{htmlFor:"DateOfBirth",class:"control-label"},"Date of Birth"),s.a.createElement("span",{class:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"date",class:"form-control",name:"DateOfBirth",autocomplete:"off",value:this.state.DateOfBirth,onChange:this.onChange}),s.a.createElement("span",{class:"text-danger"},this.state.Errors.DateOfBirth))),s.a.createElement("div",{class:"col-md-8"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{htmlFor:"Gender",class:"control-label"},"Gender"),s.a.createElement("div",{class:"dropdown",style:{width:"193px",maxWidth:"296px"}},s.a.createElement("button",{id:"example-dropdown",class:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},s.a.createElement("span",null,this.state.Gender),s.a.createElement("span",{class:"caret"})),s.a.createElement("ul",{class:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){e.setState({Gender:"Male"})}},"Male")),s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){e.setState({Gender:"Female"})}},"Female"))))),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{htmlFor:"Nationality",class:"control-label"},"Nationality"),s.a.createElement("span",{class:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"text",className:"form-control",name:"Nationality",autocomplete:"off",value:this.state.Nationality,onChange:this.onChange}),s.a.createElement("span",{class:"text-danger"},this.state.Errors.Nationality)),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{htmlFor:"PhoneNumber",class:"control-label"},"Phone Number"),s.a.createElement("span",{class:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"text",className:"form-control",name:"PhoneNumber",autocomplete:"off",placeholder:"+XXXXXXXXXXXX",value:this.state.PhoneNumber,onChange:this.onChange}),s.a.createElement("span",{class:"text-danger"},this.state.Errors.PhoneNumber))),s.a.createElement("div",{class:"col-md-8"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{htmlFor:"Address",class:"control-label"},"Address"),s.a.createElement("span",{class:"text-danger",style:sa},"*"),s.a.createElement("textarea",{class:"form-control",rows:"5",name:"Address",autocomplete:"off",value:this.state.Address,onChange:this.onChange}),s.a.createElement("span",{class:"text-danger"},this.state.Errors.Address)))),s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{type:"submit",value:"Create",class:"btn btn-primary",disabled:!this.state.ValidForm})))))):(this.props.history.push("/register"),s.a.createElement("a",null))}}]),t}(r.Component),xa=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(w.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a,n;return O.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.preventDefault(),e.state.ValidForm){r.next=3;break}return r.abrupt("return");case 3:if(!localStorage.verifiedCredentialsToken){r.next=8;break}return a=v()(localStorage.verifiedCredentialsToken),n={Username:a.Username,Email:a.Email,Password:a.Password,RegisterAs:a.RegisterAs,FirstName:e.state.FirstName,LastName:e.state.LastName,AdministratorSecret:e.state.AdministratorSecret},r.next=8,O.a.awrap(Ze(n).then((function(t){if("Administrator created."==t.Message)localStorage.removeItem("verifiedCredentialsToken"),localStorage.setItem("IsCreatedSuccessfully",!0),e.props.history.push("/congratulations");else{var a=e.state.Errors;a.AdministratorSecret=t.Message,e.setState({Errors:a})}})));case 8:case"end":return r.stop()}}))},e.state={FirstName:"",LastName:"",AdministratorSecret:"",ValidFirstName:!1,ValidLastName:!1,ValidAdministratorSecret:!1,ValidForm:!1,Errors:{FirstName:"",LastName:"",AdministratorSecret:""}},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e.validateField=e.validateField.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidFirstName,s=this.state.ValidLastName,l=this.state.ValidAdministratorSecret;switch(e){case"FirstName":if(r=""!==t,n.FirstName=r?"":"First name is required.",""!==n.FirstName)break;r=t.match(/^[a-zA-Z ]+$/),n.FirstName=r?"":"First name is invalid.";break;case"LastName":if(s=""!==t,n.LastName=s?"":"Last name is required.",""!==n.LastName)break;s=t.match(/^[a-zA-Z ]+$/),n.LastName=s?"":"Last name is invalid.";break;case"AdministratorSecret":l=""!==t,n.AdministratorSecret=l?"":"Secret code is required."}this.setState({Errors:n,ValidFirstName:r,ValidLastName:s,ValidAdministratorSecret:l},(function(){a.setState({ValidForm:a.state.ValidFirstName&&a.state.ValidLastName&&a.state.ValidAdministratorSecret})}))}},{key:"render",value:function(){return localStorage.verifiedCredentialsToken?s.a.createElement("div",{class:"middle",style:da},s.a.createElement("div",{class:"theme-default animated fadeIn",style:Ea},s.a.createElement("div",{style:ba},s.a.createElement("img",{src:"./images/create_account.png",atl:"create_account.png",height:"60"}),s.a.createElement("div",{class:"type-h3",style:va},"Create Account"),s.a.createElement("div",{class:"type-sh3"},"Just one more step, and you're done!"),s.a.createElement("br",null),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-24"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{class:"control-label"},"First Name"),s.a.createElement("span",{class:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"text",className:"form-control",name:"FirstName",autocomplete:"off",value:this.state.FirstName,onChange:this.onChange}),s.a.createElement("span",{class:"text-danger"},this.state.Errors.FirstName)),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{class:"control-label"},"Last Name"),s.a.createElement("span",{class:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"text",className:"form-control",name:"LastName",autocomplete:"off",value:this.state.LastName,onChange:this.onChange}),s.a.createElement("span",{class:"text-danger"},this.state.Errors.LastName)),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{class:"control-label"},"Secret Code"),s.a.createElement("span",{class:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"text",class:"form-control",name:"AdministratorSecret",autocomplete:"off",value:this.state.AdministratorSecret,onChange:this.onChange}),s.a.createElement("span",{class:"text-danger"},this.state.Errors.AdministratorSecret)))),s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{type:"submit",value:"Create",class:"btn btn-primary",disabled:!this.state.ValidForm})))))):s.a.createElement(E.a,{to:"/register"})}}]),t}(r.Component),Sa=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(w.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a,n;return O.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t.preventDefault(),e.state.ValidForm){r.next=3;break}return r.abrupt("return");case 3:if(!localStorage.verifiedCredentialsToken){r.next=8;break}return a=v()(localStorage.verifiedCredentialsToken),n={Username:a.Username,Email:a.Email,Password:a.Password,RegisterAs:a.RegisterAs,Name:e.state.Name,PhoneNumber:e.state.PhoneNumber},r.next=8,O.a.awrap(Wt(n).then((function(t){"Transport company responsible created."===t.Message&&(localStorage.removeItem("verifiedCredentialsToken"),localStorage.setItem("IsCreatedSuccessfully",!0),e.props.history.push("/congratulations"))})));case 8:case"end":return r.stop()}}))},e.state={Name:"",PhoneNumber:"",ValidName:!1,ValidPhoneNumber:!1,ValidForm:!1,Errors:{Name:"",PhoneNumber:""}},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e.validateField=e.validateField.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state,r=n.Errors,s=n.ValidName,l=n.ValidPhoneNumber;switch(e){case"Name":if(s=""!==t,r.Name=s?"":"Company name is required.",""!==r.Name)break;s=t.match(/^[a-zA-Z ]+$/),r.Name=s?"":"Company name is invalid.";break;case"PhoneNumber":if(l=""!==t,r.PhoneNumber=l?"":"Phone number is required.",""!==r.PhoneNumber)break;l=t.match(/^\+[0-9]?()[0-9](\s|\S)(\d[0-9]{9})$/),r.PhoneNumber=l?"":"Phone number is invalid."}this.setState({Errors:r,ValidName:s,ValidPhoneNumber:l},(function(){a.setState({ValidForm:s&&l})}))}},{key:"render",value:function(){return localStorage.verifiedCredentialsToken?s.a.createElement("div",{class:"middle",style:da},s.a.createElement("div",{class:"theme-default animated fadeIn",style:Ea},s.a.createElement("div",{style:ba},s.a.createElement("img",{src:"./images/create_account.png",atl:"create_account.png",height:"60"}),s.a.createElement("div",{class:"type-h3",style:va},"Create Account"),s.a.createElement("div",{class:"type-sh3"},"Just one more step, and you're done!"),s.a.createElement("br",null),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-24"},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{class:"control-label"},"Company Name"),s.a.createElement("span",{class:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"text",className:"form-control",name:"Name",autocomplete:"off",value:this.state.Name,onChange:this.onChange}),s.a.createElement("span",{class:"text-danger"},this.state.Errors.FirstName)),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{htmlFor:"PhoneNumber",class:"control-label"},"Phone Number"),s.a.createElement("span",{class:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"text",className:"form-control",name:"PhoneNumber",autocomplete:"off",placeholder:"+XXXXXXXXXXXX",value:this.state.PhoneNumber,onChange:this.onChange}),s.a.createElement("span",{class:"text-danger"},this.state.Errors.PhoneNumber)))),s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{type:"submit",value:"Create",class:"btn btn-primary",disabled:!this.state.ValidForm})))))):s.a.createElement(E.a,{to:"/register"})}}]),t}(r.Component),Ca=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onSubmit=function(t){t.preventDefault(),localStorage.removeItem("IsCreatedSuccessfully"),e.props.history.push("/login")},e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return localStorage.IsCreatedSuccessfully?s.a.createElement("div",{class:"middle",style:ua},s.a.createElement("div",{class:"jumbotron theme-default animated fadeIn",style:ha},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},s.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"congrats.png",src:"./images/congrats.png","data-source-index":"2"})),s.a.createElement("div",{class:"col-md-12 col-md-pull-12"},s.a.createElement("div",{class:"type-h3"},"Congratulations"),s.a.createElement("div",{class:"type-sh3"},"Your account has been created successfully."),s.a.createElement("br",null),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("input",{type:"submit",value:"Sign In",class:"btn btn-primary"}))))))):(this.props.history.push("/register"),s.a.createElement("a",null))}}]),t}(r.Component),Oa=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onImageUpload=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.state.Image=e.target.files[0],t=new FormData,n.prev=2,t.append("Image",a.state.Image,a.state.Image.name),n.next=6,O.a.awrap(P.a.post(g.a.IMAGE_UPLOADER,t,{onUploadProgress:function(e){a.setState({UploadProgress:s.a.createElement("div",{className:"progress-bar"},s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}))})}}).then((function(e){var t,n;return O.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if("Image uploaded successfully."!==(e=e.data).message){r.next=6;break}return t={Token:localStorage.Token,PhotoURL:e.imageUrl,FileName:e.filename},n=e.imageUrl,r.next=6,O.a.awrap(A(t).then((function(e){"Profile photo is updated."!==e.Message&&"Profile photo is added."!==e.Message||a.setState({PhotoURL:n,UploadProgress:null})})));case 6:case"end":return r.stop()}}))})).catch((function(){a.setState({ImageURL:"./images/defaultProfilePhoto.png",UploadProgress:null})})));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(2),a.setState({UploadProgress:null}),n.abrupt("return");case 12:case"end":return n.stop()}}),null,null,[[2,8]])},a.onSubmit=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault();case 1:case"end":return t.stop()}}))},a.state={Image:null,PhotoURL:"./images/defaultProfilePhoto.png",UploadProgress:null},a.onImageUpload=a.onImageUpload.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=4;break}return e={Token:localStorage.Token,Get:"ProfilePhoto"},a.next=4,O.a.awrap(D(e).then((function(e){if("Profile photo found."===e.Message){var a=e.ProfilePhoto;t.setState({PhotoURL:a.PhotoURL})}else t.state({PhotoURL:"./images/defaultProfilePhoto.png"})})));case 4:case"end":return a.stop()}}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("input",{type:"file",onChange:this.onImageUpload,style:{display:"none"},ref:function(t){return e.fileInput=t}}),s.a.createElement("figure",{className:"media"},s.a.createElement("div",{className:"media-img media-img-has-play ratio-1-1"},s.a.createElement("a",{href:"#",onClick:function(){return e.fileInput.click()}},s.a.createElement("img",{style:{border:"5px solid #3A3A3C"},src:this.state.PhotoURL,alt:"ProfilePhoto.png"}),s.a.createElement("i",{className:"glyph glyph-edit"})))),this.state.UploadProgress)}}]),t}(r.Component),wa=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onImageUpload=function(e){if((a.state.Image=e.target.files[0],a.state.Image)&&!a.state.Image.type.startsWith("image"))return void a.props.OnInvalidImageSelected();var t=new FormData;try{t.append("Image",a.state.Image,a.state.Image.name)}catch(n){return void a.setState({UploadProgress:null})}P.a.post(g.a.IMAGE_UPLOADER,t,{onUploadProgress:function(e){a.setState({UploadProgress:s.a.createElement("div",{className:"progress-bar"},s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}))})}}).then((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.props.OnImageUploaded(e.data),a.setState({UploadProgress:null});case 2:case"end":return t.stop()}}))})).catch((function(e){a.props.OnImageUploaded(e),a.setState({UploadProgress:null})}))},a.onSubmit=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault();case 1:case"end":return t.stop()}}))},a.state={Image:null,UploadProgress:null},a.onImageUpload=a.onImageUpload.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("input",{type:"file",onChange:this.onImageUpload,style:{display:"none"},ref:function(t){return e.fileInput=t}}),s.a.createElement("figure",{className:"media"},s.a.createElement("div",{className:"media-img media-img-has-play ratio-1-1"},s.a.createElement("a",{onClick:function(){return e.fileInput.click()}},s.a.createElement("img",{src:this.props.Source,alt:"ProfilePhoto.png",style:{border:"5px solid #3A3A3C"}}),s.a.createElement("i",{className:"glyph glyph-edit"})))),this.state.UploadProgress)}}]),t}(r.Component),ka=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.Token,LicenceNumber:a.state.LicenceNumber,Type:a.state.Type,ReleaseDate:a.state.ReleaseDate,ExpiryDate:a.state.ExpiryDate,PhotoURL:a.state.PhotoURL},console.log("Going to add the Driving Licence."),a.setState({Preloader:s.a.createElement(ca,null)}),n.next=8,O.a.awrap(z(t).then((function(e){"Driving Licence is added."===e.Message&&a.props.OnOK(a.cancelButton),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={LicenceNumber:"",Type:"",ReleaseDate:new Date,ExpiryDate:new Date,PhotoURL:"./images/default_image.png",ValidLicenceNumber:!1,ValidType:!1,ValidReleaseDate:!1,ValidExpiryDate:!1,ValidPhotoURL:!1,ValidForm:!1,Preloader:null,Errors:{LicenceNumber:"",Type:"",ReleaseDate:"",ExpiryDate:"",PhotoURL:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidLicenceNumber,s=this.state.ValidType,l=this.state.ValidReleaseDate,c=this.state.ValidExpiryDate,o=this.state.ValidPhotoURL;switch(e){case"LicenceNumber":r=""!==t,n.LicenceNumber=r?"":"Licence number is required.";break;case"Type":s=""!==t,n.Type=s?"":"Licence type is required";break;case"ReleaseDate":l=new Date(t).getTime()<new Date(this.state.ExpiryDate).getTime(),n.ReleaseDate=l?"":"Release date must be earlier than Expiry date.";break;case"ExpiryDate":c=new Date(t).getTime()>(new Date).getTime(),n.ExpiryDate=c?"":"Expiry Date must be later than today.";break;case"PhotoURL":o=null!==t,n.PhotoURL=o?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidLicenceNumber:r,ValidType:s,ValidReleaseDate:l,ValidExpiryDate:c,ValidPhotoURL:o},(function(){a.setState({ValidForm:a.state.ValidLicenceNumber&&a.state.ValidType&&a.state.ValidReleaseDate&&a.state.ValidExpiryDate&&a.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"text-left"},s.a.createElement("div",{className:"modal",id:"add-driving-licence-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("section",null,s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"modal-header"},s.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),s.a.createElement("div",{className:"type-h3"},"Add Driving Licence")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement(wa,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"DrivingLicence"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Licence Number"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"number",name:"LicenceNumber",className:"form-control",autoComplete:"off",value:this.state.LicenceNumber,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.LicenceNumber)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Licence Type"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"text",name:"Type",className:"form-control",autoComplete:"off",value:this.state.Type,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.Type)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Release Date"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"date",name:"ReleaseDate",className:"form-control",autoComplete:"off",value:this.state.ReleaseDate,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.ReleaseDate)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Expiry Date"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"date",name:"ExpiryDate",className:"form-control",autoComplete:"off",value:this.state.ExpiryDate,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.ExpiryDate))))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),s.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(r.Component),Pa=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={AddDrivingLicenceDialog:null},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("button",{type:"button",className:"btn btn-primary",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#add-driving-licence-dialog",onMouseDown:function(){e.setState({AddDrivingLicenceDialog:s.a.createElement(ka,{OnCancel:function(){e.setState({AddDrivingLicenceDialog:null})},OnOK:function(t){t.click(),e.props.OnDocumentsUpdated()}})})}},s.a.createElement("span",{className:"fas fa-plus","aria-hidden":"true"})," Driving Licence"),this.state.AddDrivingLicenceDialog)}}]),t}(r.Component),ja=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.Token,EntryExitNumber:a.state.EntryExitNumber,Type:a.state.Type,ReleaseDate:a.state.ReleaseDate,NumberOfMonths:a.state.NumberOfMonths},console.log("Going to add Entry/Exit Card."),a.setState({Preloader:s.a.createElement(ca,null)}),n.next=8,O.a.awrap(Y(t).then((function(e){"Entry/Exit card is added."===e.Message&&a.props.OnOK(a.cancelButton),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={EntryExitNumber:"",Type:"Simple",ReleaseDate:new Date,NumberOfMonths:"",ValidEntryExitNumber:!1,ValidReleaseDate:!1,ValidNumberOfMonths:!1,ValidForm:!1,Preloader:null,Errors:{EntryExitNumber:"",ReleaseDate:"",NumberOfMonths:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidEntryExitNumber,s=this.state.ValidReleaseDate,l=this.state.ValidNumberOfMonths;switch(e){case"EntryExitNumber":r=""!==t,n.EntryExitNumber=r?"":"Entry/exit number is required.";break;case"ReleaseDate":s=new Date(t).getTime()<=new Date,n.ReleaseDate=s?"":"Release date must not be later than today.";break;case"NumberOfMonths":if(l=""!==t,n.NumberOfMonths=l?"":"Number of months is required.",""!==n.NumberOfMonths)break;if(l=t>0,n.NumberOfMonths=l?"":"Number of months must be greater than 0.",""!==n.NumberOfMonths)break;var c=new Date(this.state.ReleaseDate),o=new Date(c.setMonth(c.getMonth()+t));l=o>new Date,n.NumberOfMonths=l?"":"Your card is expired if it is for ".concat(t," months. Your card might be expired on ").concat(o.toLocaleString())}this.setState({Errors:n,ValidEntryExitNumber:r,ValidReleaseDate:s,ValidNumberOfMonths:l},(function(){a.setState({ValidForm:a.state.ValidEntryExitNumber&&a.state.ValidReleaseDate&&a.state.ValidNumberOfMonths})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"text-left"},s.a.createElement("div",{className:"modal",id:"add-entry-exit-card-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("section",null,s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"modal-header"},s.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),s.a.createElement("div",{className:"type-h3"},"Add Entry/Exit Card")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Entry/Exit Number"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"number",name:"EntryExitNumber",className:"form-control",autoComplete:"off",value:this.state.EntryExitNumber,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.EntryExitNumber)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Card Type"),s.a.createElement("br",null),s.a.createElement("div",{className:"dropdown",style:{width:"100%",maxWidth:"296px"}},s.a.createElement("button",{id:"example-dropdown",className:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},s.a.createElement("span",null,this.state.Type),s.a.createElement("span",{className:"caret"})),s.a.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){e.setState({Type:"Simple"})}},"Simple")),s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){e.setState({Type:"Multiple"})}},"Multiple"))))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Release Date"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"date",name:"ReleaseDate",className:"form-control",autoComplete:"off",value:this.state.ReleaseDate,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.ReleaseDate)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Number of Months"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"number",name:"NumberOfMonths",className:"form-control",autoComplete:"off",value:this.state.NumberOfMonths,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.NumberOfMonths))))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),s.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(r.Component),Ta=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={AddEntryExitCardDialog:null},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("button",{type:"button",className:"btn btn-primary",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#add-entry-exit-card-dialog",onMouseDown:function(){e.setState({AddEntryExitCardDialog:s.a.createElement(ja,{OnCancel:function(){e.setState({AddEntryExitCardDialog:null})},OnOK:function(t){t.click(),e.props.OnDocumentsUpdated()}})})}},s.a.createElement("span",{className:"fas fa-plus","aria-hidden":"true"})," Entry/Exit Card"),this.state.AddEntryExitCardDialog)}}]),t}(r.Component),Ra=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.Token,IDNumber:a.state.IDNumber,PhotoURL:a.state.PhotoURL},console.log("Going to add Identity Card."),a.setState({Preloader:s.a.createElement(ca,null)}),n.next=8,O.a.awrap(Z(t).then((function(e){"Identity card is added."===e.Message&&a.props.OnOK(a.cancelButton),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={IDNumber:"",PhotoURL:"./images/default_image.png",ValidIDNumber:!1,ValidPhotoURL:!1,ValidForm:!1,Preloader:null,Errors:{IDNumber:"",PhotoURL:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidIDNumber,s=this.state.ValidPhotoURL;switch(e){case"IDNumber":if(r=""!==t,n.IDNumber=r?"":"ID number is required.",""!==n.IDNumber)break;r=t>=1e9&&t<=9999999999,n.IDNumber=r?"":"ID number must be 10-digits long.";break;case"PhotoURL":s=null!==t,n.PhotoURL=s?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidIDNumber:r,ValidPhotoURL:s},(function(){a.setState({ValidForm:a.state.ValidIDNumber&&a.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"text-left"},s.a.createElement("div",{className:"modal",id:"add-identity-card-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("section",null,s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"modal-header"},s.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),s.a.createElement("div",{className:"type-h3"},"Add Identity Card")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement(wa,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"IdentityCard"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"ID Number"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"number",name:"IDNumber",className:"form-control",autoComplete:"off",required:!0,value:this.state.IDNumber,onChange:this.onChange,min:"1000000000",max:"9999999999"}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.IDNumber))))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),s.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(r.Component),Da=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={AddIdentityCardDialog:null},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("button",{type:"button",className:"btn btn-primary",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#add-identity-card-dialog",onMouseDown:function(){e.setState({AddIdentityCardDialog:s.a.createElement(Ra,{OnCancel:function(){e.setState({AddIdentityCardDialog:null})},OnOK:function(t){t.click(),e.props.OnDocumentsUpdated()}})})}},s.a.createElement("span",{className:"fas fa-plus","aria-hidden":"true"})," Identity Card"),this.state.AddIdentityCardDialog)}}]),t}(r.Component),Aa=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.Token,LicenceNumber:a.state.LicenceNumber,Type:a.state.Type,ReleaseDate:a.state.ReleaseDate,ExpiryDate:a.state.ExpiryDate,PhotoURL:a.state.PhotoURL},console.log("Going to update the Driving Licence."),a.setState({Preloader:s.a.createElement(ca,null)}),n.next=8,O.a.awrap(H(t).then((function(e){"Driving Licence is updated."===e.Message&&a.props.OnOK(a.cancelButton),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={LicenceNumber:"",Type:"",ReleaseDate:new Date,ExpiryDate:new Date,PhotoURL:"./images/default_image.png",ValidLicenceNumber:!0,ValidType:!0,ValidReleaseDate:!0,ValidExpiryDate:!0,ValidPhotoURL:!0,ValidForm:!1,Preloader:null,Errors:{LicenceNumber:"",Type:"",ReleaseDate:"",ExpiryDate:"",PhotoURL:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.Token){var t={Token:localStorage.Token,Get:"DrivingLicence"};D(t).then((function(t){if("Driving licence found."===t.Message){var a=t.DrivingLicence;e.setState({DrivingLicenceID:a.DrivingLicenceID,LicenceNumber:a.LicenceNumber,Type:a.Type,ReleaseDate:a.ReleaseDate,ExpiryDate:a.ExpiryDate,PhotoURL:a.PhotoURL})}else e.setState({DrivingLicenceID:"",LicenceNumber:"",Type:"",ReleaseDate:new Date,ExpiryDate:new Date,PhotoURL:"./images/default_image.png"})}))}}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidLicenceNumber,s=this.state.ValidType,l=this.state.ValidReleaseDate,c=this.state.ValidExpiryDate,o=this.state.ValidPhotoURL;switch(e){case"LicenceNumber":r=""!==t,n.LicenceNumber=r?"":"Licence number is required.";break;case"Type":s=""!==t,n.Type=s?"":"Licence type is required";break;case"ReleaseDate":l=new Date(t).getTime()<new Date(this.state.ExpiryDate).getTime(),n.ReleaseDate=l?"":"Release date must be earlier than Expiry date.";break;case"ExpiryDate":c=new Date(t).getTime()>(new Date).getTime(),n.ExpiryDate=c?"":"Expiry Date must be later than today.";break;case"PhotoURL":o=null!==t,n.PhotoURL=o?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidLicenceNumber:r,ValidType:s,ValidReleaseDate:l,ValidExpiryDate:c,ValidPhotoURL:o},(function(){a.setState({ValidForm:a.state.ValidLicenceNumber&&a.state.ValidType&&a.state.ValidReleaseDate&&a.state.ValidExpiryDate&&a.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal",id:"edit-driving-licence-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("section",null,s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"modal-header"},s.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),s.a.createElement("div",{className:"type-h3"},"Edit Driving Licence")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement(wa,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"DrivingLicence"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Licence Number"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"number",name:"LicenceNumber",className:"form-control",autoComplete:"off",value:this.state.LicenceNumber,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.LicenceNumber)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Licence Type"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"text",name:"Type",className:"form-control",autoComplete:"off",value:this.state.Type,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.Type)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Release Date"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"date",name:"ReleaseDate",className:"form-control",autoComplete:"off",value:this.state.ReleaseDate,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.ReleaseDate)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Expiry Date"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"date",name:"ExpiryDate",className:"form-control",autoComplete:"off",value:this.state.ExpiryDate,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.ExpiryDate))))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),s.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(r.Component),Fa=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDelete=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({Preloader:s.a.createElement(ca,null)}),e={Token:localStorage.Token},console.log("Going to delete Driving Licence..."),t.next=5,O.a.awrap(K(e).then((function(e){"Driving Licence is deleted."===e.Message&&a.props.OnDocumentsUpdated(),a.setState({Preloader:null})})));case 5:case"end":return t.stop()}}))},a.onComponentUpdated=function(){if(localStorage.Token){var e={Token:localStorage.Token,Get:"DrivingLicence"};D(e).then((function(e){if("Driving licence found."===e.Message){var t=e.DrivingLicence;a.setState({DrivingLicenceID:t.DrivingLicenceID,LicenceNumber:t.LicenceNumber,Type:t.Type,ReleaseDate:t.ReleaseDate,ExpiryDate:t.ExpiryDate,PhotoURL:t.PhotoURL})}else a.setState({DrivingLicenceID:"",LicenceNumber:"",Type:"",ReleaseDate:"",ExpiryDate:"",PhotoURL:"./images/default_image.png"})}))}},a.state={DrivingLicenceID:"",LicenceNumber:"",Type:"",ReleaseDate:"",ExpiryDate:"",PhotoURL:"./images/default_image.png",EditDrivingLicenceDialog:null,Preloader:null},a.onDelete=a.onDelete.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"render",value:function(){var e=this;return s.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#driving-licence-".concat(this.state.DrivingLicenceID)},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon",style:{borderRadius:"50%"}},s.a.createElement("span",{className:"glyph glyph-add"}),s.a.createElement("span",{className:"glyph glyph-remove"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},s.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"".concat(this.props.Index,"."))),s.a.createElement("div",{className:"content-text-secondary"},s.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"DRIVING LICENCE")))))),s.a.createElement("div",{className:"collapse",id:"driving-licence-".concat(this.state.DrivingLicenceID)},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:this.state.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),s.a.createElement("div",{className:"col-md-18"},s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Driving Licence"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-hashtag"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Licence Number"),s.a.createElement("div",{className:"content-text-secondary"},this.state.LicenceNumber)))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-star-of-life"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Licence Type"),s.a.createElement("div",{className:"content-text-secondary"},this.state.Type))))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-calendar"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Release Date"),s.a.createElement("div",{className:"content-text-secondary"},this.state.ReleaseDate)))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-calendar"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Expiry Date"),s.a.createElement("div",{className:"content-text-secondary"},this.state.ExpiryDate)))))))))),s.a.createElement("div",{style:{backgroundColor:"#E5E5E5",textAlign:"right",padding:"10px"}},s.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#edit-driving-licence-dialog",onMouseDown:function(){e.setState({EditDrivingLicenceDialog:s.a.createElement(Aa,{OnCancel:function(){e.setState({EditDrivingLicenceDialog:null})},OnOK:function(t){t.click(),e.onComponentUpdated()}})})}},"Edit"),s.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){e.onDelete()}},"Delete"))),this.state.Preloader,this.state.EditDrivingLicenceDialog)}}]),t}(r.Component),La=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.Token,EntryExitNumber:a.state.EntryExitNumber,Type:a.state.Type,ReleaseDate:a.state.ReleaseDate,NumberOfMonths:a.state.NumberOfMonths},console.log("Going to update Entry/Exit Card."),a.setState({Preloader:s.a.createElement(ca,null)}),n.next=8,O.a.awrap($(t).then((function(e){"Entry/Exit card is updated."===e.Message&&a.props.OnOK(a.cancelButton),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={EntryExitNumber:"",Type:"Simple",ReleaseDate:new Date,NumberOfMonths:"",ValidEntryExitNumber:!0,ValidReleaseDate:!0,ValidNumberOfMonths:!0,ValidForm:!1,Preloader:null,Errors:{EntryExitNumber:"",ReleaseDate:"",NumberOfMonths:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.Token){var t={Token:localStorage.Token,Get:"EntryExitCard"};D(t).then((function(t){if("Entry/exit card found."===t.Message){var a=t.EntryExitCard;e.setState({EntryExitNumber:a.EntryExitNumber,Type:a.Type,ReleaseDate:a.ReleaseDate,NumberOfMonths:a.NumberOfMonths})}else e.setState({EntryExitNumber:"",Type:"Simple",ReleaseDate:new Date,NumberOfMonths:""})}))}}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidEntryExitNumber,s=this.state.ValidReleaseDate,l=this.state.ValidNumberOfMonths;switch(e){case"EntryExitNumber":r=""!==t,n.EntryExitNumber=r?"":"Entry/exit number is required.";break;case"ReleaseDate":s=new Date(t).getTime()<=new Date,n.ReleaseDate=s?"":"Release date must not be later than today.";break;case"NumberOfMonths":if(l=""!==t,n.NumberOfMonths=l?"":"Number of months is required.",""!==n.NumberOfMonths)break;if(l=t>0,n.NumberOfMonths=l?"":"Number of months must be greater than 0.",""!==n.NumberOfMonths)break;var c=new Date(this.state.ReleaseDate),o=new Date(c.setMonth(c.getMonth()+t));l=o>new Date,n.NumberOfMonths=l?"":"Your card is expired if it is for ".concat(t," months. Your card might be expired on ").concat(o.toLocaleString())}this.setState({Errors:n,ValidEntryExitNumber:r,ValidReleaseDate:s,ValidNumberOfMonths:l},(function(){a.setState({ValidForm:a.state.ValidEntryExitNumber&&a.state.ValidReleaseDate&&a.state.ValidNumberOfMonths})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal",id:"edit-entry-exit-card-dialog",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("section",null,s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"modal-header"},s.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),s.a.createElement("div",{className:"type-h3"},"Edit Entry/Exit Card")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Entry/Exit Number"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"number",name:"EntryExitNumber",className:"form-control",autoComplete:"off",value:this.state.EntryExitNumber,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.EntryExitNumber)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Card Type"),s.a.createElement("br",null),s.a.createElement("div",{className:"dropdown",style:{width:"100%",maxWidth:"296px"}},s.a.createElement("button",{id:"example-dropdown",className:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},s.a.createElement("span",null,this.state.Type),s.a.createElement("span",{className:"caret"})),s.a.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){e.setState({Type:"Simple"}),e.validateField("","")}},"Simple")),s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){e.setState({Type:"Multiple"}),e.validateField("","")}},"Multiple"))))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Release Date"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"date",name:"ReleaseDate",className:"form-control",autoComplete:"off",value:this.state.ReleaseDate,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.ReleaseDate)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Number of Months"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"number",name:"NumberOfMonths",className:"form-control",autoComplete:"off",value:this.state.NumberOfMonths,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.NumberOfMonths))))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),s.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(r.Component),Ia=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDelete=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({Preloader:s.a.createElement(ca,null)}),e={Token:localStorage.Token},console.log("Going to delete Exit/Entry card."),t.next=5,O.a.awrap(X(e).then((function(e){"Entry/Exit card is deleted."===e.Message&&a.props.OnDocumentsUpdated(),a.setState({Preloader:null})})));case 5:case"end":return t.stop()}}))},a.onComponentUpdated=function(){if(localStorage.Token){var e={Token:localStorage.Token,Get:"EntryExitCard"};D(e).then((function(e){if("Entry/exit card found."===e.Message){var t=e.EntryExitCard;a.setState({EntryExitCardID:t.EntryExitCardID,EntryExitNumber:t.EntryExitNumber,Type:t.Type,ReleaseDate:t.ReleaseDate,NumberOfMonths:t.NumberOfMonths})}else a.setState({EntryExitCardID:"",EntryExitNumber:"",Type:"Simple",ReleaseDate:"",NumberOfMonths:""})}))}},a.state={EntryExitCardID:"",EntryExitNumber:"",Type:"Simple",ReleaseDate:"",NumberOfMonths:"",EditEntryExitCardDialog:null,Preloader:null},a.onDelete=a.onDelete.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"render",value:function(){var e=this;return s.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#entry-exit-card-".concat(this.state.EntryExitCardID)},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon",style:{borderRadius:"50%"}},s.a.createElement("span",{className:"glyph glyph-add"}),s.a.createElement("span",{className:"glyph glyph-remove"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},s.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"".concat(this.props.Index,"."))),s.a.createElement("div",{className:"content-text-secondary"},s.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"ENTRY/EXIT CARD")))))),s.a.createElement("div",{className:"collapse",id:"entry-exit-card-".concat(this.state.EntryExitCardID)},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Entry/Exit Card"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-hashtag"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Entry/Exit Number"),s.a.createElement("div",{className:"content-text-secondary"},this.state.EntryExitNumber)))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-star-of-life"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Entry/Exit Type"),s.a.createElement("div",{className:"content-text-secondary"},this.state.Type))))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-calendar"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Release Date"),s.a.createElement("div",{className:"content-text-secondary"},this.state.ReleaseDate)))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-calendar"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Number of Months"),s.a.createElement("div",{className:"content-text-secondary"},this.state.NumberOfMonths)))))))))),s.a.createElement("div",{style:{backgroundColor:"#E5E5E5",textAlign:"right",padding:"10px"}},s.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#edit-entry-exit-card-dialog",onMouseDown:function(){e.setState({EditEntryExitCardDialog:s.a.createElement(La,{OnCancel:function(){e.setState({EditEntryExitCardDialog:null})},OnOK:function(t){t.click(),e.onComponentUpdated()}})})}},"Edit"),s.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){e.onDelete()}},"Delete"))),this.state.Preloader,this.state.EditEntryExitCardDialog)}}]),t}(r.Component),Ua=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.Token,IDNumber:a.state.IDNumber,PhotoURL:a.state.PhotoURL},console.log("Going to update Identity Card."),a.setState({Preloader:s.a.createElement(ca,null)}),n.next=8,O.a.awrap(ee(t).then((function(e){"Identity card is updated."===e.Message&&a.props.OnOK(a.cancelButton),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={IDNumber:"",PhotoURL:"./images/default_image.png",ValidIDNumber:!0,ValidPhotoURL:!0,ValidForm:!1,Preloader:null,Errors:{IDNumber:"",PhotoURL:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.Token){var t={Token:localStorage.Token,Get:"IdentityCard"};D(t).then((function(t){if("Identity card found."===t.Message){var a=t.IdentityCard;e.setState({IDNumber:a.IDNumber,PhotoURL:a.PhotoURL})}else e.setState({IDNumber:"",PhotoURL:"./images/default_image.png"})}))}}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidIDNumber,s=this.state.ValidPhotoURL;switch(e){case"IDNumber":if(r=""!==t,n.IDNumber=r?"":"ID number is required.",""!==n.IDNumber)break;r=t>=1e9&&t<=9999999999,n.IDNumber=r?"":"ID number must be 10-digits long.";break;case"PhotoURL":s=null!==t,n.PhotoURL=s?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidIDNumber:r,ValidPhotoURL:s},(function(){a.setState({ValidForm:a.state.ValidIDNumber&&a.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal",id:"edit-identity-card-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("section",null,s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"modal-header"},s.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),s.a.createElement("div",{className:"type-h3"},"Edit Identity Card")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement(wa,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"IdentityCard"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"ID Number"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"number",name:"IDNumber",className:"form-control",autoComplete:"off",required:!0,value:this.state.IDNumber,onChange:this.onChange,min:"1000000000",max:"99999999999"}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.IDNumber))))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),s.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(r.Component),Va=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDelete=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({Preloader:s.a.createElement(ca,null)}),e={Token:localStorage.Token},console.log("Going to delete Identity Card."),t.next=5,O.a.awrap(te(e).then((function(e){"Identity card is deleted."===e.Message&&a.props.OnDocumentsUpdated(),a.setState({Preloader:null})})));case 5:case"end":return t.stop()}}))},a.onComponentUpdated=function(){if(localStorage.Token){var e={Token:localStorage.Token,Get:"IdentityCard"};D(e).then((function(e){if("Identity card found."===e.Message){var t=e.IdentityCard;a.setState({IdentityCardID:t.IdentityCardID,IDNumber:t.IDNumber,PhotoURL:t.PhotoURL})}else a.setState({IdentityCardID:"",IDNumber:"",PhotoURL:"./images/default_image.png"})}))}},a.state={IdentityCardID:"",IDNumber:"",PhotoURL:"./images/default_image.png",EditIdentityCardDialog:null,Preloader:null},a.onDelete=a.onDelete.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"render",value:function(){var e=this;return s.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#identity-card-".concat(this.state.IdentityCardID)},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon",style:{borderRadius:"50%"}},s.a.createElement("span",{className:"glyph glyph-add"}),s.a.createElement("span",{className:"glyph glyph-remove"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},s.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"".concat(this.props.Index,"."))),s.a.createElement("div",{className:"content-text-secondary"},s.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"IDENTITY CARD")))))),s.a.createElement("div",{className:"collapse",id:"identity-card-".concat(this.state.IdentityCardID)},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:this.state.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),s.a.createElement("div",{className:"col-md-18"},s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Identity Card"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-hashtag"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"ID Number"),s.a.createElement("div",{className:"content-text-secondary"},this.state.IDNumber)))))))))),s.a.createElement("div",{style:{backgroundColor:"#E5E5E5",textAlign:"right",padding:"10px"}},s.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#edit-identity-card-dialog",onMouseDown:function(){e.setState({EditIdentityCardDialog:s.a.createElement(Ua,{OnCancel:function(){e.setState({EditIdentityCardDialog:null})},OnOK:function(t){t.click(),e.onComponentUpdated()}})})}},"Edit"),s.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){e.onDelete()}},"Delete"))),this.state.Preloader,this.state.EditIdentityCardDialog)}}]),t}(r.Component),Ja=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDocumentsUpdated=function(){var e,t,n,r=0;if(localStorage.Token){var l={Token:localStorage.Token,Get:"DrivingLicence"};D(l).then((function(c){e="Driving licence found."===c.Message?c.DrivingLicence:void 0,l={Token:localStorage.Token,Get:"EntryExitCard"},D(l).then((function(c){t="Entry/exit card found."===c.Message?c.EntryExitCard:void 0,l={Token:localStorage.Token,Get:"IdentityCard"},D(l).then((function(l){n="Identity card found."===l.Message?l.IdentityCard:void 0,e?a.setState({AddDrivingLicenceButton:null,DrivingLicenceListItem:s.a.createElement(Fa,{Index:++r,OnDocumentsUpdated:a.onDocumentsUpdated})}):a.setState({AddDrivingLicenceButton:s.a.createElement(Pa,{OnDocumentsUpdated:a.onDocumentsUpdated}),DrivingLicenceListItem:null}),t?a.setState({AddEntryExitCardButton:null,EntryExitCardListItem:s.a.createElement(Ia,{Index:++r,OnDocumentsUpdated:a.onDocumentsUpdated})}):a.setState({AddEntryExitCardButton:s.a.createElement(Ta,{OnDocumentsUpdated:a.onDocumentsUpdated}),EntryExitCardListItem:null}),n?a.setState({AddIdentityCardButton:null,IdentityCardListItem:s.a.createElement(Va,{Index:++r,OnDocumentsUpdated:a.onDocumentsUpdated})}):a.setState({AddIdentityCardButton:s.a.createElement(Da,{OnDocumentsUpdated:a.onDocumentsUpdated}),IdentityCardListItem:null})}))}))}))}},a.state={AddDrivingLicenceButton:null,AddEntryExitCardButton:null,AddIdentityCardButton:null,DrivingLicenceListItem:null,EntryExitCardListItem:null,IdentityCardListItem:null},a.onDocumentsUpdated=a.onDocumentsUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.onDocumentsUpdated()}},{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Documents"),s.a.createElement("div",{style:{padding:"10px",backgroundColor:"#E5E5E5"}},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-18 col-md-offset-2"}),s.a.createElement("div",{className:"col-md-4 text-right"},this.state.AddDrivingLicenceButton,this.state.AddEntryExitCardButton,this.state.AddIdentityCardButton))),s.a.createElement("ol",{className:"list-items",style:{marginTop:"0px"}},this.state.DrivingLicenceListItem,this.state.EntryExitCardListItem,this.state.IdentityCardListItem))}}]),t}(r.Component),Ma=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement("div",{class:"rating ".concat(this.props.Size," ").concat(this.props.Color)},s.a.createElement("div",{class:"rating-stars"},s.a.createElement("ul",{class:"rating-stars-background"},s.a.createElement("li",null,s.a.createElement("i",{class:"glyph glyph-star"})),s.a.createElement("li",null,s.a.createElement("i",{class:"glyph glyph-star"})),s.a.createElement("li",null,s.a.createElement("i",{class:"glyph glyph-star"})),s.a.createElement("li",null,s.a.createElement("i",{class:"glyph glyph-star"})),s.a.createElement("li",null,s.a.createElement("i",{class:"glyph glyph-star"}))),s.a.createElement("ul",{class:"rating-stars-value",style:{width:"".concat(this.props.Rating,"%")}},s.a.createElement("li",null,s.a.createElement("i",{class:"glyph glyph-star"})),s.a.createElement("li",null,s.a.createElement("i",{class:"glyph glyph-star"})),s.a.createElement("li",null,s.a.createElement("i",{class:"glyph glyph-star"})),s.a.createElement("li",null,s.a.createElement("i",{class:"glyph glyph-star"})),s.a.createElement("li",null,s.a.createElement("i",{class:"glyph glyph-star"})))),this.props.Label?s.a.createElement("div",{class:"rating-label rating-label-right"},this.props.Label):null))}}]),t}(r.Component),Ba=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement("div",{style:{backgroundColor:"#1C6D6E",padding:"5px 5px 5px 20px"}},s.a.createElement("div",{className:"sh1 color-light",style:{fontWeight:"bold"}},"/ ".concat(this.props.Heading))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#26525F"}}))}}]),t}(r.Component),qa=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={Username:"",Password:"",Email:"",FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:"",Active:null,RatingAndReviews:{},WarningAlert:null,Errors:{}},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=4;break}return e={Token:localStorage.Token,Get:"Driver"},a.next=4,O.a.awrap(D(e).then((function(e){if("Driver found."===e.Message){var a=e.Driver;t.setState({Username:a.Username,Password:a.Password,Email:a.Email,FirstName:a.FirstName,LastName:a.LastName,DateOfBirth:a.DateOfBirth,Gender:a.Gender,Address:a.Address,PhoneNumber:a.PhoneNumber,Nationality:a.Nationality,Active:a.Active,RatingAndReviews:e.RatingAndReviews})}else t.setState({Username:"",Password:"",Email:"",FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:"",Active:null,RatingAndReviews:{}})})));case 4:case"end":return a.stop()}}))}},{key:"render",value:function(){var e=this.state.RatingAndReviews;return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"PROFILE"}),s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement(Oa,null)),s.a.createElement("div",{className:"col-md-18"},s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},this.state.FirstName+" "+this.state.LastName),s.a.createElement("div",{className:"type-sh3"},s.a.createElement("span",{className:"fas fa-briefcase m-r-xxxs",style:{color:"#606060"}}),"Driver"),s.a.createElement("div",{className:"type-sh3"},s.a.createElement("span",null,s.a.createElement(Ma,{Rating:e.Reviews>0?e.Rating:0,Color:"",Size:"rating-small",Label:e.Reviews>0?"(".concat(e.Reviews," Review(s))"):"No Reviews"}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-globe-asia"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Active"),s.a.createElement("div",{className:"content-text-secondary"},1===this.state.Active?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}))))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-phone"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Phone Number"),s.a.createElement("div",{className:"content-text-secondary"},this.state.PhoneNumber))))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-at"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Username"),s.a.createElement("div",{className:"content-text-secondary"},this.state.Username)))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-envelope"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Email"),s.a.createElement("div",{className:"content-text-secondary"},this.state.Email)))))))))),s.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#333333"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3",style:{paddingTop:"0px"}},"Details"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list theme-alt"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon",style:{backgroundColor:"transparent"}},s.a.createElement("span",{className:"fas fa-birthday-cake color-default"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Birthday"),s.a.createElement("div",{className:"content-text-secondary"},this.state.DateOfBirth)))),s.a.createElement("div",{className:"entity-list theme-alt"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon",style:{backgroundColor:"transparent"}},s.a.createElement("span",{className:"Male"===this.state.Gender?"fas fa-male color-default":"fas fa-female color-default"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Gender"),s.a.createElement("div",{className:"content-text-secondary"},this.state.Gender))))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list theme-alt"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon",style:{backgroundColor:"transparent"}},s.a.createElement("span",{className:"fas fa-flag color-default"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Nationality"),s.a.createElement("div",{className:"content-text-secondary"},this.state.Nationality)))),s.a.createElement("div",{className:"entity-list theme-alt"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon",style:{backgroundColor:"transparent"}},s.a.createElement("span",{className:"fas fa-map-marker-alt color-default"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Address"),s.a.createElement("div",{className:"content-text-secondary"},this.state.Address)))))))))),s.a.createElement(Ja,null))}}]),t}(r.Component),Qa=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(w.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),e.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,Get:"Owner",Params:{Owner:e.state.Owner}},n.next=6,O.a.awrap(D(a).then((function(t){var a,n;return O.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if("Owner found."!==t.Message){r.next=7;break}return e.setState({Preloader:s.a.createElement(ca,null)}),a={Token:localStorage.Token,TransportCompanyResponsibleID:t.Owner.TransportCompanyResponsibleID,PlateNumber:e.state.PlateNumber,Owner:t.Owner.Username,ProductionYear:e.state.ProductionYear,Brand:e.state.Brand,Model:e.state.Model,Type:e.state.Type,MaximumWeight:e.state.MaximumWeight},r.next=5,O.a.awrap(Q(a).then((function(t){e.setState({Preloader:!1}),"Truck is updated."===t.Message&&(e.setState({ValidForm:!1}),e.props.OnTruckSettingsUpdated())})));case 5:r.next=10;break;case 7:(n=e.state.Errors).Owner="Owner not found.",e.setState({Errors:n,ValidOwner:!1,ValidForm:!1});case 10:case"end":return r.stop()}}))})));case 6:case"end":return n.stop()}}))},e.state={PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:"",ValidPlateNumber:!0,ValidOwner:!0,ValidProductionYear:!0,ValidBrand:!0,ValidModel:!0,ValidType:!0,ValidMaximumWeight:!0,ValidForm:!1,Preloader:null,Errors:{PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:""}},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.Token){var t={Token:localStorage.Token,Get:"Truck"};D(t).then((function(t){if("Truck found."===t.Message){var a=t.Truck;e.setState({PlateNumber:a.PlateNumber,Owner:a.Owner,ProductionYear:a.ProductionYear,Brand:a.Brand,Model:a.Model,Type:a.Type,MaximumWeight:a.MaximumWeight})}else e.setState({PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:""})}))}}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidPlateNumber,s=this.state.ValidOwner,l=this.state.ValidProductionYear,c=this.state.ValidBrand,o=this.state.ValidModel,i=this.state.ValidType,m=this.state.MaximumWeight;switch(e){case"PlateNumber":r=""!==t&&t>=1&&t<=999,n.PlateNumber=r?"":"Plate Number must be between 001 and 999.";break;case"Owner":s=""!==t,n.Owner=s?"":"Owner is required.";break;case"ProductionYear":var d=(new Date).getFullYear();l=""!==t&&t>=2e3&&t<=d,n.ProductionYear=l?"":"Production Year must be between 2000 and ".concat(d);break;case"Brand":c=""!==t,n.Brand=c?"":"Brand is required.";break;case"Model":o=""!==t,n.Model=o?"":"Model is required.";break;case"Type":i=""!==t,n.Type=i?"":"Type is required";break;case"MaximumWeight":if(m=""!==t,n.MaximumWeight=m?"":"Maximum Weight is required.",""!==n.MaximumWeight)break;m=t>=700,n.MaximumWeight=m?"":"Maximum weight must be greater than 699."}this.setState({Errors:n,ValidPlateNumber:r,ValidOwner:s,ValidProductionYear:l,ValidBrand:c,ValidModel:o,ValidType:i,ValidMaximumWeight:m},(function(){a.setState({ValidForm:a.state.ValidPlateNumber&&a.state.ValidOwner&&a.state.ValidProductionYear&&a.state.ValidBrand&&a.state.ValidModel&&a.state.ValidType&&a.state.MaximumWeight})}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Truck Settings"),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"entity-list entity-list-expandable"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-list-ol"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"number",name:"PlateNumber",className:"form-control",autocomplete:"off",value:this.state.PlateNumber,onChange:this.onChange}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Plate Number"),s.a.createElement("div",{className:"text-danger"},this.state.Errors.PlateNumber))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-copyright"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"Owner",className:"form-control",autocomplete:"off",value:this.state.Owner,onChange:this.onChange}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Owner"),s.a.createElement("div",{className:"text-danger"},this.state.Errors.Owner))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-calendar-day"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"number",name:"ProductionYear",className:"form-control",autocomplete:"off",value:this.state.ProductionYear,onChange:this.onChange,placeholder:"XXXX"}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Production Year"),s.a.createElement("div",{className:"text-danger"},this.state.Errors.ProductionYear))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-copyright"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"Brand",className:"form-control",autocomplete:"off",value:this.state.Brand,onChange:this.onChange}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Brand"),s.a.createElement("div",{className:"text-danger"},this.state.Errors.Brand))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-list-ol"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"Model",className:"form-control",autocomplete:"off",value:this.state.Model,onChange:this.onChange}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Truck Model"),s.a.createElement("div",{className:"text-danger"},this.state.Errors.Model))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-cog"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"Type",className:"form-control",autocomplete:"off",value:this.state.Type,onChange:this.onChange}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Truck Type"),s.a.createElement("div",{className:"text-danger"},this.state.Errors.Type))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-weight"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"number",name:"MaximumWeight",className:"form-control",autocomplete:"off",value:this.state.MaximumWeight,onChange:this.onChange}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Maximum Weight (GVW)"),s.a.createElement("div",{className:"text-danger"},this.state.Errors.MaximumWeight))),s.a.createElement("div",{className:"entity-list-item active"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-save"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Save Changes?"),s.a.createElement("div",{className:"content-text-secondary"},"This cannot be undone.")),s.a.createElement("div",{className:"item-content-expanded"},s.a.createElement("input",{type:"submit",value:"Save",className:"btn btn-primary",disabled:!this.state.ValidForm}))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.Preloader)}}]),t}(r.Component),Wa=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.Token,Get:"Owner",Params:{Owner:a.state.Owner}},n.next=6,O.a.awrap(D(t).then((function(e){var t,n;return O.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(console.log(e),"Owner found."!==e.Message){r.next=8;break}return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,TransportCompanyResponsibleID:e.Owner.TransportCompanyResponsibleID,PlateNumber:a.state.PlateNumber,Owner:e.Owner.Username,ProductionYear:a.state.ProductionYear,Brand:a.state.Brand,Model:a.state.Model,Type:a.state.Type,MaximumWeight:a.state.MaximumWeight,PhotoURL:a.state.PhotoURL},r.next=6,O.a.awrap(B(t).then((function(e){a.setState({ShowPreloader:!1}),"Truck is added."===e.Message&&(a.cancelButton.click(),a.props.OnOK())})));case 6:r.next=11;break;case 8:(n=a.state.Errors).Owner="Owner not found.",a.setState({Errors:n,ValidOwner:!1,ValidForm:!1});case 11:case"end":return r.stop()}}))})));case 6:case"end":return n.stop()}}))},a.state={PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:"",PhotoURL:"./images/default_image.png",ValidPlateNumber:!1,ValidOwner:!1,ValidProductionYear:!1,ValidBrand:!1,ValidModel:!1,ValidType:!1,ValidMaximumWeight:!1,ValidPhotoURL:!1,ValidForm:!1,ShowPreloader:!1,Errors:{PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:"",PhotoURL:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidPlateNumber,s=this.state.ValidOwner,l=this.state.ValidProductionYear,c=this.state.ValidBrand,o=this.state.ValidModel,i=this.state.ValidType,m=this.state.ValidMaximumWeight,d=this.state.ValidPhotoURL;switch(e){case"PlateNumber":if(r=""!==t,n.PlateNumber=r?"":"Plate number is required.",""!==n.IDNumber)break;r=t>=100&&t<=999,n.PlateNumber=r?"":"Plate number must be 3-digits long.";break;case"Owner":s=""!==t,n.Owner=s?"":"Owner is required.";break;case"ProductionYear":var u=(new Date).getFullYear();l=""!==t&&t>=2e3&&t<=u,n.ProductionYear=l?"":"Production Year must be between 2000 and ".concat(u);break;case"Brand":c=""!==t,n.Brand=c?"":"Brand is required.";break;case"Model":o=""!==t,n.Model=o?"":"Model is required.";break;case"Type":i=""!==t,n.Type=i?"":"Type is required";break;case"MaximumWeight":if(m=""!==t,n.MaximumWeight=m?"":"Maximum Weight is required.",""!==n.MaximumWeight)break;m=t>=700,n.MaximumWeight=m?"":"Maximum weight must be greater than 699.";break;case"PhotoURL":d=null!==t,n.PhotoURL=d?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidPlateNumber:r,ValidOwner:s,ValidProductionYear:l,ValidBrand:c,ValidModel:o,ValidType:i,ValidMaximumWeight:m,ValidPhotoURL:d},(function(){a.setState({ValidForm:a.state.ValidPlateNumber&&a.state.ValidOwner&&a.state.ValidProductionYear&&a.state.ValidBrand&&a.state.ValidModel&&a.state.ValidType&&a.state.ValidMaximumWeight&&a.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"add-truck-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.ShowPreloader?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement(wa,{Source:this.state.PhotoURL,OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)}})),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"type-h3 color-default p-t-xxs"},"Add Truck"),s.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Plate Number"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",name:"PlateNumber",className:"form-control",autoComplete:"off",value:this.state.PlateNumber,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.PlateNumber)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Owner"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"text",name:"Owner",className:"form-control",autoComplete:"off",value:this.state.Owner,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.Owner)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Production Year"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",name:"ProductionYear",className:"form-control",autoComplete:"off",value:this.state.ProductionYear,onChange:this.onChange,placeholder:"XXXX"}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.ProductionYear)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Brand"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"text",name:"Brand",className:"form-control",autoComplete:"off",value:this.state.Brand,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.Brand))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Truck Model"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"text",name:"Model",className:"form-control",autoComplete:"off",value:this.state.Model,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.Model)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Truck Type"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"text",name:"Type",className:"form-control",autoComplete:"off",value:this.state.Type,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.Type)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Maximum Weight (GVW)"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",name:"MaximumWeight",className:"form-control",autoComplete:"off",value:this.state.MaximumWeight,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.MaximumWeight)))))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))))}}]),t}(r.Component),Ga=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.Token,MaximumWeight:a.state.MaximumWeight,PhotoURL:a.state.PhotoURL,Type:a.state.Type},console.log("Going to add the trailer..."),a.setState({Preloader:s.a.createElement(ca,null)}),n.next=8,O.a.awrap(G(t).then((function(e){"Trailer is added."===e.Message&&a.props.OnOK(a.cancelButton),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={MaximumWeight:"",PhotoURL:"./images/default_image.png",Type:"",ValidMaximumWeight:!1,ValidPhotoURL:!1,ValidType:!1,ValidForm:!1,Preloader:null,Errors:{MaximumWeight:"",PhotoURL:"",Type:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidMaximumWeight,s=this.state.ValidPhotoURL,l=this.state.ValidType;switch(e){case"MaximumWeight":if(r=""!==t,n.MaximumWeight=r?"":"Maximum Weight is required.",""!==n.MaximumWeight)break;r=t>=700,n.MaximumWeight=r?"":"Maximum weight must be greater than 699.";break;case"PhotoURL":s=null!==t,n.PhotoURL=s?"":"Invalid Image. Please upload a correct one.";break;case"Type":l=""!==t,n.Type=l?"":"Type is required."}this.setState({Errors:n,ValidMaximumWeight:r,ValidPhotoURL:s,ValidType:l},(function(){a.setState({ValidForm:a.state.ValidMaximumWeight&&a.state.ValidPhotoURL&&a.state.ValidType})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal",id:"add-trailer-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("section",null,s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"modal-header"},s.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),s.a.createElement("div",{className:"type-h3"},"New Trailer")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement(wa,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:""})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Maximum Weight (GVW)"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"number",name:"MaximumWeight",className:"form-control",autocomplete:"off",value:this.state.MaximumWeight,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.MaximumWeight)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Trailer Type"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"text",name:"Type",className:"form-control",autocomplete:"off",value:this.state.Type,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.Type))))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),s.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(r.Component),_a=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={AddTrailerDialog:null},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container",style:{paddingBottom:"10px",marginBottom:"12px"}},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-truck-pickup"}),"   Trailers"),s.a.createElement("p",{className:"color-light"},"RECOMMENDED: Since your truck is all set up, you're good to go for adding up to TWO trailers to it."),s.a.createElement("div",{className:"btn-group"},s.a.createElement("button",{type:"button",className:"btn btn-primary",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#add-trailer-dialog",onMouseDown:function(){e.setState({AddTrailerDialog:s.a.createElement(Ga,{OnCancel:function(){e.setState({AddTrailerDialog:null})},OnOK:function(t){t.click(),e.props.OnTrailerAdded()}})})}},"Add Trailer")))))),this.state.AddTrailerDialog)}}]),t}(r.Component),za=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){if(e.preventDefault(),a.state.ValidForm){var t={Token:localStorage.Token,TrailerID:a.props.Trailer.TrailerID,MaximumWeight:a.state.MaximumWeight,PhotoURL:a.state.PhotoURL,Type:a.state.Type};console.log("Going to update trailer..."),a.setState({Preloader:s.a.createElement(ca,null)}),function(e){return console.log("Sending HTTP POST request to ".concat(g.a.NAQEL_SERVER,"drivers/updateTrailer...")),P.a.post("".concat(g.a.NAQEL_SERVER,"drivers/updateTrailer"),{TrailerID:e.TrailerID,MaximumWeight:e.MaximumWeight,PhotoURL:e.PhotoURL,Type:e.Type},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))}(t).then((function(e){"Trailer is updated."===e.Message&&a.props.OnOK(a.cancelButton),a.setState({Preloader:null})}))}},a.state={MaximumWeight:a.props.Trailer.MaximumWeight,PhotoURL:a.props.Trailer.PhotoURL,Type:a.props.Trailer.Type,ValidMaximumWeight:!0,ValidPhotoURL:!0,ValidType:!0,ValidForm:!1,Preloader:null,Errors:{MaximumWeight:"",PhotoURL:"",Type:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidMaximumWeight,s=this.state.ValidPhotoURL,l=this.state.ValidType;switch(e){case"MaximumWeight":if(r=""!==t,n.MaximumWeight=r?"":"Maximum Weight is required.",""!==n.MaximumWeight)break;r=t>=700,n.MaximumWeight=r?"":"Maximum weight must be greater than 699.";break;case"PhotoURL":s=null!==t,n.PhotoURL=s?"":"Invalid Image. Please upload a correct one.";break;case"Type":l=""!==t,n.Type=l?"":"Type is required."}this.setState({Errors:n,ValidMaximumWeight:r,ValidPhotoURL:s,ValidType:l},(function(){a.setState({ValidForm:a.state.ValidMaximumWeight&&a.state.ValidPhotoURL&&a.state.ValidType})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal",id:"edit-trailer-dialog".concat(this.props.dialogID),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("section",null,s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"modal-header"},s.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),s.a.createElement("div",{className:"type-h3"},"Edit Trailer")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement(wa,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:this.state.ImageCategory})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Maximum Weight (GVW)"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"number",name:"MaximumWeight",className:"form-control",autoComplete:"off",value:this.state.MaximumWeight,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.MaximumWeight)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Trailer Type"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"text",name:"Type",className:"form-control",autoComplete:"off",value:this.state.Type,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.Type))))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),s.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(r.Component),Ha=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDelete=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({Preloader:s.a.createElement(ca,null)}),t={Token:localStorage.Token,TrailerID:a.state.Trailers[e].TrailerID},console.log("Going to delete Trailers[".concat(e,"]...")),n.next=5,O.a.awrap(_(t).then((function(e){"Trailer is deleted."===e.Message&&a.props.OnTrailersUpdated(),a.setState({Preloader:null})})));case 5:case"end":return n.stop()}}))},a.state={Trailers:a.props.Trailers,EditTrailerDialogs:[],Preloader:null},a.onDelete=a.onDelete.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Trailers"),s.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},this.state.Trailers.map((function(t,a){return s.a.createElement("li",{key:a,className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:t.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),s.a.createElement("div",{className:"col-md-18"},s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Trailer # ".concat(a+1,".")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-weight"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Maximum Weight"),s.a.createElement("div",{className:"content-text-secondary"},"".concat(t.MaximumWeight," GVM"))))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-star-of-life"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Trailer Type"),s.a.createElement("div",{className:"content-text-secondary"},t.Type)))))))))),s.a.createElement("div",{style:{backgroundColor:"#E5E5E5",textAlign:"right",padding:"10px"}},s.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#edit-trailer-dialog".concat(a),onMouseDown:function(){var n=e.state.EditTrailerDialogs;n[a]=s.a.createElement(za,{dialogID:a,Trailer:t,OnCancel:function(){var t=e.state.EditTrailerDialogs;t[a]=null,e.setState({EditTrailerDialogs:t})},OnOK:function(t){t.click(),e.props.OnTrailersUpdated()}}),e.setState({EditTrailerDialogs:n})}},"Edit"),s.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){e.onDelete(a)}},"Delete")),e.state.EditTrailerDialogs[a])}))),this.state.Preloader)}}]),t}(r.Component),Ka=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={AddTrailer:null,TrailersList:null},a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"onComponentUpdated",value:function(){var e=this;if(localStorage.Token){var t={Token:localStorage.Token,Get:"Trailers"};this.setState({AddTrailer:null,TrailersList:null}),D(t).then((function(t){"Trailers found."===t.Message?t.Trailers.length<2?e.setState({AddTrailer:s.a.createElement(_a,{OnTrailerAdded:e.onComponentUpdated}),TrailersList:s.a.createElement(Ha,{Trailers:t.Trailers,OnTrailersUpdated:e.onComponentUpdated})}):e.setState({AddTrailer:null,TrailersList:s.a.createElement(Ha,{Trailers:t.Trailers,OnTrailersUpdated:e.onComponentUpdated})}):e.setState({AddTrailer:s.a.createElement(_a,{OnTrailerAdded:e.onComponentUpdated}),TrailersList:null})}))}}},{key:"render",value:function(){return s.a.createElement("section",null,this.state.AddTrailer,this.state.TrailersList)}}]),t}(r.Component),Ya=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onComponentUpdated=function(){if(localStorage.Token){var t={Token:localStorage.Token,Get:"Truck"};e.setState({Preloader:s.a.createElement(ca,null)}),D(t).then((function(t){"Truck found."===t.Message?e.setState({Truck:t.Truck,Preloader:null}):e.setState({Truck:null,Preloader:null})}))}},e.onDelete=function(){var t;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e.setState({ShowPreloader:!0}),t={Token:localStorage.Token},console.log("Going to delete truck..."),a.next=5,O.a.awrap(W(t).then((function(t){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if("Truck is deleted."!==t.Message){a.next=6;break}return e.setState({ShowPreloader:!1}),a.next=4,O.a.awrap(e.onComponentUpdated());case 4:a.next=7;break;case 6:e.setState({ShowPreloader:!1});case 7:case"end":return a.stop()}}))})));case 5:case"end":return a.stop()}}))},e.state={Truck:null,ShowPreloader:!1},e.onDelete=e.onDelete.bind(Object(h.a)(e)),e.onComponentUpdated=e.onComponentUpdated.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"render",value:function(){var e=this,t=this.state.Truck,a=this.state.ShowPreloader;return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"TRUCKS"}),t?s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement(wa,{Source:t.PhotoURL,Height:"200px",Width:"200px",OnImageUploaded:function(t){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("Image uploaded successfully."!==t.message){n.next=4;break}return a={Token:localStorage.Token,PhotoURL:t.imageUrl},n.next=4,O.a.awrap(q(a).then((function(t){"Truck photo updated."===t.Message&&e.setState({PhotoURL:a.PhotoURL})})));case 4:case"end":return n.stop()}}))},OnInvalidImageSelected:function(){},ImageCategory:"Truck"})),s.a.createElement("div",{className:"col-md-18"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"".concat(t.Brand," ").concat(t.Model)),s.a.createElement("div",{className:"type-sh3"},s.a.createElement("span",{className:"fas fa-truck m-r-xxs",style:{color:"#606060"}}),t.Type),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-list-ol"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Plate Number"),s.a.createElement("div",{className:"content-text-secondary"},t.PlateNumber))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-calendar-day"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Production Year"),s.a.createElement("div",{className:"content-text-secondary"},t.ProductionYear))))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-weight"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Maximum Weight"),s.a.createElement("div",{className:"content-text-secondary"},"".concat(t.MaximumWeight," GVW")))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-copyright"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Owner"),s.a.createElement("div",{className:"content-text-secondary"},t.Owner)))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.onDelete},"Delete Truck"))))))),s.a.createElement(Qa,{OnTruckSettingsUpdated:this.onComponentUpdated}),s.a.createElement(Ka,null),a?s.a.createElement(ca,null):null):s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-alt",style:{width:"100%",height:"100vh",backgroundColor:"#333333"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 col-md-push-12 text-center"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"add_truck.png",src:"./images/add_truck.png","data-source-index":"2"})),s.a.createElement("div",{className:"col-md-12 col-md-pull-12"},s.a.createElement("div",{className:"type-h3"},"Truck"),s.a.createElement("div",{className:"type-sh3"},"You have not added any truck yet."),s.a.createElement("p",null,"Adding your truck will let the Traders or Brokers see details about your it. Valid and complete details of your truck make more chances for you to receive job requests."),s.a.createElement("div",{className:"btn-group"},s.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#add-truck-dialog"},"Add Now")))))),s.a.createElement(Wa,{OnOK:this.onComponentUpdated}),a?s.a.createElement(ca,null):null))}}]),t}(r.Component),$a=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.Token,PermitNumber:a.state.PermitNumber,ExpiryDate:a.state.ExpiryDate,PhotoURL:a.state.PhotoURL,Code:a.state.Code,Place:a.state.Place},console.log("Going to add Permit Licence."),a.setState({Preloader:s.a.createElement(ca,null)}),n.next=8,O.a.awrap(ae(t).then((function(e){"Permit Licence is added."===e.Message&&a.props.OnOK(a.cancelButton),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={PermitNumber:"",ExpiryDate:new Date,PhotoURL:"./images/default_image.png",Code:"",Place:"",ValidPermitNumber:!1,ValidExpiryDate:!1,ValidPhotoURL:!1,ValidCode:!1,ValidPlace:!1,ValidForm:!1,Preloader:null,Errors:{PermitNumber:"",ExpiryDate:"",PhotoURL:"",Code:"",Place:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidPermitNumber,s=this.state.ValidExpiryDate,l=this.state.ValidPhotoURL,c=this.state.ValidCode,o=this.state.ValidPlace;switch(e){case"PermitNumber":if(r=""!==t,n.PermitNumber=r?"":"Permit number is required.",""!==n.PermitNumber)break;r=""!==t,n.PermitNumber=r?"":"Permit number is required.";break;case"ExpiryDate":s=new Date(t).getTime()>=(new Date).getTime(),n.ExpiryDate=s?"":"Expiry Date must be later than yesterday.";break;case"PhotoURL":l=null!==t,n.PhotoURL=l?"":"Invalid Image. Please upload a correct one.";break;case"Code":c=""!==t,n.Code=c?"":"Permit code is required.";break;case"Place":o=""!==t,n.Place=o?"":"Permit place is required."}this.setState({Errors:n,ValidPermitNumber:r,ValidExpiryDate:s,ValidPhotoURL:l,ValidCode:c,ValidPlace:o},(function(){a.setState({ValidForm:a.state.ValidPermitNumber&&a.state.ValidExpiryDate&&a.state.ValidPhotoURL&&a.state.ValidCode&&a.state.ValidPlace})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"text-left"},s.a.createElement("div",{className:"modal",id:"add-permit-licence-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("section",null,s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"modal-header"},s.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),s.a.createElement("div",{className:"type-h3"},"Add Permit Licence")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement(wa,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Permit Number"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"number",name:"PermitNumber",className:"form-control",autoComplete:"off",value:this.state.PermitNumber,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.PermitNumber)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Expiry Date"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"date",name:"ExpiryDate",className:"form-control",autoComplete:"off",value:this.state.ExpiryDate,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.ExpiryDate)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Permit Code"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"text",name:"Code",className:"form-control",autoComplete:"off",value:this.state.Code,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.Code)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Permit Place"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"text",name:"Place",className:"form-control",autoComplete:"off",value:this.state.Place,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.Place))))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),s.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(r.Component),Xa=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.Token,PermitLicenceID:a.props.PermitLicence.PermitLicenceID,PermitNumber:a.state.PermitNumber,ExpiryDate:a.state.ExpiryDate,PhotoURL:a.state.PhotoURL,Code:a.state.Code,Place:a.state.Place},console.log("Going to update Permit Licence."),a.setState({Preloader:s.a.createElement(ca,null)}),n.next=8,O.a.awrap(re(t).then((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if("Permit Licence is updated."!==e.Message){t.next=4;break}return a.cancelButton.click(),t.next=4,O.a.awrap(a.props.OnOK());case 4:a.setState({Preloader:null});case 5:case"end":return t.stop()}}))})));case 8:case"end":return n.stop()}}))},a.state={PermitNumber:a.props.PermitLicence.PermitNumber,ExpiryDate:a.props.PermitLicence.ExpiryDate,PhotoURL:a.props.PermitLicence.PhotoURL,Code:a.props.PermitLicence.Code,Place:a.props.PermitLicence.Place,ValidPermitNumber:!0,ValidExpiryDate:!0,ValidPhotoURL:!0,ValidCode:!0,ValidPlace:!0,ValidForm:!1,Preloader:null,Errors:{PermitNumber:"",ExpiryDate:"",PhotoURL:"",Code:"",Place:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidPermitNumber,s=this.state.ValidExpiryDate,l=this.state.ValidPhotoURL,c=this.state.ValidCode,o=this.state.ValidPlace;switch(e){case"PermitNumber":r=""!==t,n.PermitNumber=r?"":"Permit number is required.";break;case"ExpiryDate":s=new Date(t).getTime()>=(new Date).getTime(),n.ExpiryDate=s?"":"Expiry Date must be later than yesterday.";break;case"PhotoURL":l=null!==t,n.PhotoURL=l?"":"Invalid Image. Please upload a correct one.";break;case"Code":c=""!==t,n.Code=c?"":"Permit code is required.";break;case"Place":o=""!==t,n.Place=o?"":"Permit place is required."}this.setState({Errors:n,ValidPermitNumber:r,ValidExpiryDate:s,ValidPhotoURL:l,ValidCode:c,ValidPlace:o},(function(){a.setState({ValidForm:a.state.ValidPermitNumber&&a.state.ValidExpiryDate&&a.state.ValidPhotoURL&&a.state.ValidCode&&a.state.ValidPlace})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"text-left"},s.a.createElement("div",{className:"modal",id:"edit-permit-dialog".concat(this.props.DialogID),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("section",null,s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"modal-header"},s.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),s.a.createElement("div",{className:"type-h3"},"Add Permit Licence")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement(wa,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Permit Number"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"number",name:"PermitNumber",className:"form-control",autoComplete:"off",value:this.state.PermitNumber,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.PermitNumber)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Expiry Date"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"date",name:"ExpiryDate",className:"form-control",autoComplete:"off",value:this.state.ExpiryDate,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.ExpiryDate)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Permit Code"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"text",name:"Code",className:"form-control",autoComplete:"off",value:this.state.Code,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.Code)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Permit Place"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"text",name:"Place",className:"form-control",autoComplete:"off",value:this.state.Place,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.Place))))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},"Cancel"),s.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(r.Component),Za=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDelete=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({Preloader:s.a.createElement(ca,null)}),t={Token:localStorage.Token,PermitLicenceID:e},console.log("Going to delete Permit licence..."),n.next=5,O.a.awrap(ne(t).then((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if("Permit Licence is deleted."!==e.Message){t.next=3;break}return t.next=3,O.a.awrap(a.props.OnPermitLicenceUpdated());case 3:a.setState({Preloader:null});case 4:case"end":return t.stop()}}))})));case 5:case"end":return n.stop()}}))},a.state={AllPermitLicences:[],PermitLicences:[],EditPermitLicenceDialogs:[],SearchString:"",Preloader:null},a.onDelete=a.onDelete.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.Index,a=this.props.PermitLicence;return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:a.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),s.a.createElement("div",{className:"col-md-18"},s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"".concat(t+1,".")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-hashtag"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Permit Number"),s.a.createElement("div",{className:"content-text-secondary"},a.PermitNumber)))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-calendar"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Expiry Date"),s.a.createElement("div",{className:"content-text-secondary"},a.ExpiryDate))))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-asterisk"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Permit Code"),s.a.createElement("div",{className:"content-text-secondary"},a.Code)))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-map-marker-alt"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Permit Place"),s.a.createElement("div",{className:"content-text-secondary"},a.Place)))))))))),s.a.createElement("div",{style:{backgroundColor:"#E5E5E5",textAlign:"right",padding:"10px"}},s.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#edit-permit-dialog".concat(t)},"Edit"),s.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.onDelete(a.PermitLicenceID));case 2:case"end":return t.stop()}}))}},"Delete")),s.a.createElement(Xa,{DialogID:t,PermitLicence:a,OnOK:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.props.OnPermitLicenceUpdated());case 2:case"end":return t.stop()}}))}}),this.state.Preloader)}}]),t}(r.Component),en=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"progress-bar"},s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}))}}]),t}(r.Component),tn=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"PermitLicences"},a.setState({Searching:!0}),t.next=5,O.a.awrap(D(e).then((function(e){"Permit licences found."===e.Message?a.setState({AllPermitLicences:e.PermitLicences,PermitLicences:e.PermitLicences,Searching:!1}):a.setState({AllPermitLicences:[],PermitLicences:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){e.preventDefault(),""===a.state.SearchString&&a.setState({PermitLicences:a.state.AllPermitLicences});for(var t=a.state.AllPermitLicences,n=[],r=0;r<t.length;r++)t[r].Place.includes(a.state.SearchString)&&(n[r]=t[r]);a.setState({PermitLicences:n})},a.state={AllPermitLicences:[],PermitLicences:[],SearchString:"",Searching:null},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state.PermitLicences;return s.a.createElement("section",null,s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Permit Licences"),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search by Permit Place",style:{maxWidth:"500px",width:"100%"},autoComplete:"off",value:this.state.SearchString,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===t.length?s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},this.state.Searching?s.a.createElement("div",{className:"col-md-24 text-center"},s.a.createElement("div",null,s.a.createElement("div",{className:"type-h3",style:{color:"#008575"}},"Searching"),s.a.createElement(en,null))):s.a.createElement("div",{className:"col-md-24 text-center"},s.a.createElement("h3",null,s.a.createElement("span",{className:"fas fa-exclamation-triangle",style:{color:"#FFBF15"}})," No licences found."))))):s.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},this.state.PermitLicences.map((function(t,a){return s.a.createElement("li",{key:a,className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement(Za,{Index:a,PermitLicence:t,OnPermitLicenceUpdated:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.onComponentUpdated());case 2:case"end":return t.stop()}}))}}))}))),this.state.Preloader)}}]),t}(r.Component),an=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onPermitLicencesUpdated=function(){a.PermitLicencesList.onComponentUpdated()},a.state={AddPermitLicenceDialog:null},a.onPermitLicencesUpdated=a.onPermitLicencesUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.onPermitLicencesUpdated()}},{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"PERMITS"}),s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/teal.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container",style:{paddingBottom:"10px",marginBottom:"12px"}},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-id-badge"}),"   Permit Licences"),s.a.createElement("p",{className:"color-light"},"If you are a non-Saudi driver, then you must have at least one permit licence."),s.a.createElement("div",{className:"btn-group"},s.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#add-permit-licence-dialog",onMouseDown:function(){e.setState({AddPermitLicenceDialog:s.a.createElement($a,{OnCancel:function(){e.setState({AddPermitLicenceDialog:null})},OnOK:function(t){t.click(),e.onPermitLicencesUpdated()}})})}},"New Permit Licence")))))),s.a.createElement(tn,{ref:function(t){return e.PermitLicencesList=t}}),this.state.AddPermitLicenceDialog)}}]),t}(r.Component),nn=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.Searching,t=this.props.SearchingFor;return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default",style:{width:"100%",height:"100vh"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},e?s.a.createElement("div",{className:"col-md-24 text-center"},s.a.createElement("div",null,s.a.createElement("div",{className:"type-h3",style:{color:"#008575"}},"Searching"),s.a.createElement(en,null))):s.a.createElement("div",{className:"col-md-24 text-center"},s.a.createElement("h3",null,s.a.createElement("span",{className:"fas fa-exclamation-triangle",style:{color:"#FFBF15"}})," No ".concat(t," found.")))))))}}]),t}(r.Component),rn=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"progress-ring"},s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}))}}]),t}(r.Component),sn=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.Index,t=this.props.Earning,a=new Date(t.Created);return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("strong",null,e+1),0===e?s.a.createElement("span",{class:"badge back-color-golden m-l-xxxs"},"NEW"):null),s.a.createElement("td",null,"$".concat(t.Amount.toFixed(2))),s.a.createElement("td",null,t.JobNumber),s.a.createElement("td",null,t.DuesPaid?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}})),s.a.createElement("td",null,"".concat(a.toDateString()," at ").concat(a.toLocaleTimeString())))}}]),t}(r.Component),ln=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"Earnings"},a.setState({Searching:!0}),t.next=5,O.a.awrap(D(e).then((function(e){"Earnings found."===e.Message?a.setState({Earnings:e.Earnings,NetEarning:e.NetEarning,Searching:!1}):a.setState({Earnings:[],NetEarning:0,Searching:!1})})));case 5:case"end":return t.stop()}}))},a.refresh=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"Earnings"},a.setState({Refreshing:!0}),t.next=5,O.a.awrap(D(e).then((function(e){"Earnings found."===e.Message?a.setState({Earnings:e.Earnings,NetEarning:e.NetEarning,Refreshing:!1}):a.setState({Earnings:[],NetEarning:0,Refreshing:!1})})));case 5:case"end":return t.stop()}}))},a.state={Earnings:[],NetEarning:0,Searching:!1,Refreshing:!1},a.refresh=a.refresh.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.Refresh(this.refresh),e.next=3,O.a.awrap(this.onComponentUpdated());case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state.Earnings,t=this.state.NetEarning;return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"EARNINGS"}),s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/teal.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container",style:{paddingBottom:"10px",marginBottom:"12px"}},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-coins m-r-xs"}),"Earnings"),s.a.createElement("p",{className:"color-light"},"JOB CHARGES: In case you have some unpaid dues, you must pay them from Payments section."))))),s.a.createElement("div",{class:"alert alert-info m-n",style:{backgroundColor:"#333333"}},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-6"},s.a.createElement("div",{className:"entity-list theme-alt"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon",style:{backgroundColor:"#333333",color:"#008575"}},s.a.createElement("span",{className:"fas fa-dollar-sign"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Net Earning"),s.a.createElement("div",{className:"content-text-secondary"},"$".concat(t.toFixed(2))))))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Your Earnings",this.state.Refreshing?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),0===e.length?s.a.createElement(nn,{Searching:this.state.Searching,SearchingFor:"earnings"}):s.a.createElement("div",{class:"table-responsive back-color-gray",style:{height:"100vh"}},s.a.createElement("table",{class:"table table-striped"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"NUMBER"),s.a.createElement("th",null,"AMOUNT"),s.a.createElement("th",null,"JOB NUMBER"),s.a.createElement("th",null,"DUES PAID?"),s.a.createElement("th",null,"EARNED ON"))),s.a.createElement("tbody",null,e.map((function(e,t){return s.a.createElement(sn,{key:t,Index:t,Earning:e})}))))))}}]),t}(r.Component),cn=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(ln,{Refresh:this.props.Refresh}))}}]),t}(r.Component),on=a(22),mn=a.n(on),dn=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.IdentityCard;return e?s.a.createElement("section",null,s.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:e.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),s.a.createElement("div",{className:"col-md-16"},s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Identity Card"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-hashtag"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"ID Number"),s.a.createElement("div",{className:"content-text-secondary"},e.IDNumber)))))))))))):null}}]),t}(r.Component),un=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.CommercialRegisterCertificate;return e?s.a.createElement("section",null,s.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:e.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),s.a.createElement("div",{className:"col-md-16"},s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Commercial Register Certificate"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-hashtag"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Certificate Number"),s.a.createElement("div",{className:"content-text-secondary"},e.Number)))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-cog"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Certificate Type"),s.a.createElement("div",{className:"content-text-secondary"},e.Type)))))))))))):null}}]),t}(r.Component),pn=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Sending GET request to ".concat(g.a.NAQEL_SERVER,"users/get").concat(e.Get,"...")),t.next=3,O.a.awrap(P.a.get("".concat(g.a.NAQEL_SERVER,"users/get").concat(e.Get),{params:e.Params}).then((function(e){return e.data})));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}))},En=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return a.setState({Searching:!0}),e={Get:"TraderDocuments",Params:{TraderID:a.props.TraderID}},t.next=5,O.a.awrap(pn(e).then((function(e){"Trader documents found."===e.Message?a.setState({TraderDocuments:e.TraderDocuments,Searching:!1}):a.setState({TraderDocuments:null,Searching:!1})})));case 5:case"end":return t.stop()}}))},a.state={TraderDocuments:null,Searching:!1},a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state.TraderDocuments;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"documents-dialog-".concat(this.props.DialogID),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal"},s.a.createElement("span",{className:"fas fa-times"}))),s.a.createElement("div",{className:"type-h2",style:{color:"#008575",paddingTop:"0px"}},"Documents")),s.a.createElement("div",{className:"modal-body"},this.state.Searching||!e?s.a.createElement(nn,{Searching:this.state.Searching,SearchingFor:"documents"}):s.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},s.a.createElement(dn,{IdentityCard:e.IdentityCard}),s.a.createElement(un,{CommercialRegisterCertificate:e.CommercialRegisterCertificate})))))))}}]),t}(r.Component),hn=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return a.setState({Searching:!0}),e={Get:"TraderProfile",Params:{TraderID:a.props.TraderID}},t.next=5,O.a.awrap(pn(e).then((function(e){"Trader profile found."===e.Message?a.setState({TraderProfile:e.TraderProfile,Searching:!1}):a.setState({TraderProfile:null,Searching:!1})})));case 5:case"end":return t.stop()}}))},a.refresh=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Get:"TraderProfile",Params:{TraderID:a.props.TraderID}},t.next=4,O.a.awrap(pn(e).then((function(e){"Trader profile found."===e.Message?a.setState({TraderProfile:e.TraderProfile}):a.setState({TraderProfile:null})})));case 4:case"end":return t.stop()}}))},a.state={TraderProfile:null,Searching:!1},a.refresh=a.refresh.bind(Object(h.a)(a)),a.onComponentUpdated=a.refresh.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.Refresh&&this.props.Refresh(this.refresh),e.next=3,O.a.awrap(this.onComponentUpdated());case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){if(this.state.Searching||!this.state.TraderProfile)return s.a.createElement(nn,{Searching:this.state.Searching,SearchingFor:"trader"});var e=this.state.TraderProfile,t=e.Trader,a=e.OnJob,n=e.ProfilePhoto?e.ProfilePhoto:"./images/defaultProfilePhoto.png",r=mn()().substring(0,7).toUpperCase();return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:n,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),s.a.createElement("div",{className:"col-md-18"},s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"".concat(t.FirstName," ").concat(t.LastName),a?s.a.createElement("span",{class:"badge back-color-golden m-l-xxs"},"ON JOB"):null),s.a.createElement("div",{className:"type-sh3"},s.a.createElement("span",{className:"fas fa-briefcase",style:{color:"#606060"}}),"   ",t.Type),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-globe-asia"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Active"),s.a.createElement("div",{className:"content-text-secondary"},1===t.Active?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}))))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"Male"===t.Gender?"fas fa-male":"fas fa-female"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Gender"),s.a.createElement("div",{className:"content-text-secondary"},t.Gender)))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-birthday-cake"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Birthday"),s.a.createElement("div",{className:"content-text-secondary"},t.DateOfBirth))))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-flag"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Nationality"),s.a.createElement("div",{className:"content-text-secondary"},t.Nationality)))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-envelope"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Email"),s.a.createElement("div",{className:"content-text-secondary"},t.Email)))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-phone"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Phone Number"),s.a.createElement("div",{className:"content-text-secondary"},t.PhoneNumber)))))),this.props.TabView?null:s.a.createElement("button",{type:"button",className:"btn btn-default",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#documents-dialog-".concat(r)},"Documents"))))),this.props.TabView?null:s.a.createElement(En,{DialogID:r,TraderID:this.props.TraderID}))}}]),t}(r.Component),bn=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return a.setState({Searching:!0}),e={Get:"TraderDocuments",Params:{TraderID:a.props.TraderID}},t.next=5,O.a.awrap(pn(e).then((function(e){"Trader documents found."===e.Message?a.setState({TraderDocuments:e.TraderDocuments,Searching:!1}):a.setState({TraderDocuments:null,Searching:!1})})));case 5:case"end":return t.stop()}}))},a.refresh=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Get:"TraderDocuments",Params:{TraderID:a.props.TraderID}},t.next=4,O.a.awrap(pn(e).then((function(e){"Trader documents found."===e.Message?a.setState({TraderDocuments:e.TraderDocuments}):a.setState({TraderDocuments:null})})));case 4:case"end":return t.stop()}}))},a.state={TraderDocuments:null,Searching:!1},a.refresh=a.refresh.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.Refresh(this.refresh),e.next=3,O.a.awrap(this.onComponentUpdated());case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state.TraderDocuments;return this.state.Searching||!e?s.a.createElement(nn,{Searching:this.state.Searching,SearchingFor:"documents"}):s.a.createElement("section",null,s.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},s.a.createElement(dn,{IdentityCard:e.IdentityCard}),s.a.createElement(un,{CommercialRegisterCertificate:e.CommercialRegisterCertificate})))}}]),t}(r.Component),vn=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.Index;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"profile-dialog-".concat(e),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal"},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("section",null,s.a.createElement("ul",{className:"nav nav-tabs tabs-light",role:"tablist"},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#trader-tab-".concat(e),"aria-controls":"trader-tab-".concat(e),role:"tab","data-toggle":"tab"},"Trader")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#documents-tab-".concat(e),"aria-controls":"documents-tab-".concat(e),role:"tab","data-toggle":"tab"},"Documents"))),s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"trader-tab-".concat(e)},s.a.createElement(hn,{Refresh:this.props.RefreshTrader,TraderID:this.props.TraderID,TabView:!0})),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"documents-tab-".concat(e)},s.a.createElement(bn,{Refresh:this.props.RefreshDocuments,TraderID:this.props.TraderID})))))))))}}]),t}(r.Component),fn=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.TraderRequest;return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Trader Request")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-box"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Cargo Type"),s.a.createElement("div",{className:"content-text-secondary"},e.CargoType))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-weight"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Cargo Weight"),s.a.createElement("div",{className:"content-text-secondary"},"".concat(e.CargoWeight," lbs.")))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-id-badge"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Entry/Exit"),s.a.createElement("div",{className:"content-text-secondary"},1===e.EntryExit?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}})))))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-calendar"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Loading Date"),s.a.createElement("div",{className:"content-text-secondary"},new Date(e.LoadingDate).toDateString()))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-clock"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Loading Time"),s.a.createElement("div",{className:"content-text-secondary"},e.LoadingTime))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-clock"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Accpeted Delay"),s.a.createElement("div",{className:"content-text-secondary"},"".concat(e.AcceptedDelay," Hour(s)")))))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-calendar"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Requested on"),s.a.createElement("div",{className:"content-text-secondary"},new Date(e.Created).toDateString()))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-clock"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Requested at"),s.a.createElement("div",{className:"content-text-secondary"},new Date(e.Created).toTimeString())))))))))}}]),t}(r.Component),gn=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.Index,t=this.props.TraderRequest;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"request-dialog-".concat(e),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal"},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement(fn,{TraderRequest:t}))))))}}]),t}(r.Component),Nn=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onToggleSelect=function(e,t){var n;return O.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return a.setState({ShowPreloader:!0}),n={Token:localStorage.Token,TraderRequestID:e,Selected:t},console.log("Going to select Trader request..."),r.next=5,O.a.awrap(pe(n).then((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if("Trader request is toggled."!==e.Message){t.next=4;break}return a.setState({ShowPreloader:!1}),t.next=4,O.a.awrap(a.props.OnTraderRequestUpdated());case 4:case"end":return t.stop()}}))})));case 5:case"end":return r.stop()}}))},a.state={ShowPreloader:!1},a.onToggleSelect=a.onToggleSelect.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.Index,a=this.props.TraderRequestPackage,n=a.TraderRequest,r=a.Trader,l=a.TraderOnJob,c=this.props.requestSelected,o=mn()(),i=mn()();return s.a.createElement("tr",null,this.state.ShowPreloader?s.a.createElement(ca,null):null,s.a.createElement("td",null,s.a.createElement("strong",null,t+1)),s.a.createElement("td",null,"".concat(r.FirstName," ").concat(r.LastName),0===t?s.a.createElement("span",{class:"badge back-color-golden m-l-xxxs"},"NEW"):null,l?s.a.createElement("span",{class:"badge back-color-golden m-l-xxxs"},"ON JOB"):null),s.a.createElement("td",null,new Date(n.Created).toDateString()),s.a.createElement("td",{class:"text-right"},s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-secondary m-xxxs","data-toggle":"modal","data-target":"#profile-dialog-".concat(o),onMouseDown:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshTraderContainer());case 2:return t.next=4,O.a.awrap(e.RefreshDocumentsContainer());case 4:case"end":return t.stop()}}))}},"Profile"),s.a.createElement("button",{className:"btn btn-secondary m-xxxs","data-toggle":"modal","data-target":"#request-dialog-".concat(i)},"Trader Request"),n.Selected?s.a.createElement("button",{className:"btn btn-danger m-xxxs",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.onToggleSelect(n.TraderRequestID,!1));case 2:case"end":return t.stop()}}))}},"Deselect"):s.a.createElement("button",{className:"btn btn-primary m-xxxs",disabled:c,onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.onToggleSelect(n.TraderRequestID,!0));case 2:case"end":return t.stop()}}))}},"Select"),s.a.createElement(vn,{Index:o,TraderID:n.TraderID,RefreshTrader:function(t){e.RefreshTraderContainer=t},RefreshDocuments:function(t){e.RefreshDocumentsContainer=t}}),s.a.createElement(gn,{Index:i,TraderRequest:n}))))}}]),t}(r.Component),yn=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return a.setState({Searching:!0}),e={Token:localStorage.Token,Get:"TraderRequestPackages",Params:{JobRequestID:a.props.JobRequestID}},t.next=5,O.a.awrap(D(e).then((function(e){"Trader request packages found."===e.Message?(a.props.OnRequestsFound(e.TraderRequestPackages.length),a.setState({TraderRequestPackages:e.TraderRequestPackages,RequestSelected:e.RequestSelected,Searching:!1})):(a.props.OnRequestsFound(0),a.setState({TraderRequestPackages:[],RequestSelected:!1,Searching:!1}))})));case 5:case"end":return t.stop()}}))},a.refresh=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Token:localStorage.Token,Get:"TraderRequestPackages",Params:{JobRequestID:a.props.JobRequestID}},t.next=4,O.a.awrap(D(e).then((function(e){"Trader request packages found."===e.Message?(a.props.OnRequestsFound(e.TraderRequestPackages.length),a.setState({TraderRequestPackages:e.TraderRequestPackages,RequestSelected:e.RequestSelected})):(a.props.OnRequestsFound(0),a.setState({TraderRequestPackages:[],RequestSelected:!1}))})));case 4:case"end":return t.stop()}}))},a.state={TraderRequestPackages:[],RequestSelected:!1,Searching:!1},a.refresh=a.refresh.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.Refresh(this.refresh),e.next=3,O.a.awrap(this.onComponentUpdated());case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this;if(this.state.Searching||0===this.state.TraderRequestPackages.length)return s.a.createElement(nn,{Searching:this.state.Searching,SearchingFor:"requests"});var t=this.state.TraderRequestPackages,a=this.state.RequestSelected;return s.a.createElement("section",null,s.a.createElement("div",{class:"table-responsive back-color-gray"},s.a.createElement("table",{class:"table table-striped"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"NUMBER"),s.a.createElement("th",null,"TRADER"),s.a.createElement("th",null,"REQUESTED ON"),s.a.createElement("th",null))),s.a.createElement("tbody",null,t.map((function(t,n){return s.a.createElement(Nn,{key:n,Index:n,TraderRequestPackage:t,RequestSelected:a,OnTraderRequestUpdated:e.onComponentUpdated})}))))))}}]),t}(r.Component),xn=a(113),Sn=a.n(xn),Cn=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){a.setState({Address:e})},a.onSelect=function(e){Object(xn.geocodeByAddress)(e).then((function(t){var n=t[0].geometry.location,r=n.lat(),s=n.lng(),l={Address:e,Lat:r||0,Lng:s||0};a.props.OnPlaceSelected(l)}))},a.state={Address:a.props.Address},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSelect=a.onSelect.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.Address;return s.a.createElement(Sn.a,{value:e,onChange:this.onChange,onSelect:this.onSelect},(function(t){var a=t.getInputProps,n=t.suggestions,r=t.getSuggestionItemProps,l=t.loading;return s.a.createElement("div",null,s.a.createElement("div",{className:"form-group m-n"},s.a.createElement("input",Object.assign({value:e},a({placeholder:"Search Places...",className:"form-control m-n"})))),s.a.createElement("div",{className:"autocomplete-dropdown-container",style:{maxWidth:"296px",minWidth:"88px"}},l&&s.a.createElement("div",{className:"suggestion-item p-xxxs"},"Loading..."),n.map((function(e){var t=e.active?"suggestion-item--active p-xxxs":"suggestion-item p-xxxs",a=e.active?{backgroundColor:"#EBEBEB",cursor:"pointer"}:{backgroundColor:"#FEFEFE",cursor:"pointer"};return s.a.createElement("div",r(e,{className:t,style:a}),s.a.createElement("span",null,e.description))}))))}))}}]),t}(r.Component),On=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t,n,r;return O.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.preventDefault(),a.state.ValidForm){s.next=3;break}return s.abrupt("return");case 3:if(a.state.LoadingPlace){s.next=8;break}return(t=a.state.Errors).LoadingPlace="Loading place is required.",a.setState({Errors:t}),s.abrupt("return");case 8:if(a.state.UnloadingPlace){s.next=13;break}return(n=a.state.Errors).UnloadingPlace="Unloading place is required.",a.setState({Errors:n}),s.abrupt("return");case 13:return a.setState({ShowPreloader:!0}),r={Token:localStorage.Token,JobRequestID:a.props.JobRequest.JobRequestID,LoadingPlace:a.state.LoadingPlace.Address,LoadingLat:a.state.LoadingPlace.Lat,LoadingLng:a.state.LoadingPlace.Lng,UnloadingPlace:a.state.UnloadingPlace.Address,UnloadingLat:a.state.UnloadingPlace.Lat,UnloadingLng:a.state.UnloadingPlace.Lng,TripType:a.state.TripType,Price:a.state.Price},s.next=17,O.a.awrap(le(r).then((function(e){a.setState({ShowPreloader:!1}),"Job request is updated."===e.Message&&(a.cancelButton.click(),a.props.OnOK())})));case 17:case"end":return s.stop()}}))};var n=a.props.JobRequest;return a.state={LoadingPlace:{Address:n.LoadingPlace,Lat:n.LoadingLat,Lng:n.LoadingLng},UnloadingPlace:{Address:n.UnloadingPlace,Lat:n.UnloadingLat,Lng:n.UnloadingLng},TripType:n.TripType,Price:n.Price,ValidLoadingPlace:!0,ValidUnloadingPlace:!0,ValidPrice:!0,ValidForm:!1,ShowPreloader:!1,Errors:{LoadingPlace:"",UnloadingPlace:"",Price:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state,r=n.Errors,s=n.ValidPrice;switch(e){case"Price":s=t>0,r.Price=s?"":"Price must be more than $0.00."}this.setState({Errors:r,ValidPrice:s},(function(){a.setState({ValidForm:s})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.LoadingPlace,n=t.UnloadingPlace,r=t.TripType,l=t.Price,c=t.Errors,o=t.ShowPreloader,i=t.ValidForm,m=this.props.DialogID;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"edit-job-request-dialog-".concat(m),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},o?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"type-h3 color-default p-t-xxs"},"Add Job Request"),s.a.createElement("div",{className:"row p-t-xxs"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Loading Place"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement(Cn,{Address:a.Address,OnPlaceSelected:function(t){e.setState({LoadingPlace:t})}}),s.a.createElement("span",{className:"text-danger"},c.LoadingPlace)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Unloading Place"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement(Cn,{Address:n.Address,OnPlaceSelected:function(t){e.setState({UnloadingPlace:t})}}),s.a.createElement("span",{className:"text-danger"},c.UnloadingPlace))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Trip Type"),s.a.createElement("br",null),s.a.createElement("div",{className:"dropdown",style:{width:"100%",maxWidth:"296px"}},s.a.createElement("button",{id:"example-dropdown",className:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},s.a.createElement("span",null,r),s.a.createElement("span",{className:"caret"})),s.a.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){e.setState({TripType:"One Way"})}},"One Way")),s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){e.setState({TripType:"Two Way"})}},"Two Way"))))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Price (USD)"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",min:"0.00",step:"0.01",max:"100.00",name:"Price",className:"form-control",autoComplete:"off",value:l,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},c.Price)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!i}))))))))))}}]),t}(r.Component),wn=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.Index,t=this.props.JobRequest,a=Math.abs(new Date-new Date(t.TimeCreated))/36e5;return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},e?"".concat(e+1,"."):"Job Request"),s.a.createElement("div",{className:"type-sh3"},s.a.createElement("span",{className:"fas fa-tag",style:{color:"#606060"}}),"   ","$".concat(t.Price))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-map-marker-alt"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Loading Place"),s.a.createElement("div",{class:"content-text-secondary"},t.LoadingPlace)))),s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-map-marker-alt"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Unloading Place"),s.a.createElement("div",{class:"content-text-secondary"},t.UnloadingPlace)))),s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-map-signs"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Trip Type"),s.a.createElement("div",{class:"content-text-secondary"},t.TripType))))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-plug"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Available"),s.a.createElement("div",{class:"content-text-secondary"},a<t.WaitingTime?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}))))),s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-calendar"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Posted on"),s.a.createElement("div",{class:"content-text-secondary"},new Date(t.TimeCreated).toDateString())))),s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-clock"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Posted at"),s.a.createElement("div",{class:"content-text-secondary"},new Date(t.TimeCreated).toTimeString())))))))))}}]),t}(r.Component),kn=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDelete=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({Preloader:s.a.createElement(ca,null)}),t={Token:localStorage.Token,JobRequestID:e},console.log("Going to delete Job request..."),n.next=5,O.a.awrap(ce(t).then((function(e){"Job request is deleted."===e.Message&&a.props.OnJobRequestUpdated()})));case 5:case"end":return n.stop()}}))},a.state={NumberOfRequests:0,Preloader:null},a.onDelete=a.onDelete.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.JobRequestPackage,a=this.props.Index;return s.a.createElement("section",null,s.a.createElement(wn,{Index:a,JobRequest:t}),s.a.createElement("div",{style:{backgroundColor:"#E5E5E5",textAlign:"right",padding:"10px"}},s.a.createElement("button",{type:"button",className:"btn btn-default","data-toggle":"modal",disabled:0!==this.state.NumberOfRequests,"data-target":"#edit-job-request-dialog-".concat(a)},"Edit"),s.a.createElement("button",{className:"btn btn-danger",onClick:function(){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(e.onDelete(t.JobRequestID));case 2:case"end":return a.stop()}}))}},"Delete")),s.a.createElement(On,{DialogID:a,JobRequest:t,CanEdit:function(){return 0===e.state.NumberOfRequests},OnOK:function(){e.props.OnJobRequestUpdated()}}),s.a.createElement("div",{className:"back-color-gray","data-toggle":"collapse","aria-expanded":"false","data-target":"#job-request-package-".concat(a),onMouseDown:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshTraderRequestsTable());case 2:case"end":return t.stop()}}))}},s.a.createElement("div",{className:"type-h4 text-right color-default p-xxxs"},s.a.createElement("span",{class:"badge back-color-danger m-r-xxs"},this.state.NumberOfRequests),"Trader Requests",s.a.createElement("i",{className:"fas fa-ellipsis-v"}),s.a.createElement("i",{class:"glyph glyph-add"}),s.a.createElement("i",{class:"glyph glyph-remove"}))),s.a.createElement("div",{className:"collapse",id:"job-request-package-".concat(a)},s.a.createElement(yn,{Refresh:function(t){e.RefreshTraderRequestsTable=t},OnRequestsFound:function(t){e.setState({NumberOfRequests:t})},JobRequestID:t.JobRequestID}),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}})),this.state.Preloader)}}]),t}(r.Component),Pn=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t,n,r;return O.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.preventDefault(),a.state.ValidForm){s.next=3;break}return s.abrupt("return");case 3:if(a.state.LoadingPlace){s.next=8;break}return(t=a.state.Errors).LoadingPlace="Loading place is required.",a.setState({Errors:t}),s.abrupt("return");case 8:if(a.state.UnloadingPlace){s.next=13;break}return(n=a.state.Errors).UnloadingPlace="Unloading place is required.",a.setState({Errors:n}),s.abrupt("return");case 13:return a.setState({ShowPreloader:!0}),r={Token:localStorage.Token,LoadingPlace:a.state.LoadingPlace.Address,LoadingLat:a.state.LoadingPlace.Lat,LoadingLng:a.state.LoadingPlace.Lng,UnloadingPlace:a.state.UnloadingPlace.Address,UnloadingLat:a.state.UnloadingPlace.Lat,UnloadingLng:a.state.UnloadingPlace.Lng,TripType:a.state.TripType,Price:a.state.Price},s.next=17,O.a.awrap(se(r).then((function(e){a.setState({ShowPreloader:!1}),"Job request is added."===e.Message&&(a.cancelButton.click(),a.props.OnOK())})));case 17:case"end":return s.stop()}}))},a.state={LoadingPlace:null,UnloadingPlace:null,TripType:"One Way",Price:0,ValidLoadingPlace:!1,ValidUnloadingPlace:!1,ValidPrice:!1,ValidForm:!1,ShowPreloader:!1,Errors:{LoadingPlace:"",UnloadingPlace:"",Price:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state,r=n.Errors,s=n.ValidPrice;switch(e){case"Price":s=t>0,r.Price=s?"":"Price must be more than $0.00."}this.setState({Errors:r,ValidPrice:s},(function(){a.setState({ValidForm:s})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.TripType,n=t.Price,r=t.Errors,l=t.ShowPreloader,c=t.ValidForm;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"add-job-request-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},l?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"type-h3 color-default p-t-xxs"},"Add Job Request"),s.a.createElement("div",{className:"row p-t-xxs"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Loading Place"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement(Cn,{Address:"",OnPlaceSelected:function(t){e.setState({LoadingPlace:t})}}),s.a.createElement("span",{className:"text-danger"},r.LoadingPlace)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Unloading Place"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement(Cn,{Address:"",OnPlaceSelected:function(t){e.setState({UnloadingPlace:t})}}),s.a.createElement("span",{className:"text-danger"},r.UnloadingPlace))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Trip Type"),s.a.createElement("br",null),s.a.createElement("div",{className:"dropdown",style:{width:"100%",maxWidth:"296px"}},s.a.createElement("button",{id:"example-dropdown",className:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},s.a.createElement("span",null,a),s.a.createElement("span",{className:"caret"})),s.a.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){e.setState({TripType:"One Way"})}},"One Way")),s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){e.setState({TripType:"Two Way"})}},"Two Way"))))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Price (USD)"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",min:"0.00",step:"0.01",max:"100.00",name:"Price",className:"form-control",autoComplete:"off",value:n,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},r.Price)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!c}))))))))))}}]),t}(r.Component),jn=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"JobRequestPackages"},a.setState({Searching:!0}),t.next=5,O.a.awrap(D(e).then((function(e){"Job request packages found."===e.Message?a.setState({AllJobRequestPackages:e.JobRequests,JobRequestPackages:e.JobRequests,Searching:!1}):a.setState({AllJobRequestPackages:[],JobRequestPackages:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.refresh=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"JobRequestPackages"},a.setState({Refreshing:!0}),t.next=5,O.a.awrap(D(e).then((function(e){"Job request packages found."===e.Message?a.setState({AllJobRequestPackages:e.JobRequests,JobRequestPackages:e.JobRequests,Refreshing:!1}):a.setState({AllJobRequestPackages:[],JobRequestPackages:[],Refreshing:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){if(e.preventDefault(),""!==a.state.SearchString){var t=a.state.AllJobRequestPackages,n=[],r=0,s=!0,l=!1,c=void 0;try{for(var o,i=t[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var m=o.value,d=m.JobRequest;(d.LoadingPlace.includes(a.state.SearchString)||d.UnloadingPlace.includes(a.state.SearchString))&&(n[r++]=m)}}catch(u){l=!0,c=u}finally{try{s||null==i.return||i.return()}finally{if(l)throw c}}a.setState({JobRequestPackages:n})}else a.setState({JobRequestPackages:a.state.AllJobRequestPackages})},a.state={AllJobRequestPackages:[],JobRequestPackages:[],SearchString:"",Searching:!1,Refreshing:!1},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a.refresh=a.refresh.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.Refresh(this.refresh),e.next=3,O.a.awrap(this.onComponentUpdated());case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state.JobRequestPackages;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container",style:{paddingBottom:"10px",marginBottom:"12px"}},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-briefcase m-r-xxs"}),"Job Requests"),s.a.createElement("p",{className:"color-light"},"Create new job requests for your current and/or near-by locations to get a chance to increase your revenue."),s.a.createElement("div",{className:"btn-group"},s.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#add-job-request-dialog"},"New Job Request")))))),s.a.createElement(Pn,{OnOK:function(){e.onComponentUpdated()}}),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Your Job Requests",this.state.Refreshing?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search by Places",style:{maxWidth:"500px",width:"100%"},value:this.state.SearchString,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===t.length?s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},this.state.Searching?s.a.createElement("div",{className:"col-md-24 text-center"},s.a.createElement("div",null,s.a.createElement("div",{className:"type-h3",style:{color:"#008575"}},"Searching"),s.a.createElement(en,null))):s.a.createElement("div",{className:"col-md-24 text-center"},s.a.createElement("h3",null,s.a.createElement("span",{className:"fas fa-exclamation-triangle",style:{color:"#FFBF15"}})," No job requests found."))))):s.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},this.state.JobRequestPackages.map((function(t,a){return s.a.createElement("li",{key:a,className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement(kn,{Index:a,JobRequestPackage:t,OnJobRequestUpdated:e.refresh}))}))))}}]),t}(r.Component),Tn=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(jn,{Refresh:this.props.Refresh}))}}]),t}(r.Component),Rn=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.Index,t=this.props.JobOffer,a=Math.abs(new Date-new Date(t.TimeCreated))/36e5,n=new Date(t.LoadingDate);return n.setHours(parseInt(t.LoadingTime.substring(0,2))),n.setMinutes(parseInt(t.LoadingTime.substring(3,5))),n.setSeconds(parseInt(t.LoadingTime.substring(6))),s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},e?"".concat(e+1,". ").concat(t.JobOfferType," Job Offer"):"".concat(t.JobOfferType," Job Offer")),s.a.createElement("div",{className:"type-sh3"},s.a.createElement("span",{className:"fas fa-tag",style:{color:"#606060"}}),"   ","$".concat(t.Price))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-map-marker-alt"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Loading Place"),s.a.createElement("div",{className:"content-text-secondary"},t.LoadingPlace)))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-map-marker-alt"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Unloading Place"),s.a.createElement("div",{className:"content-text-secondary"},t.UnloadingPlace)))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-map-signs"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Trip Type"),s.a.createElement("div",{className:"content-text-secondary"},t.TripType)))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-clock"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Accpeted Delay"),s.a.createElement("div",{className:"content-text-secondary"},"".concat(t.AcceptedDelay," Hour(s)")))))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-box"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Cargo Type"),s.a.createElement("div",{className:"content-text-secondary"},t.CargoType)))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-weight"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Cargo Weight"),s.a.createElement("div",{className:"content-text-secondary"},"".concat(t.CargoWeight," lbs."))))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-calendar"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Loading Date"),s.a.createElement("div",{className:"content-text-secondary"},n.toDateString())))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-clock"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Loading Time"),s.a.createElement("div",{className:"content-text-secondary"},n.toTimeString()))))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-id-badge"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Entry/Exit"),s.a.createElement("div",{className:"content-text-secondary"},1===t.EntryExit?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}))))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-plug"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Availabe"),s.a.createElement("div",{className:"content-text-secondary"},a<t.WaitingTime?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}))))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-calendar"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Posted on"),s.a.createElement("div",{className:"content-text-secondary"},new Date(t.TimeCreated).toDateString())))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-clock"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Posted at"),s.a.createElement("div",{className:"content-text-secondary"},new Date(t.TimeCreated).toTimeString())))))))))}}]),t}(r.Component),Dn=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:if(!a.props.IsRequestSent()){n.next=5;break}return n.abrupt("return");case 5:return t={Token:localStorage.Token,JobOfferID:a.props.JobOffer.JobOfferID,Price:a.state.Price},console.log("Going to add driver request..."),a.setState({Preloader:s.a.createElement(ca,null)}),n.next=10,O.a.awrap(oe(t).then((function(e){"Driver request is added."===e.Message?(a.setState({Preloader:null}),a.cancelButton.click(),a.props.OnOK(e.DriverRequest)):a.setState({Preloader:null})})));case 10:case"end":return n.stop()}}))},a.state={Price:0,ValidPrice:!1,ValidForm:!1,Preloader:null,Errors:{Price:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidPrice;switch(e){case"Price":if(r=""!==t,n.Price=r?"":"Bidding price is required.",""!==n.Price)break;r=t<=this.props.JobOffer.Price,n.Price=r?"":"You cannot bid more than maximum accepted price."}this.setState({Errors:n,ValidPrice:r},(function(){a.setState({ValidForm:a.state.ValidPrice})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"bid-job-offer-dialog-".concat(this.props.DialogID),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"type-h3 color-default p-t-xxs"},"Bid on Price"),s.a.createElement("div",{className:"type-sh3"},"Maximum Accepted Price is $".concat(this.props.JobOffer.Price,".")),s.a.createElement("div",{className:"row p-t-xxs"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Price (USD)"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",min:"0.00",step:"0.01",name:"Price",className:"form-control",autoComplete:"off",value:this.state.Price,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.Price)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Bid",className:"btn btn-primary",disabled:!this.stateValidForm}))))))))))}}]),t}(r.Component),An=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onCancelRequest=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t={Token:localStorage.Token,JobOfferID:e.JobOfferID},console.log("Going to delete driver request..."),a.setState({Preloader:s.a.createElement(ca,null)}),n.next=5,O.a.awrap(ie(t).then((function(t){"Driver request is deleted."===t.Message&&a.props.OnRequestUpdated(e,null),a.setState({Preloader:null})})));case 5:case"end":return n.stop()}}))},a.onSendRequest=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a.props.JobOfferPost.RequestSent){n.next=2;break}return n.abrupt("return");case 2:return t={Token:localStorage.Token,JobOfferID:e.JobOfferID,Price:null},console.log("Going to add driver request..."),a.setState({Preloader:s.a.createElement(ca,null)}),n.next=7,O.a.awrap(oe(t).then((function(t){"Driver request is added."===t.Message?(a.setState({Preloader:null}),a.props.OnRequestUpdated(e,t.DriverRequest)):a.setState({Preloader:null})})));case 7:case"end":return n.stop()}}))},a.state={Preloader:null},a.onSendRequest=a.onSendRequest.bind(Object(h.a)(a)),a.onCancelRequest=a.onCancelRequest.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.Index,n=this.props.JobOfferPost.JobOffer,r=this.props.JobOfferPost.Trader,l=this.props.JobOfferPost.DriverRequest;return e=l?s.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(t.onCancelRequest(n));case 2:case"end":return e.stop()}}))}},"Fixed-Price"===n.JobOfferType?"Cancel Request":"Cancel Bid"):"Fixed-Price"===n.JobOfferType?s.a.createElement("button",{className:"btn btn-primary",onClick:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(t.onSendRequest(n));case 2:case"end":return e.stop()}}))}},"Send Request"):s.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal",disabled:l,"data-target":"#bid-job-offer-dialog-".concat(a)},"Bid"),s.a.createElement("section",null,s.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement("div",{className:"jumbotron p-xxxs back-color-gray"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"type-h5 color-default p-t-n"},"".concat(a+1,"."),l?s.a.createElement("span",{class:"badge back-color-default m-l-xxs"},"Fixed-Price"===n.JobOfferType?"REQUEST SENT":"ALREADY BADE"):null),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-user"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Posted By"),s.a.createElement("div",{className:"content-text-secondary"},"".concat(r.FirstName," ").concat(r.LastName))))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-clock"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Posted On"),s.a.createElement("div",{className:"content-text-secondary"},new Date(n.TimeCreated).toDateString())))),l&&l.Price?s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-tag"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Your Bid Price"),s.a.createElement("div",{className:"content-text-secondary"},"$".concat(l.Price))))):null),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-tag"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Price"),s.a.createElement("div",{className:"content-text-secondary"},"$".concat(n.Price)))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas  fa-map-marker-alt"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"From "),s.a.createElement("div",{className:"content-text-secondary"},n.LoadingPlace),s.a.createElement("div",{className:"content-text-primary"},"To"),s.a.createElement("div",{className:"content-text-secondary"},n.UnloadingPlace))))),s.a.createElement("div",{className:"text-right"},e)))),s.a.createElement("div",{className:"back-color-gray","data-toggle":"collapse","aria-expanded":"false","data-target":"#job-offer-post-".concat(a)},s.a.createElement("div",{className:"type-h4 text-right color-default p-xxxs"},"   More Details"," ",s.a.createElement("i",{className:"fas fa-ellipsis-v"}),s.a.createElement("i",{class:"glyph glyph-add"}),s.a.createElement("i",{class:"glyph glyph-remove"}))),s.a.createElement("div",{className:"collapse",id:"job-offer-post-".concat(a)},s.a.createElement("ul",{className:"nav nav-tabs",role:"tablist",style:{padding:"10px",backgroundColor:"#EFEFEF",width:"100%",margin:"0px"}},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#job-offer-".concat(a),"aria-controls":"job-offer-".concat(a),role:"tab","data-toggle":"tab"},"Job Offer")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#trader-".concat(a),"aria-controls":"trader-".concat(a),role:"tab","data-toggle":"tab"},"Trader"))),s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"job-offer-".concat(a)},s.a.createElement(Rn,{JobOffer:n})),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"trader-".concat(a)},s.a.createElement(hn,{TraderID:n.TraderID})))),s.a.createElement(Dn,{DialogID:a,JobOffer:n,IsRequestSent:function(){return!!l},OnOK:function(e){t.props.OnRequestUpdated(n,e)}})),this.state.Preloader)}}]),t}(r.Component),Fn=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){if(localStorage.Token){var e={Token:localStorage.Token,Get:"JobOfferPosts"};a.setState({Searching:!0}),D(e).then((function(e){"Job offer posts found."===e.Message?a.setState({JobOfferPosts:e.JobOfferPosts,Searching:!1}):a.setState({JobOfferPosts:[],Searching:!1})}))}},a.refresh=function(){if(localStorage.Token){var e={Token:localStorage.Token,Get:"JobOfferPosts"};a.setState({Refreshing:!0}),D(e).then((function(e){"Job offer posts found."===e.Message?a.setState({JobOfferPosts:e.JobOfferPosts,Refreshing:!1}):a.setState({JobOfferPosts:[],Refreshing:!1})}))}},a.state={JobOfferPosts:[],Preloader:null,Searching:!1,Refreshing:!1},a.refresh=a.refresh.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.Refresh(this.refresh),this.onComponentUpdated()}},{key:"render",value:function(){var e=this;return this.state.Searching?s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#333333",width:"100%",height:"100vh"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 col-md-push-12 text-center"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"job_offers.png",src:"./images/job_offers.png","data-source-index":"2"})),s.a.createElement("div",{className:"col-md-12 col-md-pull-12"},s.a.createElement("div",{className:"type-h3"},"Job Offers"),s.a.createElement("p",null,"Job opportunities from Traders and Brokers are displayed here."),s.a.createElement("div",{class:"type-sh3",style:{color:"#008575"}},"Searhcing"),s.a.createElement(en,null)))))):0===this.state.JobOfferPosts.length?s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#333333",width:"100%",height:"100vh"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 col-md-push-12 text-center"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"job_offers.png",src:"./images/job_offers.png","data-source-index":"2"})),s.a.createElement("div",{className:"col-md-12 col-md-pull-12"},s.a.createElement("div",{className:"type-h3"},"Job Offers"),s.a.createElement("div",{className:"type-sh3"},"No Job Offers Found..."),s.a.createElement("p",null,"Job opportunities from Traders and Brokers are displayed here.")))))):s.a.createElement("section",null,s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Job Offers",this.state.Refreshing?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("ol",{className:"list-items",style:{marginTop:"0px"}},this.state.JobOfferPosts.map((function(t,a){return s.a.createElement(An,{key:a,Index:a,JobOfferPost:t,OnRequestUpdated:function(t,a){var n=e.state.JobOfferPosts,r=!0,s=!1,l=void 0;try{for(var c,o=n[Symbol.iterator]();!(r=(c=o.next()).done);r=!0){var i=c.value;if(i.JobOffer.JobOfferID===t.JobOfferID){i.DriverRequest=a;break}}}catch(m){s=!0,l=m}finally{try{r||null==o.return||o.return()}finally{if(s)throw l}}e.setState({JobOfferPosts:n})}})}))))}}]),t}(r.Component),Ln=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Fn,{Refresh:this.props.Refresh}))}}]),t}(r.Component),In=a(38),Un=a(13),Vn=Object(Un.withScriptjs)(Object(Un.withGoogleMap)((function(e){var t=Object(r.useState)(null),a=Object(In.a)(t,2),n=a[0],l=a[1],c=e.Place,o=e.JobOfferPosts,i=c?c.Lat:33.78431,m=c?c.Lng:72.73878;return s.a.createElement(Un.GoogleMap,{defaultZoom:10,defaultCenter:{lat:33.78431,lng:72.73878},center:{lat:i,lng:m}},o.map((function(e){return s.a.createElement(Un.Marker,{key:e.JobOffer.JobOfferID,position:{lat:e.JobOffer.LoadingLat,lng:e.JobOffer.LoadingLng},icon:{url:"./images/marker.svg",scaledSize:new window.google.maps.Size(40,40)},onClick:function(){l(e.JobOffer)}})})),n&&s.a.createElement(Un.InfoWindow,{position:{lat:n.LoadingLat,lng:n.LoadingLng},onCloseClick:function(){l(null)}},s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default",style:{backgroundColor:"#FFFFFF"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h6 color-default p-t-n"},"".concat(n.JobOfferType," Job Offer")),s.a.createElement("div",{className:"type-sh6"},s.a.createElement("span",{className:"fas fa-tag color-default m-r-xxxs"}),s.a.createElement("span",{className:"color-default"},"PRICE: "),"$".concat(n.Price)),s.a.createElement("div",{className:"type-sh6"},s.a.createElement("span",{className:"fas fa-map-marker-alt color-default m-r-xxxs"}),s.a.createElement("span",{className:"color-default"},"FROM: "),n.LoadingPlace),s.a.createElement("div",{className:"type-sh6"},s.a.createElement("span",{className:"fas fa-map-marker-alt color-default m-r-xxxs"}),s.a.createElement("span",{className:"color-default"},"TO: "),n.UnloadingPlace)))))))}))),Jn=function(e){return s.a.createElement("div",{style:{width:"100%",height:"100vh"}},s.a.createElement(Vn,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=".concat("AIzaSyD_U_2NzdPIL7TWb8ECBHWO1eROR2yrebI"),loadingElement:s.a.createElement("div",{style:{height:"100%"}}),containerElement:s.a.createElement("div",{style:{height:"100%"}}),mapElement:s.a.createElement("div",{style:{height:"100%"}}),Place:e.Place,JobOfferPosts:e.JobOfferPosts}))},Mn=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){if(localStorage.Token){var e={Token:localStorage.Token,Get:"JobOfferPosts"};a.setState({Searching:!0}),D(e).then((function(e){"Job offer posts found."===e.Message?a.setState({JobOfferPosts:e.JobOfferPosts,Searching:!1}):a.setState({JobOfferPosts:[],Searching:!1})}))}},a.refresh=function(){if(localStorage.Token){var e={Token:localStorage.Token,Get:"JobOfferPosts"};a.setState({Refreshing:!0}),D(e).then((function(e){"Job offer posts found."===e.Message?a.setState({JobOfferPosts:e.JobOfferPosts,Refreshing:!1}):a.setState({JobOfferPosts:[],Refreshing:!1})}))}},a.state={JobOfferPosts:[],Place:null,Searching:!1,Refreshing:!1},a.refresh=a.refresh.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.Refresh(this.refresh),this.onComponentUpdated()}},{key:"render",value:function(){var e=this,t=this.state,a=t.JobOfferPosts,n=t.Place,r=t.Searching;return s.a.createElement("section",null,0===a.length?s.a.createElement(nn,{Searching:r,SearchingFor:"job offers"}):s.a.createElement("section",null,s.a.createElement("div",{className:"text-right p-xxs",style:{backgroundColor:"#DDDDDD"}},s.a.createElement(Cn,{Address:"",OnPlaceSelected:function(t){e.setState({Place:t})}})),s.a.createElement(Jn,{Place:n,JobOfferPosts:a})))}}]),t}(r.Component),Bn=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Mn,{Refresh:this.props.Refresh}))}}]),t}(r.Component),qn=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("ul",{className:"nav nav-tabs tabs-light",role:"tablist"},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#job-offers-list","aria-controls":"job-offers-list",role:"tab","data-toggle":"tab"},"List")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#job-offers-map","aria-controls":"job-offers-map",role:"tab","data-toggle":"tab"},"Map"))),s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"job-offers-list"},s.a.createElement(Ln,{Refresh:this.props.Refresh})),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"job-offers-map"},s.a.createElement(Bn,{Refresh:function(t){e.RefreshMap=t}}))))}}]),t}(r.Component),Qn=a(115),Wn=a.n(Qn);Wn.a.apps.length||(n=Wn.a.initializeApp({apiKey:"AIzaSyCeVZ0rXxY1ZVX_6O3N9UkxBByQXnNKWMo",authDomain:"naqel-transport-jobs.firebaseapp.com",databaseURL:"https://naqel-transport-jobs.firebaseio.com",projectId:"naqel-transport-jobs",storageBucket:"naqel-transport-jobs.appspot.com",messagingSenderId:"331974863267",appId:"1:331974863267:web:9a8f80195b8bc8e9b5d216",measurementId:"G-Q3X399QB20"}));var Gn=n,_n=function(e){var t=Object(r.useState)(null),a=Object(In.a)(t,2),n=a[0],l=a[1],c=e.OnGoingJob,o=new window.google.maps.DirectionsService,i={lat:c.LoadingLat,lng:c.LoadingLng},m={lat:c.UnloadingLat,lng:c.UnloadingLng};return o.route({origin:i,destination:m,travelMode:window.google.maps.TravelMode.DRIVING},(function(e,t){t===window.google.maps.DirectionsStatus.OK?l(e):console.error("error fetching directions ".concat(e))})),s.a.createElement(Un.DirectionsRenderer,{directions:n,options:{suppressMarkers:!0}})},zn=Object(Un.withScriptjs)(Object(Un.withGoogleMap)((function(e){var t=e.OnGoingJob,a=e.DriverLocation;return s.a.createElement(Un.GoogleMap,{defaultZoom:10},s.a.createElement(Un.Marker,{key:1,position:{lat:t.LoadingLat,lng:t.LoadingLng},icon:{url:"./images/source.svg",scaledSize:new window.google.maps.Size(30,30)}}),s.a.createElement(Un.Marker,{key:1,position:{lat:t.UnloadingLat,lng:t.UnloadingLng},icon:{url:"./images/destination.svg",scaledSize:new window.google.maps.Size(30,30)}}),a?s.a.createElement(Un.Marker,{key:1,position:{lat:a.Lat,lng:a.Lng},icon:{url:"./images/driver_marker.svg",scaledSize:new window.google.maps.Size(40,40)}}):null,s.a.createElement(_n,{OnGoingJob:e.OnGoingJob}))}))),Hn=function(e){return s.a.createElement("div",{style:{width:"100%",height:"400px"}},s.a.createElement(zn,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=".concat("AIzaSyD_U_2NzdPIL7TWb8ECBHWO1eROR2yrebI"),loadingElement:s.a.createElement("div",{style:{height:"100%"}}),containerElement:s.a.createElement("div",{style:{height:"100%"}}),mapElement:s.a.createElement("div",{style:{height:"100%"}}),OnGoingJob:e.OnGoingJob,DriverLocation:e.DriverLocation}))},Kn=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"ObjectionReasons"},a.setState({ProgressRing:s.a.createElement(rn,null)}),t.next=5,O.a.awrap(D(e).then((function(e){"Objection reasons found."===e.Message?a.setState({ObjectionReasons:e.ObjectionReasons,ProgressRing:!1}):a.setState({ObjectionReasons:[],ProgressRing:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ProgressRing:s.a.createElement(rn,null)}),t={Token:localStorage.Token,Reason:a.state.NewReason},console.log("Going to add Objection reason..."),n.next=8,O.a.awrap(me(t).then((function(e){if("Objection reason is added."===e.Message){var t=a.state.ObjectionReasons,n=a.state.Errors;t.push(e.ObjectionReason),n.NewReason="0",a.setState({AddPressed:!1,ObjectionReasons:t,Errors:n,NewReason:""})}a.setState({ProgressRing:null})})));case 8:case"end":return n.stop()}}))},a.state={ObjectionReasons:[],AddPressed:!1,NewReason:"",ValidNewReason:!1,ValidForm:!1,ProgressRing:null,Errors:{NewReason:"0"}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidNewReason;switch(e){case"NewReason":r=t.length>0&&t.length<=50,n.NewReason=r?t.length:"Too long..."}this.setState({Errors:n,ValidNewReason:r},(function(){a.setState({ValidForm:a.state.ValidNewReason})}))}},{key:"render",value:function(){var e=this,t=this.state.ObjectionReasons;return s.a.createElement("section",null,this.state.ProgressRing,s.a.createElement("div",{class:"entity-list entity-list-expandable"},s.a.createElement("div",{class:"entity-list entity-list-add-item-button"},s.a.createElement("a",{class:this.state.AddPressed?"entity-list-item active":"entity-list-item"},s.a.createElement("div",{class:"item-icon",onClick:function(){e.state.AddPressed?e.setState({AddPressed:!1}):e.setState({AddPressed:!0})}},s.a.createElement("span",{class:"glyph glyph-add"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Add a Reason"),s.a.createElement("div",{class:"content-text-secondary",style:"Too long..."===this.state.Errors.NewReason?{color:"#D75A4A"}:null},this.state.Errors.NewReason)),s.a.createElement("div",{class:"item-content-expanded"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("input",{type:"text",className:"form-control",name:"NewReason",autocomplete:"off",value:this.state.NewReason,onChange:this.onChange}),s.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-secondary",disabled:!this.state.ValidForm}))))),t.map((function(t,a){return s.a.createElement("div",{key:a,class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-thumbs-down"})),s.a.createElement("div",{class:"item-content-secondary"},s.a.createElement("button",{type:"button",class:"btn btn-secondary",style:{margin:"0px",minWidth:"0px"},onClick:function(){e.props.OnReasonSelected(t.Reason)}},"Select")),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"".concat(a+1,".")),s.a.createElement("div",{class:"content-text-secondary"},t.Reason)))}))))}}]),t}(r.Component),Yn=Kn,$n=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({Preloader:s.a.createElement(ca,null)}),t={Token:localStorage.Token,OnGoingJobID:a.props.OnGoingJobID,Reason:a.state.Reason,Comment:a.state.Comment},console.log("Going to add job objection..."),n.next=8,O.a.awrap(de(t).then((function(e){"Job objection is added."===e.Message&&(a.cancelButton.click(),a.props.OnOK()),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={Reason:"Select from the list.",Comment:"",ValidReason:!1,ValidComment:!1,ValidForm:!1,Preloader:null,Errors:{Comment:"0"}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidComment;switch(e){case"Comment":if(r=""!==t,n.Comment=r?"":"Comment is required",""!==n.Comment)break;r=t.length<=200,n.Comment=r?t.length:"Too long..."}this.setState({Errors:n,ValidComment:r},(function(){a.setState({ValidForm:a.state.ValidReason&&a.state.ValidComment})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"add-objection-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",ref:function(t){return e.cancelButton=t},style:{minWidth:"0px"},"data-dismiss":"modal"},s.a.createElement("span",{className:"fas fa-times"}))),s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Add an Objection")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",null,"Reason"),s.a.createElement("input",{type:"text",class:"form-control",name:"Reason",style:{maxWidth:"100%"},readonly:!0,value:this.state.Reason})),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",null,"Comment"),s.a.createElement("textarea",{rows:"4",class:"form-control",style:{maxWidth:"100%"},name:"Comment",value:this.state.Comment,onChange:this.onChange}),s.a.createElement("span",null,this.state.Errors.Comment)),s.a.createElement("div",{style:{textAlign:"right"}},s.a.createElement("input",{type:"submit",value:"Add Objection",className:"btn btn-primary",style:{margin:"0px"},disabled:!this.state.ValidForm}))),s.a.createElement("br",null),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"type-h4",style:{color:"#008575",padding:"10px",textAlign:"right"}},"   Reasons",s.a.createElement("i",{className:"fas fa-ellipsis-v"})),s.a.createElement(Yn,{ObjectionReasons:this.props.ObjectionReasons,OnReasonSelected:function(t){e.setState({Reason:t,ValidReason:!0},(function(){e.setState({ValidForm:e.state.ValidReason&&e.state.ValidComment})}))}}))))))}}]),t}(r.Component),Xn=$n,Zn=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.Index,a=e.JobObjection,n=new Date(a.Created),r=a.ObjectionBy;return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"type-h5 color-default p-t-n"},"".concat(t+1,".")),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-user"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Driver"===r.Type?s.a.createElement("span",{className:"fas fa-car m-r-xxxs"}):s.a.createElement("span",{className:"fas fa-briefcase m-r-xxxs"}),"".concat(r.FirstName," ").concat(r.LastName)),s.a.createElement("div",{className:"content-text-secondary"},r.Username),s.a.createElement("div",{className:"content-text-secondary"},"Posted on ".concat(n.toDateString(),".")))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-thumbs-down"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Objection"),s.a.createElement("div",{className:"content-text-secondary"},"Reason: ".concat(a.Reason)),s.a.createElement("div",{className:"content-text-secondary"},"Comment: ".concat(a.Comment))))))))}}]),t}(r.Component),er=Zn,tr=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"JobObjections",Params:{OnGoingJobID:a.props.OnGoingJobID}},a.setState({Searching:!0}),t.next=5,O.a.awrap(D(e).then((function(e){"Job objections found."===e.Message?a.setState({JobObjections:e.JobObjections,Searching:!1}):a.setState({JobObjections:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.refresh=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Token:localStorage.Token,Get:"JobObjections",Params:{OnGoingJobID:a.props.OnGoingJobID}},t.next=4,O.a.awrap(D(e).then((function(e){"Job objection packages found."===e.Message?a.setState({JobObjections:e.JobObjections}):a.setState({JobObjections:[]})})));case 4:case"end":return t.stop()}}))},a.state={JobObjections:[],Searching:!1},a.refresh=a.refresh.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.Refresh(this.refresh),e.next=3,O.a.awrap(this.onComponentUpdated());case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state.JobObjections;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header back-color-gradient"},s.a.createElement("div",{class:"container",style:{paddingBottom:"10px",marginBottom:"12px"}},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-thumbs-down"}),"   Job Objections"),s.a.createElement("p",{className:"color-light"},"Objections on this job, either by you or your customer, will terminate the job."),s.a.createElement("div",{className:"btn-group"},s.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#add-objection-dialog"},"Add Objection")))))),s.a.createElement(Xn,{OnGoingJobID:this.props.OnGoingJobID,OnOK:this.onComponentUpdated}),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Job Objections"),0===e.length?s.a.createElement(nn,{Searching:this.state.Searching,SearchingFor:"job objctions"}):s.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},e.map((function(e,t){return s.a.createElement("li",{key:t,className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement(er,{Index:t,JobObjection:e}))}))))}}]),t}(r.Component),ar=tr,nr=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.Index,t=this.props.OnGoingJob,a=new Date(t.LoadingDate);return a.setHours(parseInt(t.LoadingTime.substring(0,2))),a.setMinutes(parseInt(t.LoadingTime.substring(3,5))),a.setSeconds(parseInt(t.LoadingTime.substring(6))),s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},null!==e&&e>=0?"".concat(e+1,". Job Details"):"Job Details")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-map-marker-alt"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Loading Place"),s.a.createElement("div",{className:"content-text-secondary"},t.LoadingPlace))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-map-marker-alt"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Unloading Place"),s.a.createElement("div",{className:"content-text-secondary"},t.UnloadingPlace))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-map-signs"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Trip Type"),s.a.createElement("div",{className:"content-text-secondary"},t.TripType))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-clock"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Accpeted Delay"),s.a.createElement("div",{className:"content-text-secondary"},"".concat(t.AcceptedDelay," Hour(s)")))))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-box"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Cargo Type"),s.a.createElement("div",{className:"content-text-secondary"},t.CargoType))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-weight"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Cargo Weight"),s.a.createElement("div",{className:"content-text-secondary"},"".concat(t.CargoWeight," lbs.")))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-calendar"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Loading Date"),s.a.createElement("div",{className:"content-text-secondary"},a.toDateString()))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-clock"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Loading Time"),s.a.createElement("div",{className:"content-text-secondary"},a.toTimeString()))))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-id-badge"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Entry/Exit"),s.a.createElement("div",{className:"content-text-secondary"},1===t.EntryExit?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}})))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-calendar"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Started on"),s.a.createElement("div",{className:"content-text-secondary"},new Date(t.Created).toDateString()))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-clock"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Started at"),s.a.createElement("div",{className:"content-text-secondary"},new Date(t.Created).toTimeString()))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-hashtag"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Job Number"),s.a.createElement("div",{className:"content-text-secondary"},t.JobNumber)))))))))}}]),t}(r.Component),rr=nr,sr=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this.props.OnGoingJob,a=this.props.HasObjections,n=new Date(t.LoadingDate);if(n.setHours(parseInt(t.LoadingTime.substring(0,2))),n.setMinutes(parseInt(t.LoadingTime.substring(3,5))),n.setSeconds(parseInt(t.LoadingTime.substring(6))),t.CompletedByDriver)e=s.a.createElement("section",null,s.a.createElement("h3",null,s.a.createElement("span",{className:"fas fa-smile p-r-xxxs"}),"This Job is Completed."),s.a.createElement("div",{class:"type-sh3"},"Waiting for Trader's Approval"));else if(a)e=s.a.createElement("h3",null,s.a.createElement("span",{className:"fas fa-exclamation p-r-xxxs"}),"This Job is Terminated.");else{var r=n-new Date,l=Math.floor(r/864e5),c=Math.floor(r%864e5/36e5),o=Math.round(r%864e5%36e5/6e4),i=l>0?"".concat(l," Days "):"",m=c>0?"".concat(c," Hours "):"",d=o>0?"".concat(o," Minutes "):"",u="".concat(i).concat(m).concat(d,"Left To Load Cargo");r<0&&(u="Loading Time has Passed"),e=s.a.createElement("section",null,s.a.createElement("h3",null,s.a.createElement("span",{className:"fas fa-clock"}),"   ",u),s.a.createElement("div",{class:"type-sh3"},s.a.createElement("span",{className:"fas fa-tag m-r-xxs"}),"$".concat(t.Price," AMOUNT IS ON YOUR WAY")),s.a.createElement("div",{class:"col-md-12 col-md-offset-6"},s.a.createElement("div",{class:"type-p3"},t.AcceptedDelay>0?s.a.createElement("span",null,s.a.createElement("span",{className:"fas fa-leaf"}),s.a.createElement("span",null," You have a relaxation of ".concat(t.AcceptedDelay," Hours."))):s.a.createElement("span",null,'"You must reach on time to load the cargo."'))))}return s.a.createElement("section",null,s.a.createElement("div",{class:"jumbotron theme-dark",style:{background:"linear-gradient(to right bottom, #008575, #005162)"}},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-24 text-center"},e)))),s.a.createElement(rr,{OnGoingJob:t}))}}]),t}(r.Component),lr=sr,cr=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onYes=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({Progress:!0}),e={Token:localStorage.Token},console.log("Going to finish the job..."),t.next=5,O.a.awrap(ue(e).then((function(e){"Job is finished."===e.Message?(a.setState({Progress:!1}),a.props.OnOK()):a.setState({Progress:!1})})));case 5:case"end":return t.stop()}}))},a.state={Progress:null},a.onYes=a.onYes.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.CompletedByDriver;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"finish-job-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",ref:function(t){return e.cancelButton=t},style:{minWidth:"0px"},"data-dismiss":"modal"},s.a.createElement("span",{className:"fas fa-times"}))),this.state.Progress?s.a.createElement(rn,null):null,s.a.createElement("div",{className:"type-h2",style:{color:"#008575",paddingTop:"0px"}},"Finish Job")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{class:"jumbotron"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},t?s.a.createElement("div",{class:"col-md-24"},s.a.createElement("img",{alt:"confetti.png",src:"./images/confetti.png",height:"100"}),s.a.createElement("div",{class:"type-h3"},"Congratulations! You Have Finished Your Job"),s.a.createElement("div",{class:"type-sh3"},"The Trader's Approval is Pending at the Moment"),s.a.createElement("p",null,s.a.createElement("span",{class:"color-default"},"Important Note:")," You can view this job in ",s.a.createElement("span",{class:"color-default"},"Completed Jobs")," tab, once the trader approves job completion.")):s.a.createElement("div",{class:"col-md-24"},s.a.createElement("p",null,"Are you sure you want to finish this job? Your trader will approve job completion afterwards!"),s.a.createElement("div",{class:"text-right"},s.a.createElement("button",{class:"btn btn-primary",onClick:this.onYes},"Yes")))))))))))}}]),t}(r.Component),or=cr,ir=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.HasObjections,a=this.props.CompletedByDriver,n=this.props.CompletedByTrader;return t?s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#333333"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"entity-list theme-alt"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-exclamation-circle"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Objectionable Job"),s.a.createElement("div",{className:"content-text-secondary"},"Since your job has got objections, Naqel team will review them, and consequently take any suitable actions!"))))))):s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#333333"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Job Completion Status")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"entity-list theme-alt"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-certificate"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Finished By You"),s.a.createElement("div",{className:"content-text-secondary"},a?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}})))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-certificate"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Approved By Trader"),s.a.createElement("div",{className:"content-text-secondary"},n?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}))))))),s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#finish-job-dialog"},"Finish Job")))),s.a.createElement(or,{CompletedByDriver:a,OnOK:function(){e.props.OnJobFinished()}}))}}]),t}(r.Component),mr=ir,dr=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"OnGoingJob"},a.setState({Loading:!0}),t.next=5,O.a.awrap(D(e).then((function(e){"On-going job found."===e.Message?(a.Database||(a.Database=Gn.database().ref().child("".concat(e.OnGoingJob.DriverID))),a.Database.on("value",(function(t){var n=null,r=t.val();if(r){var s=r.latlong.split(",");n={Lat:parseFloat(s[0]),Lng:parseFloat(s[1])}}a.setState({DriverLocation:n,OnGoingJob:e.OnGoingJob,HasObjections:e.HasObjections,Loading:!1})}))):a.setState({OnGoingJob:null,DriverLocation:null,HasObjections:!1,Loading:!1})})));case 5:case"end":return t.stop()}}))},a.refresh=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Token:localStorage.Token,Get:"OnGoingJob"},t.next=4,O.a.awrap(D(e).then((function(e){"On-going job found."===e.Message?(console.log(e),a.setState({OnGoingJob:e.OnGoingJob,HasObjections:e.HasObjections})):a.setState({OnGoingJob:null,HasObjections:!1})})));case 4:case"end":return t.stop()}}))},a.Database=null,a.state={OnGoingJob:null,HasObjections:!1,DriverLocation:null,Loading:!1},a.refresh=a.refresh.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.Refresh(this.refresh),e.next=3,O.a.awrap(this.onComponentUpdated());case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this;if(this.state.Loading||!this.state.OnGoingJob)return s.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#333333",width:"100%",height:"100vh"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 col-md-push-12 text-center"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"on_going_jobs.png",src:"./images/on_going_jobs.png","data-source-index":"2"})),s.a.createElement("div",{className:"col-md-12 col-md-pull-12"},s.a.createElement("div",{className:"type-h3"},"On-Going Job"),this.state.Loading?s.a.createElement("div",null,s.a.createElement("div",{class:"type-sh3",style:{color:"#008575"}},"Searhcing"),s.a.createElement(en,null)):s.a.createElement("div",{className:"type-sh3"},"Couldn't Find Your Job...")))));var t=this.state.OnGoingJob,a=this.state.HasObjections;return s.a.createElement("section",null,a?s.a.createElement("div",{class:"alert alert-danger m-n"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-24"},s.a.createElement("p",null,s.a.createElement("span",{className:"fas fa-exclamation-circle m-r-xxxs"}),"This job has objections, and it cannot be finished now. Actions are pending by Naqel. For more information, please tap on ",s.a.createElement("span",{className:"color-default"},"Objections")," tab."))))):null,s.a.createElement("ul",{className:"nav nav-tabs tabs-light",role:"tablist"},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#job-tab","aria-controls":"job-tab",role:"tab","data-toggle":"tab",onClick:this.refresh},"Job")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#trader-tab","aria-controls":"trader-tab",role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshTraderContainer());case 2:case"end":return t.stop()}}))}},"Trader")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#map-tab","aria-controls":"map-tab",role:"tab","data-toggle":"tab"},"Map")),t.CompletedByDriver?null:s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#objections-tab","aria-controls":"objections-tab",role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshObjections());case 2:case"end":return t.stop()}}))}},"Objections"))),s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"job-tab"},s.a.createElement(lr,{OnGoingJob:t,HasObjections:a})),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"trader-tab"},s.a.createElement(hn,{Refresh:function(t){e.RefreshTraderContainer=t},TraderID:t.TraderID})),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"map-tab"},s.a.createElement(Hn,{OnGoingJob:t,DriverLocation:this.state.DriverLocation})),t.CompletedByDriver?null:s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"objections-tab"},s.a.createElement(ar,{Refresh:function(t){e.RefreshObjections=t},OnGoingJobID:t.OnGoingJobID,OnObjectionAdded:this.refresh}))),s.a.createElement(mr,{HasObjections:a,CompletedByDriver:t.CompletedByDriver,CompletedByTrader:t.CompletedByTrader,OnJobRemoved:this.onComponentUpdated,OnJobFinished:function(){var t=e.state.OnGoingJob;t.CompletedByDriver=!0,e.setState({OnGoingJob:t})}}))}}]),t}(r.Component),ur=dr,pr=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.Index,t=this.props.CompletedJob,a=new Date(t.LoadingDate);return a.setHours(parseInt(t.LoadingTime.substring(0,2))),a.setMinutes(parseInt(t.LoadingTime.substring(3,5))),a.setSeconds(parseInt(t.LoadingTime.substring(6))),s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},e&&e>=0?"".concat(e+1,"."):"Job",0===e?s.a.createElement("span",{class:"badge back-color-golden m-l-xxs"},"LATEST"):null),s.a.createElement("div",{className:"type-sh3"},s.a.createElement("span",{className:"fas fa-tag m-r-xxs",style:{color:"#606060"}}),"$".concat(t.Price.toFixed(2))),s.a.createElement("div",{className:"type-h4",style:{color:"#008575",paddingTop:"0px"}},s.a.createElement("span",{className:"fas fa-check m-r-xxxs"}),"Cargo Items were Delivered at ".concat(t.UnloadingPlace," from ").concat(t.LoadingPlace,"."))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-hashtag"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Job Number"),s.a.createElement("div",{className:"content-text-secondary"},t.JobNumber))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-map-signs"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Trip Type"),s.a.createElement("div",{className:"content-text-secondary"},t.TripType))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-clock"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Accpeted Delay"),s.a.createElement("div",{className:"content-text-secondary"},"".concat(t.AcceptedDelay," Hour(s)")))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-id-badge"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Entry/Exit"),s.a.createElement("div",{className:"content-text-secondary"},t.EntryExit?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}})))))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-box"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Cargo Type"),s.a.createElement("div",{className:"content-text-secondary"},t.CargoType))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-weight"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Cargo Weight"),s.a.createElement("div",{className:"content-text-secondary"},"".concat(t.CargoWeight," lbs.")))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-calendar"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Loading Date"),s.a.createElement("div",{className:"content-text-secondary"},a.toDateString()))))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-clock"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Loading Time"),s.a.createElement("div",{className:"content-text-secondary"},a.toTimeString()))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-calendar"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Completed on"),s.a.createElement("div",{className:"content-text-secondary"},new Date(t.Created).toDateString()))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-clock"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Completed at"),s.a.createElement("div",{className:"content-text-secondary"},new Date(t.Created).toTimeString())))))))))}}]),t}(r.Component),Er=pr,hr=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.PayProof;return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:e.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),s.a.createElement("div",{className:"col-md-18"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Payment Proof"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-certificate"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Approved"),s.a.createElement("div",{className:"content-text-secondary"},e.Approved?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}})))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-calendar"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Uploaded On"),s.a.createElement("div",{className:"content-text-secondary"},"DATE: ".concat(new Date(e.Created).toDateString())),s.a.createElement("div",{className:"content-text-secondary"},"TIME: ".concat(new Date(e.Created).toLocaleTimeString()))))))))))))}}]),t}(r.Component),br=hr,vr=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onApprovePayment=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.props.PayProof.Approved){t.next=2;break}return t.abrupt("return");case 2:return a.setState({ShowPreloader:!0}),e={Token:localStorage.Token,TraderPayProofID:a.props.PayProof.TraderPayProofID},console.log("Going to approve Trader pay proof."),t.next=7,O.a.awrap(Ee(e).then((function(e){"Trader pay proof is approved."===e.Message?(a.setState({ShowPreloader:!1}),a.props.OnPayProofApproved()):a.setState({ShowPreloader:!1})})));case 7:case"end":return t.stop()}}))},a.state={ShowPreloader:!1},a.onApprovePayment=a.onApprovePayment.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.ShowPreloader,t=this.props.PayProof;return s.a.createElement("section",null,t.Approved?null:s.a.createElement("div",{class:"alert alert-info m-n p-n"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-24"},s.a.createElement("p",null,s.a.createElement("span",{className:"fas fa-exclamation-circle m-r-xxxs"}),"PENDING APPROVAL: The trader has updated this pay proof. Tap on the ",s.a.createElement("span",{className:"color-default"},"Approve")," button, if you have received the payment. Afterwards, you will have to pay our job dues from your ",s.a.createElement("span",{className:"color-default"},"Payments")," section."))))),s.a.createElement(br,{PayProof:t}),t.Approved?null:s.a.createElement("div",{className:"text-right back-color-gray p-xxs"},s.a.createElement("button",{className:"btn btn-primary m-n",onClick:this.onApprovePayment},"Approve Payment")),e?s.a.createElement(ca,null):null)}}]),t}(r.Component),fr=vr,gr=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.PayDetails;return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Credit Card Payment"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-user"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Owner Name"),s.a.createElement("div",{className:"content-text-secondary"},e.OwnerName))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-envelope"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Owner Email"),s.a.createElement("div",{className:"content-text-secondary"},e.OwnerEmail))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-credit-card"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Payment Method"),s.a.createElement("div",{className:"content-text-secondary"},e.CardType.toUpperCase()))))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-certificate"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Approved"),s.a.createElement("div",{className:"content-text-secondary"},s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}})))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-calendar"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Paid On"),s.a.createElement("div",{className:"content-text-secondary"},"DATE: ".concat(new Date(e.Created).toDateString())),s.a.createElement("div",{className:"content-text-secondary"},"TIME: ".concat(new Date(e.Created).toLocaleTimeString()))))))))))))}}]),t}(r.Component),Nr=gr,yr=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"TraderPaymentDetails",Params:{CompletedJobID:a.props.CompletedJobID}},a.setState({Searching:!0}),t.next=5,O.a.awrap(D(e).then((function(e){"Trader payment details found."===e.Message?a.setState({TraderPaymentDetails:e.TraderPaymentDetails,Searching:!1}):a.setState({TraderPaymentDetails:null,Searching:!1})})));case 5:case"end":return t.stop()}}))},a.refresh=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Token:localStorage.Token,Get:"TraderPaymentDetails",Params:{CompletedJobID:a.props.CompletedJobID}},t.next=4,O.a.awrap(D(e).then((function(e){"Trader payment details found."===e.Message?a.setState({TraderPaymentDetails:e.TraderPaymentDetails}):a.setState({TraderPaymentDetails:null})})));case 4:case"end":return t.stop()}}))},a.state={TraderPaymentDetails:null,Searching:!1},a.refresh=a.refresh.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.Refresh(this.refresh),e.next=3,O.a.awrap(this.onComponentUpdated());case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.TraderPaymentDetails,n=t.Searching;return n||!a?s.a.createElement(nn,{Searching:n,SearchingFor:"payment details"}):a.IsOnlinePayment?s.a.createElement(Nr,{PayDetails:a.PayDetails}):s.a.createElement(fr,{PayProof:a.PayProof,OnPayProofApproved:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.OnPayProofApproved(),t.next=3,O.a.awrap(e.refresh());case 3:case"end":return t.stop()}}))}})}}]),t}(r.Component),xr=yr,Sr=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.Index,a=this.props.TraderID,n=this.props.CompletedJobID;return s.a.createElement("section",null,s.a.createElement("ul",{className:"nav nav-tabs tabs-light",role:"tablist"},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#trader-completed-jobs-".concat(t),"aria-controls":"trader-completed-jobs-".concat(t),role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshTraderContainer());case 2:case"end":return t.stop()}}))}},"Trader")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#payment-details-completed-jobs-".concat(t),"aria-controls":"payment-details-completed-jobs-".concat(t),role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshPaymentDetails());case 2:case"end":return t.stop()}}))}},"Payment Details"))),s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"trader-completed-jobs-".concat(t)},s.a.createElement(hn,{Refresh:function(t){e.RefreshTraderContainer=t},TraderID:a})),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"payment-details-completed-jobs-".concat(t)},s.a.createElement(xr,{Refresh:function(t){e.RefreshPaymentDetails=t},CompletedJobID:n,OnPayProofApproved:this.props.OnPayProofApproved}))))}}]),t}(r.Component),Cr=Sr,Or=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.Index,a=this.props.CompletedJobPackage.CompletedJob,n=this.props.CompletedJobPackage.BillPaid,r=this.props.CompletedJobPackage.DriverReview;return s.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},n?s.a.createElement("div",{class:"alert alert-info m-n p-n"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-24"},s.a.createElement("p",null,s.a.createElement("span",{className:"fas fa-check-circle m-r-xxxs"}),"The bill has been paid! Tap on ",s.a.createElement("span",{className:"color-default"},"More Details")," for payment information."))))):s.a.createElement("div",{class:"alert alert-danger m-n p-n"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-24"},s.a.createElement("p",null,s.a.createElement("span",{className:"fas fa-exclamation-circle m-r-xxxs"}),"The trader has not paid the bill yet; If the bill is paid via Bank Transfer then your approval is required. Tap on ",s.a.createElement("span",{className:"color-default"},"More Details")," for payment details."))))),s.a.createElement(Er,{Index:t,CompletedJob:a}),r?s.a.createElement("div",{class:"alert alert-info m-n",style:{backgroundColor:"#E5E5E5",borderTop:"2px solid #CCCCCC"}},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-24"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-star"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Rating"),s.a.createElement("div",{className:"content-text-secondary"},s.a.createElement(Ma,{Rating:r.Rating,Color:"",Size:"rating-small"})),s.a.createElement("div",{className:"content-text-primary"},"Review"),s.a.createElement("div",{className:"content-text-secondary"},r.Review))))))):s.a.createElement("div",{class:"alert alert-info m-n",style:{backgroundColor:"#E5E5E5",borderTop:"2px solid #CCCCCC"}},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-24"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-star"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"No Rating Found"),s.a.createElement("div",{className:"content-text-secondary"},"Your rating and review appears here."))))))),s.a.createElement("div",{className:"back-color-gray","data-toggle":"collapse","aria-expanded":"false","data-target":"#completed-job-".concat(t)},s.a.createElement("div",{className:"type-h4 color-default text-right p-xxxs"},"More Details",s.a.createElement("i",{className:"fas fa-ellipsis-v"}),s.a.createElement("i",{class:"glyph glyph-add"}),s.a.createElement("i",{class:"glyph glyph-remove"}))),s.a.createElement("div",{className:"collapse",id:"completed-job-".concat(t)},s.a.createElement(Cr,{Index:t,TraderID:a.TraderID,CompletedJobID:a.CompletedJobID,OnPayProofApproved:function(){e.props.OnPayProofApproved(e.props.CompletedJobPackage)}})))}}]),t}(r.Component),wr=Or,kr=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"CompletedJobPackages"},a.setState({Searching:!0}),t.next=5,O.a.awrap(D(e).then((function(e){"Completed job packages found."===e.Message?a.setState({AllCompletedJobPackages:e.CompletedJobPackages,CompletedJobPackages:e.CompletedJobPackages,Searching:!1}):a.setState({AllCompletedJobPackages:[],CompletedJobPackages:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.refresh=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"CompletedJobPackages"},a.setState({Refreshing:!0}),t.next=5,O.a.awrap(D(e).then((function(e){"Completed job packages found."===e.Message?a.setState({AllCompletedJobPackages:e.CompletedJobPackages,CompletedJobPackages:e.CompletedJobPackages,Refreshing:!1}):a.setState({AllCompletedJobPackages:[],CompletedJobPackages:[],Refreshing:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){if(e.preventDefault(),""!==a.state.SearchDate){var t=a.state.AllCompletedJobPackages,n=[],r=0,s=a.state.SearchString,l=!0,c=!1,o=void 0;try{for(var i,m=t[Symbol.iterator]();!(l=(i=m.next()).done);l=!0){var d=i.value;d.CompletedJob.JobNumber.includes(s)&&(n[r++]=d)}}catch(u){c=!0,o=u}finally{try{l||null==m.return||m.return()}finally{if(c)throw o}}a.setState({CompletedJobPackages:n})}else a.setState({CompletedJobPackages:a.state.AllCompletedJobPackages})},a.state={AllCompletedJobPackages:[],CompletedJobPackages:[],SearchString:"",Searching:!1,Refreshing:!1},a.refresh=a.refresh.bind(Object(h.a)(a)),a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.Refresh(this.refresh),e.next=3,O.a.awrap(this.onComponentUpdated());case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state.CompletedJobPackages;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container",style:{paddingBottom:"10px",marginBottom:"12px"}},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-check m-r-xxs"}),"Completed Jobs"),s.a.createElement("p",{className:"color-light"},"You have completed ".concat(this.state.AllCompletedJobPackages.length," jobs.")))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Your Completed Jobs",this.state.Refreshing?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"SearchString",className:"form-control",placeholder:"Search Jobs",style:{maxWidth:"500px",width:"100%"},value:this.state.SearchString,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===t.length?s.a.createElement(nn,{Searching:this.state.Searching,SearchingFor:"completed jobs"}):s.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},t.map((function(t,a){return s.a.createElement(wr,{key:a,Index:a,CompletedJobPackage:t,OnPayProofApproved:function(t){var a=e.state.CompletedJobPackages,n=!0,r=!1,s=void 0;try{for(var l,c=a[Symbol.iterator]();!(n=(l=c.next()).done);n=!0){var o=l.value;if(o===t){o.BillPaid=!0;break}}}catch(i){r=!0,s=i}finally{try{n||null==c.return||c.return()}finally{if(r)throw s}}e.setState({CompletedJobPackages:a})}})}))))}}]),t}(r.Component),Pr=kr,jr=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Pr,{Refresh:this.props.Refresh}))}}]),t}(r.Component),Tr=jr,Rr=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"JOBS"}),s.a.createElement("ul",{className:"nav nav-tabs theme-alt",role:"tablist",style:{padding:"10px",backgroundColor:"#3A3A3C",width:"100%",margin:"0px"}},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#job-requests","aria-controls":"job-requests",role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshJobRequests());case 2:case"end":return t.stop()}}))}},"Job Requests")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#job-offers","aria-controls":"job-offers",role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshJobOffers());case 2:case"end":return t.stop()}}))}},"Job Offers")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#on-going-job","aria-controls":"on-going-job",role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshOnGoingJob());case 2:case"end":return t.stop()}}))}},"On-Going Job")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#completed-jobs","aria-controls":"completed-jobs",role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshCompletedJobs());case 2:case"end":return t.stop()}}))}},"Completed Jobs"))),s.a.createElement("div",{class:"tab-content"},s.a.createElement("div",{role:"tabpanel",class:"tab-pane active",id:"job-requests"},s.a.createElement(Tn,{Refresh:function(t){e.RefreshJobRequests=t}})),s.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"job-offers"},s.a.createElement(qn,{Refresh:function(t){e.RefreshJobOffers=t}})),s.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"on-going-job"},s.a.createElement(ur,{Refresh:function(t){e.RefreshOnGoingJob=t}})),s.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"completed-jobs"},s.a.createElement(Tr,{Refresh:function(t){e.RefreshCompletedJobs=t}}))))}}]),t}(r.Component),Dr=Rr,Ar=a(27),Fr=a(85),Lr=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.Index,t=this.props.Bill;return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h5 color-default p-t-n"},"".concat(e+1,". Bill Number: ").concat(t.BillNumber),0===e?s.a.createElement("span",{class:"badge back-color-golden m-l-xxs"},"NEW"):null)),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-dollar-sign"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Amount"),s.a.createElement("div",{className:"content-text-secondary"},"$".concat(t.Amount.toFixed(2))))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-certificate"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Paid"),s.a.createElement("div",{className:"content-text-secondary"},t.Paid?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}})))))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-hashtag"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Job Number"),s.a.createElement("div",{className:"content-text-secondary"},t.JobNumber))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-calendar"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Generated On"),s.a.createElement("div",{className:"content-text-secondary"},"DATE: ".concat(new Date(t.Created).toDateString())),s.a.createElement("div",{className:"content-text-secondary"},"TIME: ".concat(new Date(t.Created).toLocaleTimeString()))))))))))}}]),t}(r.Component),Ir=Lr,Ur=a(15),Vr=a.n(Ur),Jr=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"BillData"},a.setState({Searching:!0}),t.next=5,O.a.awrap(D(e).then((function(e){"Bill data found."===e.Message?a.setState({BillData:e.BillData,Searching:!1}):a.setState({BillData:null,Searching:!1})})));case 5:case"end":return t.stop()}}))},a.state={BillData:null,Searching:!1},a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state.BillData,t=this.state.Searching;if(t||!e)return s.a.createElement(nn,{Searching:t,SearchingFor:"bill data"});var a=this.props.Bill,n=this.state.BillData.NaqelSettings;return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default back-color-light"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"type-t3",style:{fontWeight:"600"}},s.a.createElement("span",{className:"fas fa-route m-r-xxxs"}),"NAQEL"),s.a.createElement("div",{className:"p-t-xxs"},s.a.createElement("div",{className:"type-t9"},n.Street),s.a.createElement("div",{className:"type-t9"},"".concat(n.City,", ").concat(n.Country,".")),s.a.createElement("div",{className:"type-t9"},"ZIP ".concat(n.ZIPCode))),s.a.createElement("div",{className:"p-t-xxs"},s.a.createElement("div",{className:"type-t9"},n.PhoneNumber),s.a.createElement("div",{className:"type-t9"},n.Website),s.a.createElement("div",{className:"type-t9"},n.BusinessName)),s.a.createElement("div",{className:"type-t7 p-t-xxs"},"BANK DETAILS"),s.a.createElement("div",{className:"p-t-xxs"},s.a.createElement("div",{className:"type-t9"},"BANK NAME"),s.a.createElement("div",{className:"type-t9"},n.BankName),s.a.createElement("div",{className:"type-t9 p-t-xxxs"},"ACCOUNT #"),s.a.createElement("div",{className:"type-t9"},n.AccountNumber)),s.a.createElement("div",{className:"type-t7 p-t-xxs"},"BILLED TO"),s.a.createElement("div",{className:"p-t-xxs"},s.a.createElement("div",{className:"type-t9"},"".concat(e.FirstName," ").concat(e.LastName)),s.a.createElement("div",{className:"type-t9"},e.Address)),s.a.createElement("div",{className:"type-t7 p-t-xxs"},"INVOICE"),s.a.createElement("div",{className:"p-t-xxs"},s.a.createElement("div",{className:"type-t9"},"INVOICE #"),s.a.createElement("div",{className:"type-t9"},a.DriverBillID),s.a.createElement("div",{className:"type-t9 p-t-xxxs"},"DATE OF ISSUE"),s.a.createElement("div",{className:"type-t9"},new Date(a.Created).toDateString()),s.a.createElement("div",{className:"type-t9 p-t-xxxs"},"INVOICE TOTAL"),s.a.createElement("div",{className:"type-t3 color-default"},"$".concat(a.Amount.toFixed(2)))))))}}]),t}(r.Component),Mr=Jr,Br=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.Index,a=this.props.Bill;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"print-bill-dialog-".concat(t),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement(Mr,{Bill:a,ref:function(t){return e.Bill=t}}),s.a.createElement("div",{className:"text-right back-color-gray p-xxs"},s.a.createElement(Vr.a,{trigger:function(){return s.a.createElement("button",{className:"btn btn-primary m-n"},"Print")},content:function(){return e.Bill}})))))))}}]),t}(r.Component),qr=Br,Qr=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.Token,DriverBillID:a.props.DriverBillID,PhotoURL:a.state.PhotoURL},console.log("Going to add driver pay proof."),a.setState({ShowPreloader:!0}),n.next=8,O.a.awrap(he(t).then((function(e){"Driver pay proof is added."===e.Message?(a.setState({ShowPreloader:!1}),a.cancelButton.click(),a.props.OnOK()):a.setState({ShowPreloader:!1})})));case 8:case"end":return n.stop()}}))},a.state={PhotoURL:"./images/default_image.png",ValidPhotoURL:!1,ValidForm:!1,ShowPreloader:!1,Errors:{PhotoURL:""}},a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidPhotoURL;switch(e){case"PhotoURL":r=null!==t,n.PhotoURL=r?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidPhotoURL:r},(function(){a.setState({ValidForm:a.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this,t=this.state.ShowPreloader,a=this.props.Index;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"add-pay-proof-dialog-".concat(a),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},t?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement(wa,{Source:this.state.PhotoURL,OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)}}),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"text-danger"}))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Upload Payment Proof"),s.a.createElement("div",{className:"type-sh3"}," The proof of a payment can be a Bank Transfer Receipt."),s.a.createElement("div",{className:"type-sh4 text-danger"},this.state.Errors.PhotoURL))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Upload",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))))}}]),t}(r.Component),Wr=Qr,Gr=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDelete=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.props.PayProof.Approved){t.next=2;break}return t.abrupt("return");case 2:return a.setState({ShowPreloader:!0}),e={Token:localStorage.Token,DriverPayProofID:a.props.PayProof.DriverPayProofID},console.log("Going to delete driver pay proof."),t.next=7,O.a.awrap(be(e).then((function(e){"Driver pay proof is deleted."===e.Message?(a.setState({ShowPreloader:!1}),a.props.OnPayProofDeleted()):a.setState({ShowPreloader:!1})})));case 7:case"end":return t.stop()}}))},a.state={ShowPreloader:!1},a.onDelete=a.onDelete.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.ShowPreloader,t=this.props.PayProof;return s.a.createElement("section",null,t.Approved?null:s.a.createElement("div",{class:"alert alert-danger m-n p-n"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-24"},s.a.createElement("p",null,s.a.createElement("span",{className:"fas fa-exclamation-circle m-r-xxxs"}),"PENDING APPROVAL: Naqel team will approve this proof."))))),s.a.createElement(br,{PayProof:t}),t.Approved?null:s.a.createElement("div",{className:"text-right back-color-gray p-xxs"},s.a.createElement("button",{className:"btn btn-danger m-n",onClick:this.onDelete},"Delete")),e?s.a.createElement(ca,null):null)}}]),t}(r.Component),_r=Gr,zr=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"PaymentDetails",Params:{DriverBillID:a.props.DriverBillID}},a.setState({Searching:!0}),t.next=5,O.a.awrap(D(e).then((function(e){"Payment details found."===e.Message?a.setState({PaymentDetails:e.PaymentDetails,Searching:!1}):a.setState({PaymentDetails:null,Searching:!1})})));case 5:case"end":return t.stop()}}))},a.refresh=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Token:localStorage.Token,Get:"PaymentDetails",Params:{DriverBillID:a.props.DriverBillID}},t.next=4,O.a.awrap(D(e).then((function(e){"Payment details found."===e.Message?a.setState({PaymentDetails:e.PaymentDetails}):a.setState({PaymentDetails:null})})));case 4:case"end":return t.stop()}}))},a.state={PaymentDetails:null,Searching:!1},a.refresh=a.refresh.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.Refresh(this.refresh),e.next=3,O.a.awrap(this.onComponentUpdated());case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.PaymentDetails,a=e.Searching;return a||!t?s.a.createElement(nn,{Searching:a,SearchingFor:"payment details"}):t.IsOnlinePayment?s.a.createElement(Nr,{PayDetails:t.PayDetails}):s.a.createElement(_r,{PayProof:t.PayProof,OnPayProofDeleted:this.props.OnPayProofDeleted})}}]),t}(r.Component),Hr=zr,Kr=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onCardInputChange=function(e){var t=a.state.Errors;t.CheckOut=e.error?e.error.message:"",a.setState({Errors:t})},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.toggleCard=function(e){a.setState({ShowCard:e})},a.onSubmit=function(e){var t,n,r,s,l,c,o;return O.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.preventDefault(),a.state.ValidForm){i.next=3;break}return i.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t=a.props.Bill,n={name:a.state.Owner,email:a.state.Email},r={Token:localStorage.Token,Amount:100*t.Amount},s=a.props.Stripe,l=a.props.Elements,c=l.getElement(Ar.CardElement),i.prev=10,i.next=13,O.a.awrap(ge(r).then((function(e){var t,r,l,o,i,m,d;return O.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if("Client secret found."!==e.Message){u.next=24;break}return t=e.ClientSecret,u.next=4,O.a.awrap(s.createPaymentMethod({type:"card",card:c,billing_details:n}));case 4:if(!(r=u.sent).error){u.next=10;break}return(l=a.state.Errors).CheckOut=r.error.message,a.setState({Errors:l,ShowPreloader:!1}),u.abrupt("return");case 10:return o={Token:localStorage.Token,DriverBillID:a.props.Bill.DriverBillID,OwnerName:a.state.Owner,OwnerEmail:a.state.Email,CardType:r.paymentMethod.card.brand},u.next=13,O.a.awrap(s.confirmCardPayment(t,{payment_method:r.paymentMethod.id}));case 13:if(i=u.sent,!(m=i.error)){u.next=20;break}return(d=a.state.Errors).CheckOut=m.message,a.setState({Errors:d,ShowPreloader:!1}),u.abrupt("return");case 20:return u.next=22,O.a.awrap(Ne(o).then((function(e){a.setState({ShowPreloader:!1}),"Pay details are added."===e.Message&&(a.toggleCard(!1),a.cancelButton.click(),a.props.OnOK())})));case 22:u.next=25;break;case 24:a.setState({ShowPreloader:!1});case 25:case"end":return u.stop()}}))})));case 13:i.next=20;break;case 15:i.prev=15,i.t0=i.catch(10),(o=a.state.Errors).CheckOut=i.t0.message,a.setState({Errors:o});case 20:case"end":return i.stop()}}),null,null,[[10,15]])},a.state={Owner:"",Email:"",ValidOwner:!1,ValidEmail:!1,ValidForm:!1,ShowPreloader:!1,ShowCard:!1,Errors:{Owner:"",Email:"",CheckOut:""}},a.toggleCard=a.toggleCard.bind(Object(h.a)(a)),a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.onCardInputChange=a.onCardInputChange.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.ToggleCard(this.toggleCard)}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidOwner,s=this.state.ValidEmail;switch(e){case"Owner":if(r=""!==t,n.Owner=r?"":"Card owner name is required.",""!==n.Owner)break;r=t.match(/^[a-zA-Z ]+$/),Error.Owner=r?"":"Invalid owner name.";break;case"Email":if(s=""!==t,n.Email=s?"":"Email is required.",""!=n.NewEmail)break;s=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),n.Email=s?"":"Email is invalid."}this.setState({Errors:n,ValidOwner:r,ValidEmail:s},(function(){a.setState({ValidForm:a.state.ValidOwner&&a.state.ValidEmail})}))}},{key:"render",value:function(){var e=this,t=this.state.ShowCard,a=this.state.ShowPreloader,n=this.props.Index,r=this.props.Bill,l={iconStyle:"solid",style:{base:{color:"#000000",fontSize:"15px",fontFamily:"Segoe UI",iconColor:"#000000"},invalid:{iconColor:"#D75A4A",color:"#D75A4A"},complete:{iconColor:"#008575"}},hidePostalCode:!0};return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"pay-online-dialog-".concat(n),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},a?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",onClick:function(){e.toggleCard(!1)},ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Pay Online"),s.a.createElement("div",{className:"type-sh3 m-b-xxs"},"Pay the bill with your credit card."),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Owner Name"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"text",name:"Owner",className:"form-control",autoComplete:"off",value:this.state.Owner,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.Owner)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Owner Email"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"email",name:"Email",className:"form-control",autoComplete:"off",placeholder:"someone@mail.com",value:this.state.Email,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.Email)),s.a.createElement("div",{className:"type-sh4"},s.a.createElement("span",{className:"fab fa-cc-visa"}),s.a.createElement("span",{className:"fab fa-cc-mastercard m-l-xxxs"}),s.a.createElement("span",{className:"fab fa-cc-amex m-l-xxxs"}),s.a.createElement("span",{className:"fab fa-cc-discover m-l-xxxs"}),s.a.createElement("span",{className:"fab fa-cc-diners-club m-l-xxxs"}),s.a.createElement("span",{className:"fab fa-cc-jcb m-l-xxxs"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Credit Card Information"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("div",{className:"form-control p-t-xxxs p-b-xxxs",style:{maxWidth:"100%",width:"100%",borderColor:"rgba(0, 0, 0, 0.6)"}},t?s.a.createElement(Ar.CardElement,{options:l,onChange:this.onCardInputChange}):null),s.a.createElement("span",{className:"text-danger"},this.state.Errors.CheckOut)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Pay $".concat(r.Amount.toFixed(2)),className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))))}}]),t}(r.Component),Yr=Kr,$r=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.Index,a=this.props.Bill;return s.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement(Ir,{Index:t,Bill:a}),s.a.createElement("div",{className:"text-right back-color-gray p-xxs"},s.a.createElement("button",{className:"btn btn-secondary","data-toggle":"modal","data-target":"#print-bill-dialog-".concat(t)},"Print Bill"),a.HasPayProof||a.HasPayDetails?null:s.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#pay-online-dialog-".concat(t),onMouseDown:function(){e.ToggleCard(!0)}},"Pay Online"),a.HasPayProof||a.HasPayDetails?null:s.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#add-pay-proof-dialog-".concat(t)},"Upload Pay Proof")),s.a.createElement("div",{className:"back-color-gray","data-toggle":"collapse","aria-expanded":"false","data-target":"#bill-".concat(t),onMouseDown:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshPaymentDetails());case 2:case"end":return t.stop()}}))}},s.a.createElement("div",{className:"type-h4 color-default text-right p-xxxs"},"Payment Details",s.a.createElement("i",{className:"fas fa-ellipsis-v"}),s.a.createElement("i",{class:"glyph glyph-add"}),s.a.createElement("i",{class:"glyph glyph-remove"}))),s.a.createElement("div",{className:"collapse",id:"bill-".concat(t)},s.a.createElement(Hr,{Refresh:function(t){e.RefreshPaymentDetails=t},DriverBillID:a.DriverBillID,OnPayProofDeleted:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.OnPayProofUpdated(a,!1),t.next=3,O.a.awrap(e.RefreshPaymentDetails());case 3:case"end":return t.stop()}}))}})),s.a.createElement(qr,{Index:t,Bill:a}),a.HasPayProof||a.HasPayDetails?null:s.a.createElement(Wr,{Index:t,DriverBillID:a.DriverBillID,OnOK:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.OnPayProofUpdated(a,!0),t.next=3,O.a.awrap(e.RefreshPaymentDetails());case 3:case"end":return t.stop()}}))}}),a.HasPayDetails?null:s.a.createElement(Ar.ElementsConsumer,null,(function(n){var r=n.elements,l=n.stripe;return s.a.createElement(Yr,{Index:t,Bill:a,Elements:r,Stripe:l,ToggleCard:function(t){e.ToggleCard=t},OnOK:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.OnPayDetailsAdded(a),t.next=3,O.a.awrap(e.RefreshPaymentDetails());case 3:case"end":return t.stop()}}))}})})))}}]),t}(r.Component),Xr=$r,Zr=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"Bills"},a.setState({Searching:!0}),t.next=5,O.a.awrap(D(e).then((function(e){"Bills found."===e.Message?a.setState({Bills:e.Bills,NumberOfPaidBills:e.NumberOfPaidBills,NumberOfUnpaidBills:e.NumberOfUnpaidBills,Searching:!1}):a.setState({Bills:[],NumberOfPaidBills:0,NumberOfUnpaidBills:0,Searching:!1})})));case 5:case"end":return t.stop()}}))},a.state={Bills:[],NumberOfPaidBills:0,NumberOfUnpaidBills:0,Searching:!1},a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state.Bills,a=this.state.NumberOfPaidBills,n=this.state.NumberOfUnpaidBills;return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"PAYMENTS"}),s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/teal.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container",style:{paddingBottom:"10px",marginBottom:"12px"}},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-money-bill-wave m-r-xs"}),"Payments"))))),s.a.createElement("div",{class:"alert alert-info m-n",style:{backgroundColor:"#333333"}},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-6"},s.a.createElement("div",{className:"entity-list theme-alt"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon",style:{backgroundColor:"#333333",color:"#008575"}},s.a.createElement("span",{className:"fas fa-thumbs-up"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Paid Bills"),s.a.createElement("div",{className:"content-text-secondary"},a))))),s.a.createElement("div",{class:"col-md-6"},s.a.createElement("div",{className:"entity-list theme-alt"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon",style:{backgroundColor:"#333333",color:"#008575"}},s.a.createElement("span",{className:"fas fa-thumbs-down"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Unpaid Bills"),s.a.createElement("div",{className:"content-text-secondary"},n))))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Your Bills"),0===t.length?s.a.createElement(nn,{Searching:this.state.Searching,SearchingFor:"bills"}):s.a.createElement("ol",{className:"list-items m-n"},t.map((function(t,a){return s.a.createElement(Xr,{key:a,Index:a,Bill:t,OnPayProofUpdated:function(t,a){var n=e.state.Bills,r=!0,s=!1,l=void 0;try{for(var c,o=n[Symbol.iterator]();!(r=(c=o.next()).done);r=!0){var i=c.value;if(i===t){i.HasPayProof=a;break}}}catch(m){s=!0,l=m}finally{try{r||null==o.return||o.return()}finally{if(s)throw l}}e.setState({Bills:n})},OnPayDetailsAdded:function(t){var a=e.state.Bills,n=e.state.NumberOfPaidBills,r=e.state.NumberOfUnpaidBills,s=!0,l=!1,c=void 0;try{for(var o,i=a[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var m=o.value;if(m===t){m.Paid=!0,m.HasPayDetails=!0,n++,r--;break}}}catch(d){l=!0,c=d}finally{try{s||null==i.return||i.return()}finally{if(l)throw c}}e.setState({Bills:a,NumberOfPaidBills:n,NumberOfUnpaidBills:r})}})}))))}}]),t}(r.Component),es=Zr,ts=Object(Fr.a)(g.a.STRIPE_PUBLISHABLE_KEY),as=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Ar.Elements,{stripe:ts},s.a.createElement(es,null)))}}]),t}(r.Component),ns=as,rs=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,Question:a.state.Question},n.next=7,O.a.awrap(ve(t).then((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({ShowPreloader:!1}),"Question is added."===e.Message&&(a.cancelButton.click(),a.props.OnOK());case 2:case"end":return t.stop()}}))})));case 7:case"end":return n.stop()}}))},a.state={Question:"",ValidQuestion:!1,ValidForm:!1,ShowPreloader:!1,Errors:{Question:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidQuestion;switch(e){case"Question":r=""!==t,n.Question=r?"":"Question is required."}this.setState({Errors:n,ValidQuestion:r},(function(){a.setState({ValidForm:a.state.ValidQuestion})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.Question,n=t.ShowPreloader,r=t.ValidForm,l=t.Errors;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"ask-question-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},n?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Ask a New Question"),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"control-label"},"Question"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("textarea",{rows:"6",class:"form-control",name:"Question",style:{maxWidth:"100%"},value:a,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},l.Question)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Post",className:"btn btn-primary",disabled:!r}))))))))))}}]),t}(r.Component),ss=rs,ls=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.Index,a=e.Question,n=new Date(a.Created),r=a.AskedBy,l=a.DriverAnswer,c=l?new Date(l.Created):null,o=l?l.AnsweredBy:null;return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"type-h5 color-default p-t-n"},"".concat(t+1,". Question ID: ").concat(a.QuestionNumber)),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-user"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},s.a.createElement("span",{className:"fas fa-car m-r-xxxs"}),"".concat(r.FirstName," ").concat(r.LastName)),s.a.createElement("div",{className:"content-text-secondary"},r.Username),s.a.createElement("div",{className:"content-text-secondary"},"".concat(n.toDateString()," at ").concat(n.toLocaleTimeString())))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-question"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},s.a.createElement("span",{className:"m-r-xxxs"},"Question"),a.Class?s.a.createElement("span",{class:"badge back-color-golden"},a.Class.toUpperCase()):s.a.createElement("span",{class:"badge back-color-golden"},"UNCLASSIFIED")),s.a.createElement("div",{className:"content-text-secondary"},a.Question))))),l?s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-user"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},s.a.createElement("span",{className:"fas fa-user-shield m-r-xxxs"}),"".concat(o.FirstName," ").concat(o.LastName)),s.a.createElement("div",{className:"content-text-secondary"},o.Username),s.a.createElement("div",{className:"content-text-secondary"},"".concat(c.toDateString()," at ").concat(c.toLocaleTimeString(),".")))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-comment"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},s.a.createElement("span",{className:"m-r-xxxs"},"Answer"),l.Edited?s.a.createElement("span",{className:"color-default"},"EDITED"):null),s.a.createElement("div",{className:"content-text-secondary"},l.Answer))))):s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-comment"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},s.a.createElement("span",{className:"m-r-xxxs"},"Answer")),s.a.createElement("div",{className:"content-text-secondary"},"This question has not been answered yet.")))))))))}}]),t}(r.Component),cs=ls,os=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDelete=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({ShowPreloader:!0}),e={Token:localStorage.Token,DriverQuestionID:a.props.DriverQuestionID},t.next=4,O.a.awrap(fe(e).then((function(e){a.setState({ShowPreloader:!1}),"Question is deleted."===e.Message&&(a.cancelButton.click(),a.props.OnOK())})));case 4:case"end":return t.stop()}}))},a.state={ShowPreloader:!1},a.onDelete=a.onDelete.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.ShowPreloader,a=this.props,n=a.Index,r=a.QuestionNumber;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"delete-driver-question-dialog-".concat(n),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},t?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Delete Question"),s.a.createElement("div",{className:"type-sh3 m-b-xxs"},"Are you sure you want to delete question with ID",s.a.createElement("span",{className:"color-default"}," ".concat(r,"."))))),s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",onClick:this.onDelete},"Delete")))))))))}}]),t}(r.Component),is=os,ms=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.Index,a=e.Question;return s.a.createElement("section",null,s.a.createElement(cs,{Index:t,Question:a}),s.a.createElement("div",{className:"text-right p-xxs",style:{backgroundColor:"#DDDDDD"}},s.a.createElement("button",{className:"btn btn-danger m-t-n","data-toggle":"modal","data-target":"#delete-driver-question-dialog-".concat(t)},"Delete")),s.a.createElement(is,{Index:t,DriverQuestionID:a.DriverQuestionID,QuestionNumber:a.QuestionNumber,OnOK:this.props.OnQuestionDeleted}))}}]),t}(r.Component),ds=ms,us=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"Questions"},a.setState({Searching:!0}),t.next=5,O.a.awrap(D(e).then((function(e){"Questions found."===e.Message?a.setState({AllQuestions:e.Questions,Questions:e.Questions,Searching:!1}):a.setState({AllQuestions:[],Questions:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){e.preventDefault();var t=a.state.SearchString;if(""!==t){var n=a.state.AllQuestions,r=[],s=0,l=!0,c=!1,o=void 0;try{for(var i,m=n[Symbol.iterator]();!(l=(i=m.next()).done);l=!0){var d=i.value;(d.Question.includes(t)||d.QuestionNumber.includes(t)||d.Class.includes(t))&&(r[s++]=d)}}catch(u){c=!0,o=u}finally{try{l||null==m.return||m.return()}finally{if(c)throw o}}a.setState({Questions:r})}else a.setState({Questions:a.state.AllQuestions})},a.state={AllQuestions:[],Questions:[],SearchString:"",Searching:!1,Refreshing:!1},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.Questions,n=t.SearchString,r=t.Searching,l=t.Refreshing;return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"QUESTIONS"}),s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-question-circle m-r-xxs"}),"Questions"),s.a.createElement("p",{className:"color-light"},"If you are facing any issues, then post a question. Naqel team will answer them as soon as possible."),s.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#ask-question-dialog"},"Ask a Question"))))),s.a.createElement(ss,{OnOK:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.onComponentUpdated());case 2:case"end":return t.stop()}}))}}),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Your Questions",l?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search Questions",style:{maxWidth:"500px",width:"100%"},value:n,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===a.length?s.a.createElement(nn,{Searching:r,SearchingFor:"questions"}):s.a.createElement("ol",{className:"list-items m-n"},a.map((function(t,a){return s.a.createElement("li",{key:a,className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement(ds,{Index:a,Question:t,OnQuestionDeleted:e.onComponentUpdated}))}))))}}]),t}(r.Component),ps=us,Es=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(ps,null))}}]),t}(r.Component),hs=Es,bs=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(w.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),e.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,FirstName:e.state.FirstName,LastName:e.state.LastName,Address:e.state.Address,PhoneNumber:e.state.PhoneNumber,Gender:e.state.Gender,Nationality:e.state.Nationality,DateOfBirth:e.state.DateOfBirth},e.setState({Preloader:s.a.createElement(ca,null)}),n.next=7,O.a.awrap(F(a).then((function(t){"Driver is updated."===t.Message&&e.props.OnSettingsSaved(),e.setState({Preloader:null})})));case 7:case"end":return n.stop()}}))},e.state={FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:"",ValidFirstName:!0,ValidLastName:!0,ValidPhoneNumber:!0,ValidForm:!1,SettingsSaved:!1,Preloader:null,Errors:{FirstName:"",LastName:"",PhoneNumber:""}},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=4;break}return e={Token:localStorage.Token,Get:"Driver"},a.next=4,O.a.awrap(D(e).then((function(e){if("Driver found."===e.Message){var a=e.Driver;t.setState({FirstName:a.FirstName,LastName:a.LastName,Address:a.Address,PhoneNumber:a.PhoneNumber,Gender:a.Gender,Nationality:a.Nationality,DateOfBirth:a.DateOfBirth})}else t.setState({FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:""})})));case 4:case"end":return a.stop()}}))}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidFirstName,s=this.state.ValidLastName,l=this.state.ValidPhoneNumber;switch(e){case"FirstName":r=t.match(/^[a-zA-Z ]+$/),n.FirstName=r?"":"First name is invalid.";break;case"LastName":s=t.match(/^[a-zA-Z ]+$/),n.LastName=s?"":"Last name is invalid.";break;case"PhoneNumber":l=t.match(/^\+[0-9]?()[0-9](\s|\S)(\d[0-9]{9})$/),n.PhoneNumber=l?"":"Phone number is invalid."}this.setState({Errors:n,ValidFirstName:r,ValidLastName:s,ValidPhoneNumber:l},(function(){a.setState({ValidForm:a.state.ValidFirstName&&a.state.ValidLastName&&a.state.ValidPhoneNumber})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"General Settings"),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"entity-list entity-list-expandable"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-comment"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"FirstName",autoComplete:"off",value:this.state.FirstName,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"First Name"),s.a.createElement("div",{className:"text-danger"},this.state.Errors.FirstName))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-comment"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"LastName",autoComplete:"off",value:this.state.LastName,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Last Name"),s.a.createElement("div",{className:"text-danger"},this.state.Errors.LastName))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-birthday-cake"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"date",className:"form-control",name:"DateOfBirth",autoComplete:"off",value:this.state.DateOfBirth,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Date of Birth"))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"Male"===this.state.Gender?"fas fa-male":"fas fa-female"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"dropdown",style:{width:"193px",maxWidth:"296px"}},s.a.createElement("button",{id:"example-dropdown",className:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},s.a.createElement("span",null,this.state.Gender),s.a.createElement("span",{className:"caret"})),s.a.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){e.setState({Gender:"Male"})}},"Male")),s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){e.setState({Gender:"Female"})}},"Female"))))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Gender"))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-flag"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"Nationality",autoComplete:"off",value:this.state.Nationality,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Nationality"))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-phone"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"PhoneNumber",autoComplete:"off",placeholder:"+XXXXXXXXXXXX",value:this.state.PhoneNumber,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Phone Number"),s.a.createElement("div",{className:"text-danger"},this.state.Errors.PhoneNumber))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-location-arrow"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"Address",autoComplete:"off",value:this.state.Address,onChange:this.onChange,style:{width:"393px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Address"))),s.a.createElement("div",{className:"entity-list-item active"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-save"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Save Changes?"),s.a.createElement("div",{className:"content-text-secondary"},"This cannot be undone.")),s.a.createElement("div",{className:"item-content-expanded"},s.a.createElement("input",{type:"submit",value:"Save",className:"btn btn-primary",disabled:!this.state.ValidForm}))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.Preloader)}}]),t}(r.Component),vs=bs,fs=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.Token,Username:a.props.Username,Email:a.props.Email},a.setState({Preloader:s.a.createElement(ca,null)}),n.next=7,O.a.awrap(V(t).then((function(e){"Driver is updated."===e.Message&&a.props.OnOK(a.cancelButton),a.setState({Preloader:null})})));case 7:case"end":return n.stop()}}))},a.state={ConfirmCode:"",ValidConfirmCode:!1,ValidForm:!1,Preloader:null,Errors:{ConfirmCode:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidConfirmCode;r=t===this.props.Code,n.ConfirmCode=r?"":"Invalid code.",this.setState({Errors:n,ValidConfirmCode:r},(function(){a.setState({ValidForm:a.state.ValidConfirmCode})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"text-left"},s.a.createElement("div",{className:"modal in",id:"code-confirmation-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true",style:{display:"block"}},s.a.createElement("div",{className:"modal-dialog"},this.state.Preloader,s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("section",null,s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"modal-header"},s.a.createElement("img",{alt:"passcode.png",src:"./images/passcode.png",height:"60"}),s.a.createElement("div",{className:"type-h3"},"Email Confirmation"),s.a.createElement("div",{className:"type-sh3"},"We delivered a confirmation code to your email.")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Confirmation Code"),s.a.createElement("input",{type:"text",name:"ConfirmCode",className:"form-control",autocomplete:"off",value:this.state.ConfirmCode,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.ConfirmCode))))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),s.a.createElement("input",{type:"submit",value:"Confirm",className:"btn btn-primary",disabled:!this.state.ValidForm})))))))))}}]),t}(r.Component),gs=fs,Ns=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(w.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a,n,r;return O.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(t.preventDefault(),e.state.ValidForm){l.next=3;break}return l.abrupt("return");case 3:if(e.state.NewUsername!==e.state.Username||e.state.NewEmail!==e.state.Email){l.next=5;break}return l.abrupt("return");case 5:if(e.state.NewUsername===e.state.Username){l.next=12;break}return l.next=8,O.a.awrap(L(e.state.NewUsername));case 8:if("Username is unavailable."!==(a=l.sent).Message){l.next=12;break}return e.validateField("NewUsername",a.Message),l.abrupt("return");case 12:if(e.state.NewEmail===e.state.Email){l.next=19;break}return l.next=15,O.a.awrap(I(e.state.NewEmail));case 15:if("Email is already taken."!==(n=l.sent).Message){l.next=19;break}return e.validateField("NewEmail",n.Message),l.abrupt("return");case 19:if(e.state.NewEmail!==e.state.Email){l.next=27;break}return r={Token:localStorage.Token,Username:e.state.NewUsername,Email:e.state.NewEmail},e.setState({Preloader:s.a.createElement(ca,null)}),console.log("Going to update username..."),l.next=25,O.a.awrap(V(r).then((function(t){"Driver is updated."===t.Message&&e.props.OnSettingsSaved(),e.setState({Preloader:null})})));case 25:l.next=30;break;case 27:return console.log("Going to send code..."),l.next=30,O.a.awrap(U(e.state.NewEmail).then((function(t){"Code sent."===t.Message&&e.setState({CodeConfirmationDialog:s.a.createElement(gs,{Code:t.Code,Username:e.state.NewUsername,Email:e.state.NewEmail,OnCancel:function(){e.setState({CodeConfirmationDialog:null})},OnOK:function(t){t.click(),e.props.OnSettingsSaved()}})})})));case 30:case"end":return l.stop()}}))},e.state={Username:"",NewUsername:"",Email:"",NewEmail:"",Code:"",ValidNewUsername:!0,ValidNewEmail:!0,ValidForm:!1,CodeConfirmationDialog:null,Errors:{NewUsername:"",NewEmail:""},CodeConfirmation:""},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=4;break}return e={Token:localStorage.Token,Get:"Driver"},a.next=4,O.a.awrap(D(e).then((function(e){if("Driver found."===e.Message){var a=e.Driver;t.setState({Username:a.Username,NewUsername:a.Username,Email:a.Email,NewEmail:a.Email})}else t.setState({Username:"",NewUsername:"",Email:"",NewEmail:""})})));case 4:case"end":return a.stop()}}))}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidNewUsername,s=this.state.ValidNewEmail;switch(e){case"NewUsername":if(r=""!==t,n.NewUsername=r?"":"Username is required.",""!=n.NewUsername)break;if(r=t.match(/^[a-z0-9]+$/i),n.NewUsername=r?"":"Username is invalid.",""!=n.NewUsername)break;r="Username is unavailable."!==t,n.NewUsername=r?"":"Username is unavailable.";break;case"NewEmail":if(s=""!==t,n.NewEmail=s?"":"Email is required.",""!=n.NewEmail)break;if(s=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),n.NewEmail=s?"":"Email is invalid.",""!=n.NewEmail)break;s="Email is already taken."!==t,n.NewEmail=s?"":"Email is already taken."}this.setState({Errors:n,ValidNewUsername:r,ValidNewEmail:s},(function(){a.setState({ValidForm:a.state.ValidNewUsername&&a.state.ValidNewEmail})}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{class:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Username and Emails"),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{class:"entity-list entity-list-expandable"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-at"})),s.a.createElement("div",{class:"item-content-secondary"},s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{type:"text",name:"NewUsername",class:"form-control",autocomplete:"off",value:this.state.NewUsername,onChange:this.onChange}))),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Username"),s.a.createElement("div",{class:"content-text-secondary text-danger"},this.state.Errors.NewUsername))),s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-envelope"})),s.a.createElement("div",{class:"item-content-secondary"},s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{type:"email",name:"NewEmail",class:"form-control",placeholder:"someone@example.com",autocomplete:"off",value:this.state.NewEmail,onChange:this.onChange}))),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Email"),s.a.createElement("div",{class:"content-text-secondary text-danger"},this.state.Errors.NewEmail))),s.a.createElement("div",{class:"entity-list-item active"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-save"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Save Changes?"),s.a.createElement("div",{class:"content-text-secondary"},"This cannot be undone.")),s.a.createElement("div",{class:"item-content-expanded"},s.a.createElement("input",{type:"submit",value:"Save",class:"btn btn-primary",disabled:!this.state.ValidForm}))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.Preloader,this.state.CodeConfirmationDialog)}}]),t}(r.Component),ys=Ns,xs=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(w.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),e.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,Password:e.state.CurrentPassword},n.next=6,O.a.awrap(J(a).then((function(t){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("Invalid password."!==t.Message){n.next=4;break}e.validateField("CurrentPassword",t.Message),n.next=8;break;case 4:return a={Token:localStorage.Token,Password:e.state.NewPassword},e.setState({Preloader:s.a.createElement(ca,null)}),n.next=8,O.a.awrap(M(a).then((function(t){"Driver is updated."===t.Message&&e.props.OnSettingsSaved(),e.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))})));case 6:case"end":return n.stop()}}))},e.state={CurrentPassword:"",NewPassword:"",ConfirmPassword:"",ValidCurrentPassword:!1,ValidNewPassword:!1,ValidConfirmPassword:!1,ValidForm:!1,Preloader:null,Errors:{CurrentPassword:"",NewPassword:"",ConfirmPassword:""}},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a,n,r,s,l=this;return O.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:a=this.state.Errors,n=this.state.ValidCurrentPassword,r=this.state.ValidNewPassword,s=this.state.ValidConfirmPassword,c.t0=e,c.next="CurrentPassword"===c.t0?7:"NewPassword"===c.t0?14:"ConfirmPassword"===c.t0?17:20;break;case 7:if(n=""!==t,a.CurrentPassword=n?"":"Current password is required.",""===a.CurrentPassword){c.next=11;break}return c.abrupt("break",21);case 11:return n="Invalid password."!==t,a.CurrentPassword=n?"":"Current password is invalid.",c.abrupt("break",21);case 14:return r=t.length>=6,a.NewPassword=r?"":"Password is too short.",c.abrupt("break",21);case 17:return s=t===this.state.NewPassword,a.ConfirmPassword=s?"":"Passwords did not match.",c.abrupt("break",21);case 20:return c.abrupt("break",21);case 21:this.setState({Errors:a,ValidCurrentPassword:n,ValidNewPassword:r,ValidConfirmPassword:s},(function(){l.setState({ValidForm:l.state.ValidCurrentPassword&&l.state.ValidNewPassword&&l.state.ValidConfirmPassword})}));case 22:case"end":return c.stop()}}),null,this)}},{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement("div",{class:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Change Password"),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{class:"entity-list entity-list-expandable"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-key"})),s.a.createElement("div",{class:"item-content-secondary"},s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{type:"password",name:"CurrentPassword",class:"form-control",autoComplete:"off",value:this.state.CurrentPassword,onChange:this.onChange}))),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Current Password"),s.a.createElement("div",{class:"text-danger"},this.state.Errors.CurrentPassword))),s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-key"})),s.a.createElement("div",{class:"item-content-secondary"},s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{type:"password",name:"NewPassword",class:"form-control",autoComplete:"off",value:this.state.NewPassword,onChange:this.onChange}))),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"New Password"),s.a.createElement("div",{class:"text-danger"},this.state.Errors.NewPassword))),s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-key"})),s.a.createElement("div",{class:"item-content-secondary"},s.a.createElement("div",{class:"form-group"},s.a.createElement("input",{type:"password",name:"ConfirmPassword",class:"form-control",autoComplete:"off",value:this.state.ConfirmPassword,onChange:this.onChange}))),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Confirm Password"),s.a.createElement("div",{class:"text-danger"},this.state.Errors.ConfirmPassword))),s.a.createElement("div",{class:"entity-list-item active"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-save"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Save Changes?"),s.a.createElement("div",{class:"content-text-secondary"},"This cannot be undone.")),s.a.createElement("div",{class:"item-content-expanded"},s.a.createElement("input",{type:"submit",value:"Save",class:"btn btn-primary",disabled:!this.state.ValidForm}))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.Preloader)}}]),t}(r.Component),Ss=xs,Cs=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"SETTINGS"}),s.a.createElement(vs,{ref:"GeneralSettings",OnSettingsSaved:function(){e.refs.GeneralSettings.componentDidMount()}}),s.a.createElement(ys,{ref:"UsernameAndEmailSettings",OnSettingsSaved:function(){e.refs.UsernameAndEmailSettings.componentDidMount()}}),s.a.createElement(Ss,{ref:"PasswordSettings",OnSettingsSaved:function(){e.refs.PasswordSettings.forceUpdate()}}))}}]),t}(r.Component),Os=Cs,ws=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.BlockedUser;return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron",style:{height:"100vh"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-4 text-center"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"sad.svg",src:"./images/sad.svg","data-source-index":"2"})),s.a.createElement("div",{className:"col-md-20"},s.a.createElement("div",{className:"type-h3 color-default"},"".concat(e.FirstName," ").concat(e.LastName,", Your Account Has Been Blocked!")),s.a.createElement("div",{className:"type-sh3"},"Up to: ",s.a.createElement("span",{className:"color-default"},new Date(e.BlockDate).toDateString())),s.a.createElement("div",{className:"type-sh4"},"You cannot use Naqel's services until it is unblocked. See the reason, why our team has blocked your account."),s.a.createElement("p",null,s.a.createElement("span",{className:"color-default"},"REASON: "),e.Reason))))))}}]),t}(r.Component),ks=ws,Ps=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onCloseNavigation=function(){a.setState({Left:-400})},a.state={Left:-400,DashboardData:null,Searching:!1},a.onCloseNavigation=a.onCloseNavigation.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=5;break}return e={Token:localStorage.Token,Get:"DashboardData"},this.setState({Searching:!0}),a.next=5,O.a.awrap(D(e).then((function(e){"Dashboard data found."===e.Message?t.setState({DashboardData:e.DashboardData,Searching:!1}):t.setState({DashboardData:null,Searching:!1})})));case 5:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this;if(localStorage.Token){var t=this.state,a=t.DashboardData,n=t.Searching;return n||!a?s.a.createElement(nn,{Searching:n,SearchingFor:"driver"}):s.a.createElement("section",null,a.BlockedUser?s.a.createElement(ks,{BlockedUser:a.BlockedUser}):s.a.createElement("section",null,s.a.createElement("div",{className:"sidenav",style:{left:"".concat(this.state.Left,"px")}},s.a.createElement("a",{className:"closebtn",onClick:this.onCloseNavigation},"\xd7"),s.a.createElement("div",{class:"entity-list",role:"tablist"},s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#profile","aria-controls":"profile",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Profile")),s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#trucks","aria-controls":"trucks",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Trucks")),s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#permits","aria-controls":"permits",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Permits")),a.IsActiveAccount?s.a.createElement("section",null,s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#jobs","aria-controls":"jobs",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Jobs")),s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#earnings","aria-controls":"earnings",role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.onCloseNavigation(),t.next=3,O.a.awrap(e.RefreshEarnings());case 3:case"end":return t.stop()}}))}},"Earnings")),s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#payments","aria-controls":"payments",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Payments")),s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#questions","aria-controls":"questions",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Questions"))):null,s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#settings","aria-controls":"settings",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Settings")))),s.a.createElement("div",{className:"tab-content"},a.IsActiveAccount?null:s.a.createElement("div",{class:"alert alert-warning m-n"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-24"},s.a.createElement("p",null,s.a.createElement("span",{className:"fas fa-exclamation-circle m-r-xxxs"}),"Your account isn't yet activated by our team. Make sure to keep your profile up-to-date with your valid information. Our team will soon review your information. At the moment, you cannot use all Naqel services."))))),s.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"profile"},s.a.createElement(qa,null)),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"trucks"},s.a.createElement(Ya,null)),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"permits"},s.a.createElement(an,null)),a.IsActiveAccount?s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"earnings"},s.a.createElement(cn,{Refresh:function(t){e.RefreshEarnings=t}})):null,a.IsActiveAccount?s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"jobs"},s.a.createElement(Dr,null)):null,a.IsActiveAccount?s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"payments"},s.a.createElement(ns,null)):null,a.IsActiveAccount?s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"questions"},s.a.createElement(hs,null)):null,s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"settings"},s.a.createElement(Os,null))),s.a.createElement("div",{className:"side-nav-btn",onClick:function(){e.setState({Left:0})}},s.a.createElement("div",{className:"fas fa-bars",style:{fontSize:"x-large"}}))))}return s.a.createElement(E.a,{to:"/login"})}}]),t}(r.Component),js=Ps,Ts=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onImageUpload=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.state.Image=e.target.files[0],t=new FormData,n.prev=2,t.append("Image",a.state.Image,a.state.Image.name),n.next=6,O.a.awrap(P.a.post(g.a.IMAGE_UPLOADER,t,{onUploadProgress:function(e){a.setState({UploadProgress:s.a.createElement("div",{className:"progress-bar"},s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}))})}}).then((function(e){var t,n;return O.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if("Image uploaded successfully."!==(e=e.data).message){r.next=6;break}return t={Token:localStorage.Token,PhotoURL:e.imageUrl,FileName:e.filename},n=e.imageUrl,r.next=6,O.a.awrap(Oe(t).then((function(e){"Profile photo is updated."!==e.Message&&"Profile photo is added."!==e.Message||a.setState({PhotoURL:n,UploadProgress:null})})));case 6:case"end":return r.stop()}}))})).catch((function(){a.props.OnImageUploaded("Invalid Image."),a.setState({ImageURL:"./images/defaultProfilePhoto.png",UploadProgress:null})})));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(2),a.setState({UploadProgress:null}),n.abrupt("return");case 12:case"end":return n.stop()}}),null,null,[[2,8]])},a.onSubmit=function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault();case 1:case"end":return t.stop()}}))},a.state={Image:null,PhotoURL:"./images/defaultProfilePhoto.png",UploadProgress:null},a.onImageUpload=a.onImageUpload.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=4;break}return e={Token:localStorage.Token,Get:"ProfilePhoto"},a.next=4,O.a.awrap(Ce(e).then((function(e){if("Profile photo found."===e.Message){var a=e.ProfilePhoto;t.setState({PhotoURL:a.PhotoURL})}else t.setState({PhotoURL:"./images/defaultProfilePhoto.png"})})));case 4:case"end":return a.stop()}}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("input",{type:"file",onChange:this.onImageUpload,style:{display:"none"},ref:function(t){return e.fileInput=t}}),s.a.createElement("figure",{className:"media"},s.a.createElement("div",{className:"media-img media-img-has-play ratio-1-1"},s.a.createElement("a",{href:"#",onClick:function(){return e.fileInput.click()}},s.a.createElement("img",{style:{border:"5px solid #3A3A3C"},src:this.state.PhotoURL,alt:"ProfilePhoto.png"}),s.a.createElement("i",{className:"glyph glyph-edit"})))),this.state.UploadProgress)}}]),t}(r.Component),Rs=Ts,Ds=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){if(e.preventDefault(),a.state.ValidForm){var t={Token:localStorage.Token,IDNumber:a.state.IDNumber,PhotoURL:a.state.PhotoURL};console.log("Going to add Identity Card."),a.setState({Preloader:s.a.createElement(ca,null)}),function(e){return P.a.post("".concat(g.a.NAQEL_SERVER,"traders/addIdentityCard"),{IDNumber:e.IDNumber,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))}(t).then((function(e){"Identity card is added."===e.Message&&a.props.OnOK(a.cancelButton),a.setState({Preloader:null})}))}},a.state={IDNumber:"",PhotoURL:"./images/default_image.png",ValidIDNumber:!1,ValidPhotoURL:!1,ValidForm:!1,Preloader:null,Errors:{IDNumber:"",PhotoURL:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidIDNumber,s=this.state.ValidPhotoURL;switch(e){case"IDNumber":if(r=""!==t,n.IDNumber=r?"":"ID number is required.",""!==n.IDNumber)break;r=t>=1e9&&t<=9999999999,n.IDNumber=r?"":"ID number must be 10-digits long.";break;case"PhotoURL":s=null!==t,n.PhotoURL=s?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidIDNumber:r,ValidPhotoURL:s},(function(){a.setState({ValidForm:a.state.ValidIDNumber&&a.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"text-left"},s.a.createElement("div",{className:"modal",id:"add-identity-card-dialog",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("section",null,s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"modal-header"},s.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),s.a.createElement("div",{className:"type-h3"},"Add Identity Card")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement(wa,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"IdentityCard"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"ID Number"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"number",name:"IDNumber",className:"form-control",autoComplete:"off",required:!0,value:this.state.IDNumber,onChange:this.onChange,min:"1000000000",max:"9999999999"}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.IDNumber))))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),s.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(r.Component),As=Ds,Fs=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={AddIdentityCardDialog:null},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("button",{type:"button",className:"btn btn-primary",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#add-identity-card-dialog",onMouseDown:function(){e.setState({AddIdentityCardDialog:s.a.createElement(As,{OnCancel:function(){e.setState({AddIdentityCardDialog:null})},OnOK:function(t){t.click(),e.props.OnDocumentsUpdated()}})})}},s.a.createElement("span",{className:"fas fa-plus","aria-hidden":"true"})," Identity Card"),this.state.AddIdentityCardDialog)}}]),t}(r.Component),Ls=Fs,Is=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){if(e.preventDefault(),a.state.ValidForm){var t={Token:localStorage.Token,Number:a.state.Number,Type:a.state.Type,PhotoURL:a.state.PhotoURL};console.log("Going to add commercial register certificate."),a.setState({Preloader:s.a.createElement(ca,null)}),function(e){return P.a.post("".concat(g.a.NAQEL_SERVER,"traders/addCommercialRegisterCertificate"),{Number:e.Number,Type:e.Type,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))}(t).then((function(e){"Commercial register certificate is added."===e.Message&&a.props.OnOK(a.cancelButton),a.setState({Preloader:null})}))}},a.state={Number:mn()().substring(0,7).toUpperCase(),Type:"",PhotoURL:"./images/default_image.png",ValidType:!1,ValidPhotoURL:!1,ValidForm:!1,Preloader:null,Errors:{Type:"",PhotoURL:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidType,s=this.state.ValidPhotoURL;switch(e){case"Type":r=""!==t,n.Type=r?"":"Certificate type is required.";break;case"PhotoURL":s=null!==t,n.PhotoURL=s?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidType:r,ValidPhotoURL:s},(function(){a.setState({ValidForm:a.state.ValidType&&a.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"text-left"},s.a.createElement("div",{className:"modal",id:"add-commercial-register-certificate-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("section",null,s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"modal-header"},s.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),s.a.createElement("div",{className:"type-h3"},"Add Commercial Register Certificate")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement(wa,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"CommercialRegisterCertificate"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Certificate Number"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"text",name:"Number",className:"form-control",autoComplete:"off",readOnly:!0,value:this.state.Number,onChange:this.onChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Certificate Type"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"text",name:"Type",className:"form-control",autoComplete:"off",required:!0,value:this.state.Type,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.Type))))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),s.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(r.Component),Us=Is,Vs=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={AddCommercialRegisterCertificateDialog:null},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("button",{type:"button",className:"btn btn-primary",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#add-commercial-register-certificate-dialog",onMouseDown:function(){e.setState({AddCommercialRegisterCertificateDialog:s.a.createElement(Us,{OnCancel:function(){e.setState({AddCommercialRegisterCertificateDialog:null})},OnOK:function(t){t.click(),e.props.OnDocumentsUpdated()}})})}},s.a.createElement("span",{className:"fas fa-plus","aria-hidden":"true"})," CR Certificate"),this.state.AddCommercialRegisterCertificateDialog)}}]),t}(r.Component),Js=Vs,Ms=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){if(e.preventDefault(),a.state.ValidForm){var t={Token:localStorage.Token,IDNumber:a.state.IDNumber,PhotoURL:a.state.PhotoURL};console.log("Going to update Identity Card."),a.setState({Preloader:s.a.createElement(ca,null)}),function(e){return P.a.post("".concat(g.a.NAQEL_SERVER,"traders/updateIdentityCard"),{IDNumber:e.IDNumber,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))}(t).then((function(e){"Identity card is updated."===e.Message&&a.props.OnOK(a.cancelButton),a.setState({Preloader:null})}))}},a.state={IDNumber:"",PhotoURL:"./images/default_image.png",ValidIDNumber:!0,ValidPhotoURL:!0,ValidForm:!1,Preloader:null,Errors:{IDNumber:"",PhotoURL:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.Token){this.setState({Preloader:s.a.createElement(ca,null)});var t={Token:localStorage.Token,Get:"IdentityCard"};Ce(t).then((function(t){if("Identity card found."===t.Message){var a=t.IdentityCard;e.setState({IDNumber:a.IDNumber,PhotoURL:a.PhotoURL,Preloader:null})}else e.setState({IDNumber:"",PhotoURL:"./images/default_image.png",Preloader:null})}))}}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidIDNumber,s=this.state.ValidPhotoURL;switch(e){case"IDNumber":if(r=""!==t,n.IDNumber=r?"":"ID number is required.",""!==n.IDNumber)break;r=t>=1e9&&t<=9999999999,n.IDNumber=r?"":"ID number must be 10-digits long.";break;case"PhotoURL":s=null!==t,n.PhotoURL=s?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidIDNumber:r,ValidPhotoURL:s},(function(){a.setState({ValidForm:a.state.ValidIDNumber&&a.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal",id:"edit-identity-card-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("section",null,s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"modal-header"},s.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),s.a.createElement("div",{className:"type-h3"},"Edit Identity Card")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement(wa,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"IdentityCard"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"ID Number"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"number",name:"IDNumber",className:"form-control",autoComplete:"off",required:!0,value:this.state.IDNumber,onChange:this.onChange,min:"1000000000",max:"99999999999"}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.IDNumber))))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),s.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(r.Component),Bs=Ms,qs=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDelete=function(){a.setState({Preloader:s.a.createElement(ca,null)});var e={Token:localStorage.Token};console.log("Going to delete Identity Card."),function(e){return P.a.delete("".concat(g.a.NAQEL_SERVER,"traders/deleteIdentityCard"),{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))}(e).then((function(e){console.log(e),"Identity card is deleted."===e.Message&&a.props.OnDocumentsUpdated(),a.setState({Preloader:null})}))},a.onRefresh=function(){if(localStorage.Token){var e={Token:localStorage.Token,Get:"IdentityCard"};Ce(e).then((function(e){if("Identity card found."===e.Message){var t=e.IdentityCard;a.setState({IdentityCardID:t.IdentityCardID,IDNumber:t.IDNumber,PhotoURL:t.PhotoURL})}else a.setState({IdentityCardID:"",IDNumber:"",PhotoURL:"./images/default_image.png"})}))}},a.state={Key:Math.floor(100*Math.random()),IdentityCardID:"",IDNumber:"",PhotoURL:"./images/default_image.png",EditIdentityCardDialog:null,Preloader:null},a.onDelete=a.onDelete.bind(Object(h.a)(a)),a.onRefresh=a.onRefresh.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"render",value:function(){var e=this;return s.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#identity-card-".concat(this.state.IdentityCardID)},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon",style:{borderRadius:"50%"}},s.a.createElement("span",{className:"glyph glyph-add"}),s.a.createElement("span",{className:"glyph glyph-remove"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},s.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"".concat(this.props.Index,"."))),s.a.createElement("div",{className:"content-text-secondary"},s.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"IDENTITY CARD")))))),s.a.createElement("div",{className:"collapse",id:"identity-card-".concat(this.state.IdentityCardID)},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:this.state.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),s.a.createElement("div",{className:"col-md-18"},s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Identity Card"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-hashtag"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"ID Number"),s.a.createElement("div",{className:"content-text-secondary"},this.state.IDNumber)))))))))),s.a.createElement("div",{style:{backgroundColor:"#E5E5E5",textAlign:"right",padding:"10px"}},s.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#edit-identity-card-dialog",onMouseDown:function(){e.setState({EditIdentityCardDialog:s.a.createElement(Bs,{OnCancel:function(){e.setState({EditIdentityCardDialog:null})},OnOK:function(t){t.click(),e.onRefresh()}})})}},"Edit"),s.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){e.onDelete()}},"Delete"))),this.state.Preloader,this.state.EditIdentityCardDialog)}}]),t}(r.Component),Qs=qs,Ws=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onRefresh=function(){if(a.setState({Preloader:s.a.createElement(ca,null)}),localStorage.Token){var e={Token:localStorage.Token,Get:"CommercialRegisterCertificate"};Ce(e).then((function(e){if("Commercial register certificate found."===e.Message){var t=e.CommercialRegisterCertificate;a.setState({Number:t.Number,Type:t.Type,PhotoURL:t.PhotoURL,Preloader:null})}else a.setState({Number:"",Type:"",PhotoURL:"./images/default_image.png",Preloader:null})}))}},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){if(e.preventDefault(),a.state.ValidForm){var t={Token:localStorage.Token,Number:a.state.Number,Type:a.state.Type,PhotoURL:a.state.PhotoURL};console.log("Going to update commercial register certificate."),a.setState({Preloader:s.a.createElement(ca,null)}),function(e){return P.a.post("".concat(g.a.NAQEL_SERVER,"traders/updateCommercialRegisterCertificate"),{Number:e.Number,Type:e.Type,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))}(t).then((function(e){"Commercial register certificate is updated."===e.Message&&a.props.OnOK(a.cancelButton),a.setState({Preloader:null})}))}},a.state={Number:"",Type:"",PhotoURL:"./images/default_image.png",ValidType:!0,ValidPhotoURL:!0,ValidForm:!1,Preloader:null,Errors:{Type:"",PhotoURL:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a.onRefresh=a.onRefresh.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidType,s=this.state.ValidPhotoURL;switch(e){case"Type":r=""!==t,n.Type=r?"":"Certificate type is required.";break;case"PhotoURL":s=null!==t,n.PhotoURL=s?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidType:r,ValidPhotoURL:s},(function(){a.setState({ValidForm:a.state.ValidType&&a.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal",id:"edit-commercial-register-certificate-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("section",null,s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"modal-header"},s.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),s.a.createElement("div",{className:"type-h3"},"Edit Commercial Register Certificate")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement(wa,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"IdentityCard"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Certificate Number"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"text",name:"Number",className:"form-control",autoComplete:"off",readOnly:!0,value:this.state.Number,onChange:this.onChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Certificate Type"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"text",name:"Type",className:"form-control",autoComplete:"off",required:!0,value:this.state.Type,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.Type))))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),s.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(r.Component),Gs=Ws,_s=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDelete=function(){a.setState({Preloader:s.a.createElement(ca,null)});var e={Token:localStorage.Token};console.log("Going to delete commercial register certificate."),function(e){return P.a.delete("".concat(g.a.NAQEL_SERVER,"traders/deleteCommercialRegisterCertificate"),{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))}(e).then((function(e){"Commercial register certificate is deleted."===e.Message&&a.props.OnDocumentsUpdated(),a.setState({Preloader:null})}))},a.onRefresh=function(){if(localStorage.Token){var e={Token:localStorage.Token,Get:"CommercialRegisterCertificate"};Ce(e).then((function(e){if("Commercial register certificate found."===e.Message){var t=e.CommercialRegisterCertificate;a.setState({ID:t.ID,Number:t.Number,Type:t.Type,PhotoURL:t.PhotoURL})}else a.setState({ID:"",Number:"",Type:"",PhotoURL:"./images/default_image.png"})}))}},a.state={ID:"",Number:"",Type:"",PhotoURL:"./images/default_image.png",EditCommercialRegisterCertificateDialog:null,Preloader:null},a.onDelete=a.onDelete.bind(Object(h.a)(a)),a.onRefresh=a.onRefresh.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"render",value:function(){var e=this;return s.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#commercial-register-certificate-".concat(this.state.ID)},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon",style:{borderRadius:"50%"}},s.a.createElement("span",{className:"glyph glyph-add"}),s.a.createElement("span",{className:"glyph glyph-remove"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},s.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"".concat(this.props.Index,"."))),s.a.createElement("div",{className:"content-text-secondary"},s.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"COMMERCIAL REGISTER CERTIFICATE")))))),s.a.createElement("div",{className:"collapse",id:"commercial-register-certificate-".concat(this.state.ID)},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:this.state.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),s.a.createElement("div",{className:"col-md-18"},s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Commercial Register Certificate"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-hashtag"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Certificate Number"),s.a.createElement("div",{className:"content-text-secondary"},this.state.Number)))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-cog"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Certificate Type"),s.a.createElement("div",{className:"content-text-secondary"},this.state.Type)))))))))),s.a.createElement("div",{style:{backgroundColor:"#E5E5E5",textAlign:"right",padding:"10px"}},s.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#edit-commercial-register-certificate-dialog",onMouseDown:function(){e.setState({EditCommercialRegisterCertificateDialog:s.a.createElement(Gs,{OnCancel:function(){e.setState({EditCommercialRegisterCertificateDialog:null})},OnOK:function(t){t.click(),e.onRefresh()}})})}},"Edit"),s.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){e.onDelete()}},"Delete"))),this.state.Preloader,this.state.EditCommercialRegisterCertificateDialog)}}]),t}(r.Component),zs=_s,Hs=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDocumentsUpdated=function(){var e,t,n=0;if(localStorage.Token){var r={Token:localStorage.Token,Get:"IdentityCard"};Ce(r).then((function(l){console.log(l),e="Identity card found."===l.Message?l.IdentityCard:void 0,r={Token:localStorage.Token,Get:"CommercialRegisterCertificate"},Ce(r).then((function(r){t="Commercial register certificate found."===r.Message?r.CommercialRegisterCertificate:void 0,e?a.setState({AddIdentityCardButton:null,IdentityCardListItem:s.a.createElement(Qs,{Index:++n,OnDocumentsUpdated:a.onDocumentsUpdated})}):a.setState({AddIdentityCardButton:s.a.createElement(Ls,{OnDocumentsUpdated:a.onDocumentsUpdated}),IdentityCardListItem:null}),t?a.setState({AddCommercialRegisterCertificateButton:null,CommercialRegisterCertificateListItem:s.a.createElement(zs,{Index:++n,OnDocumentsUpdated:a.onDocumentsUpdated})}):a.setState({AddCommercialRegisterCertificateButton:s.a.createElement(Js,{OnDocumentsUpdated:a.onDocumentsUpdated}),CommercialRegisterCertificateListItem:null})}))}))}},a.state={AddIdentityCardButton:null,AddCommercialRegisterCertificateButton:null,IdentityCardListItem:null,CommercialRegisterCertificateListItem:null},a.onDocumentsUpdated=a.onDocumentsUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){console.log("I'm Here.. Going to update documents..."),this.onDocumentsUpdated()}},{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 back-color-gray m-n p-xxs"},"Documents"),s.a.createElement("div",{className:"text-right back-color-gray p-xxs"},this.state.AddIdentityCardButton,this.state.AddCommercialRegisterCertificateButton),s.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},this.state.IdentityCardListItem,this.state.CommercialRegisterCertificateListItem))}}]),t}(r.Component),Ks=Hs,Ys=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={Username:"",Email:"",FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:"",Type:"",Active:null},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=4;break}return e={Token:localStorage.Token,Get:"Trader"},a.next=4,O.a.awrap(Ce(e).then((function(e){if("Trader found."===e.Message){var a=e.Trader;t.setState({Username:a.Username,Email:a.Email,FirstName:a.FirstName,LastName:a.LastName,Address:a.Address,PhoneNumber:a.PhoneNumber,Gender:a.Gender,Nationality:a.Nationality,DateOfBirth:a.DateOfBirth,Type:a.Type,Active:a.Active})}})));case 4:case"end":return a.stop()}}))}},{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"PROFILE"}),s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement(Rs,null)),s.a.createElement("div",{className:"col-md-18"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"".concat(this.state.FirstName," ").concat(this.state.LastName)),s.a.createElement("div",{className:"type-sh3"},s.a.createElement("span",{className:"fas fa-briefcase m-r-xxxs",style:{color:"#606060"}}),this.state.Type),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-globe-asia"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Active"),s.a.createElement("div",{className:"content-text-secondary"},1===this.state.Active?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}))))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-phone"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Phone Number"),s.a.createElement("div",{className:"content-text-secondary"},this.state.PhoneNumber))))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-at"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Username"),s.a.createElement("div",{className:"content-text-secondary"},this.state.Username)))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-envelope"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Email"),s.a.createElement("div",{className:"content-text-secondary"},this.state.Email)))))))))),s.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#333333"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3",style:{paddingTop:"0px"}},"Details"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list theme-alt"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon",style:{backgroundColor:"transparent"}},s.a.createElement("span",{className:"fas fa-birthday-cake color-default"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Birthday"),s.a.createElement("div",{className:"content-text-secondary"},this.state.DateOfBirth)))),s.a.createElement("div",{className:"entity-list theme-alt"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon",style:{backgroundColor:"transparent"}},s.a.createElement("span",{className:"Male"===this.state.Gender?"fas fa-male color-default":"fas fa-female color-default"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Gender"),s.a.createElement("div",{className:"content-text-secondary"},this.state.Gender))))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list theme-alt"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon",style:{backgroundColor:"transparent"}},s.a.createElement("span",{className:"fas fa-flag color-default"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Nationality"),s.a.createElement("div",{className:"content-text-secondary"},this.state.Nationality)))),s.a.createElement("div",{className:"entity-list theme-alt"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon",style:{backgroundColor:"transparent"}},s.a.createElement("span",{className:"fas fa-map-marker-alt color-default"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Address"),s.a.createElement("div",{className:"content-text-secondary"},this.state.Address)))))))))),s.a.createElement(Ks,null))}}]),t}(r.Component),$s=Ys,Xs=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.DrivingLicence;return e?s.a.createElement("section",null,s.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:e.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),s.a.createElement("div",{className:"col-md-16"},s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Driving Licence"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-hashtag"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Licence Number"),s.a.createElement("div",{class:"content-text-secondary"},e.LicenceNumber)))),s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-cog"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Licence Type"),s.a.createElement("div",{class:"content-text-secondary"},e.Type)))),s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-calendar"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Release Date"),s.a.createElement("div",{class:"content-text-secondary"},new Date(e.ReleaseDate).toDateString())))),s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-calendar"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Expiry Date"),s.a.createElement("div",{class:"content-text-secondary"},new Date(e.ExpiryDate).toDateString())))))))))))):null}}]),t}(r.Component),Zs=Xs,el=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.EntryExitCard;return e?s.a.createElement("section",null,s.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Entry/Exit Card"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-hashtag"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Entry/Exit Number"),s.a.createElement("div",{class:"content-text-secondary"},e.EntryExitNumber)))),s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-cog"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Card Type"),s.a.createElement("div",{class:"content-text-secondary"},e.Type)))),s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-calendar"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Release Date"),s.a.createElement("div",{class:"content-text-secondary"},new Date(e.ReleaseDate).toDateString())))),s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-hashtag"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Number of Months"),s.a.createElement("div",{class:"content-text-secondary"},e.NumberOfMonths)))))))))))):null}}]),t}(r.Component),tl=el,al=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.IdentityCard;return e?s.a.createElement("section",null,s.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:e.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),s.a.createElement("div",{className:"col-md-16"},s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Identity Card"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-hashtag"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"ID Number"),s.a.createElement("div",{class:"content-text-secondary"},e.IDNumber)))))))))))):null}}]),t}(r.Component),nl=al,rl=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return a.setState({Searching:!0}),e={Get:"DriverDocuments",Params:{DriverID:a.props.DriverID}},t.next=5,O.a.awrap(pn(e).then((function(e){"Driver documents found."===e.Message?a.setState({DriverDocuments:e.DriverDocuments,Searching:!1}):a.setState({DriverDocuments:null,Searching:!1})})));case 5:case"end":return t.stop()}}))},a.state={DriverDocuments:null,Searching:!1},a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state.DriverDocuments;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"documents-dialog-".concat(this.props.DialogID),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal"},s.a.createElement("span",{className:"fas fa-times"}))),s.a.createElement("div",{className:"type-h2",style:{color:"#008575",paddingTop:"0px"}},"Documents")),s.a.createElement("div",{className:"modal-body"},this.state.Searching||!e?s.a.createElement(nn,{Searching:this.state.Searching,SearchingFor:"documents"}):s.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},s.a.createElement(nl,{IdentityCard:e.IdentityCard}),s.a.createElement(Zs,{DrivingLicence:e.DrivingLicence}),s.a.createElement(tl,{EntryExitCard:e.EntryExitCard})))))))}}]),t}(r.Component),sl=rl,ll=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return a.setState({Searching:!0}),e={Get:"DriverProfile",Params:{DriverID:a.props.DriverID}},t.next=5,O.a.awrap(pn(e).then((function(e){"Driver profile found."===e.Message?a.setState({DriverProfile:e.DriverProfile,Searching:!1}):a.setState({DriverProfile:null,Searching:!1})})));case 5:case"end":return t.stop()}}))},a.refresh=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Get:"DriverProfile",Params:{DriverID:a.props.DriverID}},t.next=4,O.a.awrap(pn(e).then((function(e){"Driver profile found."===e.Message?a.setState({DriverProfile:e.DriverProfile}):a.setState({DriverProfile:null})})));case 4:case"end":return t.stop()}}))},a.state={DriverProfile:null,Searching:!1},a.refresh=a.refresh.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.Refresh(this.refresh),e.next=3,O.a.awrap(this.onComponentUpdated());case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){if(this.state.Searching||!this.state.DriverProfile)return s.a.createElement(nn,{Searching:this.state.Searching,SearchingFor:"driver"});var e=this.state.DriverProfile,t=e.Driver,a=e.RatingAndReviews,n=e.OnJob,r=e.ProfilePhoto?e.ProfilePhoto:"./images/defaultProfilePhoto.png",l=mn()().substring(0,7).toUpperCase();return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:r,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),s.a.createElement("div",{className:"col-md-18"},s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"".concat(t.FirstName," ").concat(t.LastName," "),n?s.a.createElement("span",{class:"badge back-color-golden"},"ON JOB"):null),s.a.createElement("div",{className:"type-sh3"},s.a.createElement("span",{className:"fas fa-car m-r-xxs",style:{color:"#606060"}}),"Driver"),s.a.createElement("div",{className:"type-sh3"},s.a.createElement("span",null,s.a.createElement(Ma,{Rating:a.Reviews>0?a.Rating:0,Color:"",Size:"rating-small",Label:a.Reviews>0?"(".concat(a.Reviews," Review(s))"):"No Reviews"}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-globe-asia"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Active"),s.a.createElement("div",{className:"content-text-secondary"},1===t.Active?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}))))),s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"Male"===t.Gender?"fas fa-male":"fas fa-female"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Gender"),s.a.createElement("div",{class:"content-text-secondary"},t.Gender)))),s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-birthday-cake"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Birthday"),s.a.createElement("div",{class:"content-text-secondary"},t.DateOfBirth))))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-envelope"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Email"),s.a.createElement("div",{class:"content-text-secondary"},t.Email)))),s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-phone"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Phone Number"),s.a.createElement("div",{class:"content-text-secondary"},t.PhoneNumber)))),s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-flag"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Nationality"),s.a.createElement("div",{class:"content-text-secondary"},t.Nationality)))))),this.props.TabView?null:s.a.createElement("button",{type:"button",className:"btn btn-default",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#documents-dialog-".concat(l)},"Documents"))))),this.props.TabView?null:s.a.createElement(sl,{DialogID:l,DriverID:this.props.DriverID}))}}]),t}(r.Component),cl=ll,ol=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.Index,t=this.props.Trailer;return s.a.createElement("section",null,s.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:t.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),s.a.createElement("div",{className:"col-md-16"},s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"".concat(e+1,".")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-weight"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Maximum Weight"),s.a.createElement("div",{class:"content-text-secondary"},"".concat(t.MaximumWeight," GVM"))))),s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-cog"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Trailer Type"),s.a.createElement("div",{class:"content-text-secondary"},t.Type))))))))))))}}]),t}(r.Component),il=ol,ml=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.Trailers,t=e.length>0?s.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},e.map((function(e,t){return s.a.createElement(il,{key:t,Index:t,Trailer:e})}))):null;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"trailers-dialog-".concat(this.props.DialogID),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal"},s.a.createElement("span",{className:"fas fa-times"}))),s.a.createElement("div",{className:"type-h2",style:{color:"#008575",paddingTop:"0px"}},"Trailers")),s.a.createElement("div",{className:"modal-body"},0===e.length?s.a.createElement(nn,{Searching:!1,SearchingFor:"trailers"}):t)))))}}]),t}(r.Component),dl=ml,ul=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return a.setState({Searching:!0}),e={Get:"TruckProfile",Params:{DriverID:a.props.DriverID}},t.next=5,O.a.awrap(pn(e).then((function(e){"Truck profile found."===e.Message?(a.props.OnTrailersFound&&a.props.OnTrailersFound(e.TruckProfile.Trailers),a.setState({TruckProfile:e.TruckProfile,Searching:!1})):a.setState({TruckProfile:null,Searching:!1})})));case 5:case"end":return t.stop()}}))},a.refresh=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Get:"TruckProfile",Params:{DriverID:a.props.DriverID}},t.next=4,O.a.awrap(pn(e).then((function(e){"Truck profile found."===e.Message?(a.props.OnTrailersFound&&a.props.OnTrailersFound(e.TruckProfile.Trailers),a.setState({TruckProfile:e.TruckProfile})):a.setState({TruckProfile:null})})));case 4:case"end":return t.stop()}}))},a.state={TruckProfile:null,Searching:!1},a.refresh=a.refresh.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.Refresh(this.refresh),e.next=3,O.a.awrap(this.onComponentUpdated());case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){if(this.state.Searching||!this.state.TruckProfile)return s.a.createElement(nn,{Searching:this.state.Searching,SearchingFor:"truck"});var e=this.state.TruckProfile,t=e.Truck,a=mn()().substring(0,7).toUpperCase();return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:t.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),s.a.createElement("div",{className:"col-md-18"},s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"".concat(t.Brand," ").concat(t.Model)),s.a.createElement("div",{className:"type-sh3"},s.a.createElement("span",{className:"fas fa-truck",style:{color:"#606060"}}),"   ",t.Type),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-list-ol"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Plate Number"),s.a.createElement("div",{class:"content-text-secondary"},t.PlateNumber)))),s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-user"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Owner"),s.a.createElement("div",{class:"content-text-secondary"},t.Owner))))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-calendar-day"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Production Year"),s.a.createElement("div",{class:"content-text-secondary"},t.ProductionYear)))),s.a.createElement("div",{class:"entity-list"},s.a.createElement("div",{class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-weight"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Maximum Weight"),s.a.createElement("div",{class:"content-text-secondary"},"".concat(t.MaximumWeight," GVW"))))))),this.props.TabView?null:s.a.createElement("button",{type:"button",className:"btn btn-default",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#trailers-dialog-".concat(a)},"Trailers"))))),this.props.TabView?null:s.a.createElement(dl,{Trailers:e.Trailers,DialogID:a}))}}]),t}(r.Component),pl=ul,El=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:if(!a.props.IsRequestSent()){n.next=5;break}return n.abrupt("return");case 5:return t={Token:localStorage.Token,JobRequestID:a.props.JobRequest.JobRequestID,CargoType:a.state.CargoType,CargoWeight:a.state.CargoWeight,LoadingDate:a.state.LoadingDate,LoadingTime:a.state.LoadingTime,EntryExit:a.state.EntryExit,AcceptedDelay:a.state.AcceptedDelay},console.log("Going to add trader request..."),a.setState({Preloader:s.a.createElement(ca,null)}),n.next=10,O.a.awrap(Ie(t).then((function(e){"Trader request is added."===e.Message?(a.setState({Preloader:null}),a.cancelButton.click(),a.props.OnOK(e.TraderRequest)):a.setState({Preloader:null})})));case 10:case"end":return n.stop()}}))},a.state={CargoType:"",CargoWeight:0,LoadingDate:new Date,LoadingTime:(new Date).getTime(),AcceptedDelay:0,EntryExit:0,ValidCargoType:!1,ValidCargoWeight:!1,ValidLoadingDate:!1,ValidLoadingTime:!1,ValidAcceptedDelay:!1,ValidForm:!1,Preloader:null,Errors:{CargoType:"",CargoWeight:"",LoadingDate:"",LoadingTime:"",AcceptedDelay:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidCargoType,s=this.state.ValidCargoWeight,l=this.state.ValidLoadingDate,c=this.state.ValidLoadingTime,o=this.state.ValidAcceptedDelay;switch(e){case"CargoType":r=""!==t,n.CargoType=r?"":"Cargo type is required.";break;case"CargoWeight":if(s=""!==t,n.CargoWeight=s?"":"Cargo weight is required.",""!==n.CargoWeight)break;s=t>=100,n.CargoWeight=s?"":"Cargo weight must be greater than 100 lbs.";break;case"LoadingDate":if(l=""!==t,n.LoadingDate=l?"":"Loading date is required.",""!==n.LoadingDate)break;l=new Date(t)>=new Date,n.LoadingDate=l?"":"Loading date must be later than yesterday.";break;case"LoadingTime":c=""!==t,n.LoadingTime=c?"":"Loading time is required.";break;case"AcceptedDelay":if(o=""!==t,n.AcceptedDelay=o?"":"Accepted delay is required.",""!==n.AcceptedDelay)break;o=t>=0&&t<=48,n.AcceptedDelay=o?"":"Accepted delay can be in the range of 0 to 48 hours."}this.setState({Errors:n,ValidCargoType:r,ValidCargoWeight:s,ValidLoadingDate:l,ValidLoadingTime:c,ValidAcceptedDelay:o},(function(){a.setState({ValidForm:a.state.ValidCargoType&&a.state.ValidCargoWeight&&a.state.ValidLoadingDate&&a.state.ValidLoadingTime&&a.state.AcceptedDelay})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"send-trader-reqeust-dialog-".concat(this.props.DialogID),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"type-h3 color-default p-t-xxs"},"Send Request"),s.a.createElement("div",{className:"row p-t-xxs"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Cargo Type"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"text",name:"CargoType",className:"form-control",autoComplete:"off",value:this.state.CargoType,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.CargoType)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Cargo Weight (lbs)"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",name:"CargoWeight",className:"form-control",autoComplete:"off",value:this.state.CargoWeight,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.CargoWeight)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Accepted Delay (Hours)"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",name:"AcceptedDelay",className:"form-control",autoComplete:"off",value:this.state.AcceptedDelay,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.AcceptedDelay))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Loading Date"),s.a.createElement("span",{className:"text-danger",style:sa},"*"),s.a.createElement("input",{type:"date",name:"LoadingDate",className:"form-control",autoComplete:"off",value:this.state.LoadingDate,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.LoadingDate)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Loading Time"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"time",name:"LoadingTime",className:"form-control",autoComplete:"off",value:this.state.LoadingTime,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.LoadingTime)),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"checkbox"},s.a.createElement("label",{className:"control-label"},s.a.createElement("input",{type:"checkbox",name:"EntryExit",value:this.state.EntryExit,onChange:function(){e.state.EntryExit=e.state.EntryExit?0:1}}),s.a.createElement("span",null,"Entry/Exit")))))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Send",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))))}}]),t}(r.Component),hl=El,bl=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"trader-request-dialog-".concat(this.props.Index),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal"},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement(fn,{TraderRequest:this.props.TraderRequest}))))))}}]),t}(r.Component),vl=bl,fl=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onAssignNow=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.props.CanAssign()){t.next=2;break}return t.abrupt("return");case 2:return a.setState({ShowPreloader:!0}),e={Token:localStorage.Token,TraderRequestID:a.props.TraderRequestID},console.log("Going to add on-going job..."),t.next=7,O.a.awrap(Qe(e).then((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if("On-going job is added."!==e.Message){t.next=7;break}return a.setState({ShowPreloader:!1}),a.cancelButton.click(),t.next=5,O.a.awrap(a.props.OnOK());case 5:t.next=8;break;case 7:a.setState({ShowPreloader:!1});case 8:case"end":return t.stop()}}))})));case 7:case"end":return t.stop()}}))},a.state={ShowPreloader:!1},a.onAssignNow=a.onAssignNow.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.Index,a=this.props.Driver,n=this.props.Price;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"assign-from-request-dialog-".concat(t),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.ShowPreloader?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{class:"jumbotron"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-24"},s.a.createElement("img",{alt:"new.png",src:"./images/new.png",height:"80"}),s.a.createElement("div",{class:"type-h4"},"You are About to Start a New Job with ",s.a.createElement("span",{class:"color-default"},"".concat(a.FirstName," ").concat(a.LastName)),"."),s.a.createElement("div",{class:"type-sh3"},"Your Payment Amount is ",s.a.createElement("span",{class:"color-default"},"$".concat(n)),"."),s.a.createElement("p",null,s.a.createElement("span",{class:"color-default"},"Important Note:")," After this step, you'll be engaged in an On-Going Job. You have to pay ",s.a.createElement("span",{class:"color-default"},"$".concat(n))," after the completion of your job from the ",s.a.createElement("span",{class:"color-default"},"Payments")," section."),s.a.createElement("div",{class:"text-right"},s.a.createElement("button",{class:"btn btn-primary",onClick:this.onAssignNow},"Assign Now")))))))))))}}]),t}(r.Component),gl=fl,Nl=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onCancelRequest=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({Preloader:s.a.createElement(ca,null)}),t={Token:localStorage.Token,JobRequestID:e.JobRequestID},console.log("Going to delete Trader request..."),n.next=5,O.a.awrap(Ue(t).then((function(t){"Trader request is deleted."===t.Message&&a.props.OnRequestUpdated(e,null),a.setState({Preloader:null})})));case 5:case"end":return n.stop()}}))},a.state={Preloader:null},a.onCancelRequest=a.onCancelRequest.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props.Index,n=this.props.JobRequestPost.JobRequest,r=this.props.JobRequestPost.Driver,l=this.props.JobRequestPost.DriverOnJob,c=this.props.TraderOnJob,o=this.props.JobRequestPost.TraderRequest,i=!l&&!c,m=mn()();return e=o?o.Selected?s.a.createElement("span",{class:"badge back-color-golden m-l-xxs"},"REQUEST ACCEPTED"):s.a.createElement("span",{class:"badge back-color-default m-l-xxs"},"REQUEST SENT"):null,s.a.createElement("section",null,s.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement("div",{className:"jumbotron p-xxxs back-color-gray"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"type-h5 color-default p-t-n"},"".concat(a+1,"."),e),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-user"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Posted By"),s.a.createElement("div",{className:"content-text-secondary"},"".concat(r.FirstName," ").concat(r.LastName),l?s.a.createElement("span",{class:"badge back-color-danger m-l-xxs"},"ON JOB"):null)))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-clock"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Posted On"),s.a.createElement("div",{className:"content-text-secondary"},new Date(n.TimeCreated).toDateString()))))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-tag"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Price"),s.a.createElement("div",{className:"content-text-secondary"},"$".concat(n.Price)))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas  fa-map-marker-alt"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"From "),s.a.createElement("div",{className:"content-text-secondary"},n.LoadingPlace),s.a.createElement("div",{className:"content-text-primary"},"To"),s.a.createElement("div",{className:"content-text-secondary"},n.UnloadingPlace))))),s.a.createElement("div",{className:"text-right"},o?s.a.createElement("section",null,s.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(t.onCancelRequest(n));case 2:case"end":return e.stop()}}))}},"Cancel Request"),s.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#trader-request-dialog-".concat(a)},"View Request"),o&&o.Selected?s.a.createElement("button",{className:"btn btn-primary",disabled:!i,"data-toggle":"modal","data-target":"#assign-from-request-dialog-".concat(m)},"Assign Job"):null):s.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#send-trader-reqeust-dialog-".concat(a)},"Send Request"))))),o?s.a.createElement(vl,{Index:a,TraderRequest:o}):null,o&&o.Selected?s.a.createElement(gl,{Index:m,TraderRequestID:o.TraderRequestID,Driver:r,Price:n.Price,CanAssign:function(){return i},OnOK:this.props.OnJobAssigned}):null,s.a.createElement("div",{className:"back-color-gray","data-toggle":"collapse","aria-expanded":"false","data-target":"#job-request-post-".concat(a)},s.a.createElement("div",{className:"type-h4 color-default text-right p-xxxs"},"   More Details"," ",s.a.createElement("i",{className:"fas fa-ellipsis-v"}),s.a.createElement("i",{class:"glyph glyph-add"}),s.a.createElement("i",{class:"glyph glyph-remove"}))),s.a.createElement("div",{className:"collapse",id:"job-request-post-".concat(a)},s.a.createElement("ul",{className:"nav nav-tabs",role:"tablist",style:{padding:"10px",backgroundColor:"#EFEFEF",width:"100%",margin:"0px"}},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#job-request-".concat(a),"aria-controls":"job-request-".concat(a),role:"tab","data-toggle":"tab"},"Job Request")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#driver-".concat(a),"aria-controls":"driver-".concat(a),role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(t.RefreshDriverContainer());case 2:case"end":return e.stop()}}))}},"Driver")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#truck-".concat(a),"aria-controls":"truck-".concat(a),role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(t.RefreshTruckContainer());case 2:case"end":return e.stop()}}))}},"Truck"))),s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"job-request-".concat(a)},s.a.createElement(wn,{JobRequest:n})),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"driver-".concat(a)},s.a.createElement(cl,{Refresh:function(e){t.RefreshDriverContainer=e},DriverID:n.DriverID})),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"truck-".concat(a)},s.a.createElement(pl,{Refresh:function(e){t.RefreshTruckContainer=e},DriverID:n.DriverID})))),s.a.createElement(hl,{DialogID:a,JobRequest:n,IsRequestSent:function(){return!!o},OnOK:function(e){t.props.OnRequestUpdated(n,e)}})),this.state.Preloader)}}]),t}(r.Component),yl=Nl,xl=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.props.Refresh(a.refresh),!localStorage.Token){t.next=6;break}return e={Token:localStorage.Token,Get:"JobRequestPosts"},a.setState({Searching:!0}),t.next=6,O.a.awrap(Ce(e).then((function(e){"Job request posts found."===e.Message?a.setState({JobRequestPosts:e.JobRequestPosts,TraderOnJob:e.TraderOnJob,Searching:!1}):a.setState({JobRequestPosts:[],TraderOnJob:!1,Searching:!1})})));case 6:case"end":return t.stop()}}))},a.refresh=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return a.setState({Refreshing:!0}),e={Token:localStorage.Token,Get:"JobRequestPosts"},t.next=5,O.a.awrap(Ce(e).then((function(e){"Job request posts found."===e.Message?a.setState({JobRequestPosts:e.JobRequestPosts,TraderOnJob:e.TraderOnJob,Refreshing:!1}):a.setState({JobRequestPosts:[],TraderOnJob:!1,Refreshing:!1})})));case 5:case"end":return t.stop()}}))},a.state={JobRequestPosts:[],TraderOnJob:!1,Searching:!0,Refreshing:!1,Preloader:null,Message:null},a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a.refresh=a.refresh.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return this.state.Searching?s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#333333",width:"100%",height:"100vh"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 col-md-push-12 text-center"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"job_requests.png",src:"./images/job_requests.png","data-source-index":"2"})),s.a.createElement("div",{className:"col-md-12 col-md-pull-12"},s.a.createElement("div",{className:"type-h3"},"Job Requests"),s.a.createElement("p",null,"Job requests from Drivers are dispalyed here."),s.a.createElement("div",{class:"type-sh3",style:{color:"#008575"}},"Searhcing"),s.a.createElement(en,null)))))):0===this.state.JobRequestPosts.length?s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#333333",width:"100%",height:"100vh"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 col-md-push-12 text-center"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"job_requests.png",src:"./images/job_requests.png","data-source-index":"2"})),s.a.createElement("div",{className:"col-md-12 col-md-pull-12"},s.a.createElement("div",{className:"type-h3"},"Job Requests"),s.a.createElement("div",{className:"type-sh3"},"No Job Requests Found..."),s.a.createElement("p",null,"Job requests from Drivers are dispalyed here.")))))):s.a.createElement("section",null,this.state.TraderOnJob?s.a.createElement("div",{class:"alert alert-danger m-n"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-24"},s.a.createElement("p",null,s.a.createElement("span",{className:"fas fa-exclamation-circle m-r-xxxs"}),"While you are engaged in an On-Going Job, you cannot assign more jobs to drivers. View details in ",s.a.createElement("span",{className:"color-default"},"On-Going Job")," tab."))))):null,s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Job Requests",this.state.Refreshing?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("ol",{className:"list-items",style:{marginTop:"0px"}},this.state.JobRequestPosts.map((function(t,a){return s.a.createElement(yl,{key:a,Index:a,JobRequestPost:t,OnRequestUpdated:function(t,a){var n=e.state.JobRequestPosts,r=!0,s=!1,l=void 0;try{for(var c,o=n[Symbol.iterator]();!(r=(c=o.next()).done);r=!0){var i=c.value;if(i.JobRequest.JobRequestID===t.JobRequestID){i.TraderRequest=a;break}}}catch(m){s=!0,l=m}finally{try{r||null==o.return||o.return()}finally{if(s)throw l}}e.setState({JobRequestPosts:n})},TraderOnJob:e.state.TraderOnJob,OnJobAssigned:e.refresh})}))))}}]),t}(r.Component),Sl=xl,Cl=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Sl,{Refresh:this.props.Refresh}))}}]),t}(r.Component),Ol=Cl,wl=function(e){var t=e.JobRequest;return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default",style:{backgroundColor:"#FFFFFF"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h6 color-default p-t-n"},"Job Request"),s.a.createElement("div",{className:"type-sh6"},s.a.createElement("span",{className:"fas fa-tag color-default m-r-xxxs"}),s.a.createElement("span",{className:"color-default"},"PRICE: "),"$".concat(t.Price)),s.a.createElement("div",{className:"type-sh6"},s.a.createElement("span",{className:"fas fa-map-marker-alt color-default m-r-xxxs"}),s.a.createElement("span",{className:"color-default"},"FROM: "),t.LoadingPlace),s.a.createElement("div",{className:"type-sh6"},s.a.createElement("span",{className:"fas fa-map-marker-alt color-default m-r-xxxs"}),s.a.createElement("span",{className:"color-default"},"TO: "),t.UnloadingPlace)))))},kl=Object(Un.withScriptjs)(Object(Un.withGoogleMap)((function(e){var t=Object(r.useState)(null),a=Object(In.a)(t,2),n=a[0],l=a[1],c=e.Place,o=e.JobRequestPosts,i=c?c.Lat:33.78431,m=c?c.Lng:72.73878;return s.a.createElement(Un.GoogleMap,{defaultZoom:10,defaultCenter:{lat:33.78431,lng:72.73878},center:{lat:i,lng:m}},o.map((function(e,t){var a=e.JobRequest;return s.a.createElement(Un.Marker,{key:t,position:{lat:a.LoadingLat,lng:a.LoadingLng},icon:{url:"./images/marker.svg",scaledSize:new window.google.maps.Size(40,40)},onClick:function(){l(a)}})})),n?s.a.createElement(Un.InfoWindow,{position:{lat:n.LoadingLat,lng:n.LoadingLng},onCloseClick:function(){l(null)}},s.a.createElement(wl,{JobRequest:n})):null)}))),Pl=function(e){return s.a.createElement("div",{style:{width:"100%",height:"100vh"}},s.a.createElement(kl,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=".concat("AIzaSyD_U_2NzdPIL7TWb8ECBHWO1eROR2yrebI"),loadingElement:s.a.createElement("div",{style:{height:"100%"}}),containerElement:s.a.createElement("div",{style:{height:"100%"}}),mapElement:s.a.createElement("div",{style:{height:"100%"}}),Place:e.Place,JobRequestPosts:e.JobRequestPosts}))},jl=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"JobRequestPosts"},a.setState({Searching:!0}),t.next=5,O.a.awrap(Ce(e).then((function(e){"Job request posts found."===e.Message?a.setState({JobRequestPosts:e.JobRequestPosts,Searching:!1}):a.setState({JobRequestPosts:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.refresh=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return a.setState({Refreshing:!0}),e={Token:localStorage.Token,Get:"JobRequestPosts"},t.next=5,O.a.awrap(Ce(e).then((function(e){"Job request posts found."===e.Message?a.setState({JobRequestPosts:e.JobRequestPosts,TraderOnJob:e.TraderOnJob,Refreshing:!1}):a.setState({JobRequestPosts:[],TraderOnJob:!1,Refreshing:!1})})));case 5:case"end":return t.stop()}}))},a.state={JobRequestPosts:[],Place:null,Searching:!1,Refreshing:!1},a.refresh=a.refresh.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.Refresh(this.refresh),e.next=3,O.a.awrap(this.onComponentUpdated());case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.JobRequestPosts,n=t.Place,r=t.Searching;return s.a.createElement("section",null,0===a.length?s.a.createElement(nn,{Searching:r,SearchingFor:"job requests"}):s.a.createElement("section",null,s.a.createElement("div",{className:"text-right p-xxs",style:{backgroundColor:"#DDDDDD"}},s.a.createElement(Cn,{Address:"",OnPlaceSelected:function(t){e.setState({Place:t})}})),s.a.createElement(Pl,{Place:n,JobRequestPosts:a})))}}]),t}(r.Component),Tl=jl,Rl=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Tl,{Refresh:this.props.Refresh}))}}]),t}(r.Component),Dl=Rl,Al=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("ul",{className:"nav nav-tabs tabs-light",role:"tablist"},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#job-requests-list","aria-controls":"job-requests-list",role:"tab","data-toggle":"tab"},"List")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#job-requests-map","aria-controls":"job-requests-map",role:"tab","data-toggle":"tab"},"Map"))),s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"job-requests-list"},s.a.createElement(Ol,{Refresh:this.props.Refresh})),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"job-requests-map"},s.a.createElement(Dl,{Refresh:function(t){e.RefreshMap=t}}))))}}]),t}(r.Component),Fl=Al,Ll=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return a.setState({Searching:!0}),e={Get:"DriverDocuments",Params:{DriverID:a.props.DriverID}},t.next=5,O.a.awrap(pn(e).then((function(e){"Driver documents found."===e.Message?a.setState({DriverDocuments:e.DriverDocuments,Searching:!1}):a.setState({DriverDocuments:null,Searching:!1})})));case 5:case"end":return t.stop()}}))},a.refresh=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Get:"DriverDocuments",Params:{DriverID:a.props.DriverID}},t.next=4,O.a.awrap(pn(e).then((function(e){"Driver documents found."===e.Message?a.setState({DriverDocuments:e.DriverDocuments}):a.setState({DriverDocuments:null})})));case 4:case"end":return t.stop()}}))},a.state={DriverDocuments:null,Searching:!1},a.refresh=a.refresh.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.Refresh(this.refresh),e.next=3,O.a.awrap(this.onComponentUpdated());case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state.DriverDocuments;return this.state.Searching||!e?s.a.createElement(nn,{Searching:this.state.Searching,SearchingFor:"documents"}):s.a.createElement("section",null,s.a.createElement("ol",{className:"list-items m-n"},s.a.createElement(nl,{IdentityCard:e.IdentityCard}),s.a.createElement(Zs,{DrivingLicence:e.DrivingLicence}),s.a.createElement(tl,{EntryExitCard:e.EntryExitCard})))}}]),t}(r.Component),Il=Ll,Ul=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.Index;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"profile-dialog-".concat(e),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal"},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("section",null,s.a.createElement("ul",{className:"nav nav-tabs tabs-light",role:"tablist"},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#driver-tab-".concat(e),"aria-controls":"driver-tab-".concat(e),role:"tab","data-toggle":"tab"},"Driver")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#documents-tab-".concat(e),"aria-controls":"documents-tab-".concat(e),role:"tab","data-toggle":"tab"},"Documents"))),s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"driver-tab-".concat(e)},s.a.createElement(cl,{Refresh:this.props.RefreshDriver,DriverID:this.props.DriverID,TabView:!0})),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"documents-tab-".concat(e)},s.a.createElement(Il,{Refresh:this.props.RefreshDocuments,DriverID:this.props.DriverID})))))))))}}]),t}(r.Component),Vl=Ul,Jl=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.Trailers;return 0===e.length?s.a.createElement(nn,{Searching:!1,SearchingFor:"trailers"}):s.a.createElement("section",null,s.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},e.map((function(e,t){return s.a.createElement(il,{key:t,Index:t,Trailer:e})}))))}}]),t}(r.Component),Ml=Jl,Bl=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={Trailers:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.Index;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"truck-dialog-".concat(t),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal"},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("section",null,s.a.createElement("ul",{className:"nav nav-tabs tabs-light",role:"tablist"},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#truck-tab-".concat(t),"aria-controls":"truck-tab-".concat(t),role:"tab","data-toggle":"tab"},"Truck")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#trailers-tab-".concat(t),"aria-controls":"trailers-tab-".concat(t),role:"tab","data-toggle":"tab"},"Trailers"))),s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"truck-tab-".concat(t)},s.a.createElement(pl,{Refresh:this.props.Refresh,DriverID:this.props.DriverID,OnTrailersFound:function(t){e.setState({Trailers:t})},TabView:!0})),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"trailers-tab-".concat(t)},s.a.createElement(Ml,{Trailers:this.state.Trailers})))))))))}}]),t}(r.Component),ql=Bl,Ql=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onAssignNow=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.props.CanAssign()){t.next=2;break}return t.abrupt("return");case 2:return a.setState({ShowPreloader:!0}),e={Token:localStorage.Token,DriverRequestID:a.props.DriverRequestID},console.log("Going to add on-going job..."),t.next=7,O.a.awrap(qe(e).then((function(e){if("On-going job is added."===e.Message)return a.setState({ShowPreloader:!1}),a.cancelButton.click(),void a.props.OnOK();a.setState({ShowPreloader:!1})})));case 7:case"end":return t.stop()}}))},a.state={ShowPreloader:!1},a.onAssignNow=a.onAssignNow.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.Index,a=this.props.Driver,n=this.props.Price;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"assign-dialog-".concat(t),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.ShowPreloader?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{class:"jumbotron"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-24"},s.a.createElement("img",{alt:"new.png",src:"./images/new.png",height:"100"}),s.a.createElement("div",{class:"type-h4"},"You are About to Start a New Job with ",s.a.createElement("span",{class:"color-default"},"".concat(a.FirstName," ").concat(a.LastName)),"."),s.a.createElement("div",{class:"type-sh3"},"Your Payment Amount is ",s.a.createElement("span",{class:"color-default"},"$".concat(n)),"."),s.a.createElement("p",null,s.a.createElement("span",{class:"color-default"},"Important Note:")," After this step, you'll be engaged in an On-Going Job. You have to pay ",s.a.createElement("span",{class:"color-default"},"$".concat(n))," after the completion of your job from the ",s.a.createElement("span",{class:"color-default"},"Payments")," section."),s.a.createElement("div",{class:"text-right"},s.a.createElement("button",{class:"btn btn-primary",onClick:this.onAssignNow},"Assign Now")))))))))))}}]),t}(r.Component),Wl=Ql,Gl=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.Index,a=this.props.Price,n=this.props.DriverRequestPackage,r=n.DriverRequest,l=n.Driver,c=n.DriverOnJob,o=n.TraderOnJob,i=!(c||o),m=mn()(),d=mn()(),u=mn()();return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("strong",null,t+1)),s.a.createElement("td",null,"".concat(l.FirstName," ").concat(l.LastName),0===t?s.a.createElement("span",{class:"badge back-color-golden m-l-xxxs"},"NEW"):null,c?s.a.createElement("span",{class:"badge back-color-danger m-l-xxxs"},"ON JOB"):null),s.a.createElement("td",null,new Date(r.Created).toDateString()),r.Price?s.a.createElement("td",null,"$".concat(r.Price)):null,s.a.createElement("td",{class:"text-right"},s.a.createElement("div",null,s.a.createElement("button",{className:"btn btn-secondary m-xxxs","data-toggle":"modal","data-target":"#profile-dialog-".concat(m),onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshDriverContainer());case 2:return t.next=4,O.a.awrap(e.RefreshDocumentsContainer());case 4:case"end":return t.stop()}}))}},"Profile"),s.a.createElement("button",{className:"btn btn-secondary m-xxxs","data-toggle":"modal","data-target":"#truck-dialog-".concat(d),onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshTruckContainer());case 2:case"end":return t.stop()}}))}},"Truck"),s.a.createElement("button",{className:"btn btn-primary m-xxxs",disabled:!i,"data-toggle":"modal","data-target":"#assign-dialog-".concat(u)},"Assign Job"),s.a.createElement(Vl,{Index:m,DriverID:r.DriverID,RefreshDriver:function(t){e.RefreshDriverContainer=t},RefreshDocuments:function(t){e.RefreshDocumentsContainer=t}}),s.a.createElement(ql,{Index:d,DriverID:r.DriverID,Refresh:function(t){e.RefreshTruckContainer=t}}),s.a.createElement(Wl,{Index:u,DriverRequestID:r.DriverRequestID,Driver:l,Price:r.Price?r.Price:a,CanAssign:function(){return i},OnOK:this.props.OnJobAssigned}))))}}]),t}(r.Component),_l=Gl,zl=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return a.setState({Searching:!0}),e={Token:localStorage.Token,Get:"DriverRequestPackages",Params:{JobOfferID:a.props.JobOfferID}},t.next=5,O.a.awrap(Ce(e).then((function(e){"Driver request packages found."===e.Message?(a.props.OnRequestsFound(e.DriverRequestPackages.length),a.setState({DriverRequestPackages:e.DriverRequestPackages,Searching:!1})):(a.props.OnRequestsFound(0),a.setState({DriverRequestPackages:[],Searching:!1}))})));case 5:case"end":return t.stop()}}))},a.refresh=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Token:localStorage.Token,Get:"DriverRequests",Params:{JobOfferID:a.props.JobOfferID}},t.next=4,O.a.awrap(Ce(e).then((function(e){"Driver requests found."===e.Message?a.setState({DriverRequests:e.DriverRequests}):a.setState({DriverRequests:[]})})));case 4:case"end":return t.stop()}}))},a.state={DriverRequestPackages:[],Searching:!1},a.refresh=a.refresh.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.Refresh(this.refresh),e.next=3,O.a.awrap(this.onComponentUpdated());case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.props.JobOfferType;if(this.state.Searching||0===this.state.DriverRequestPackages.length)return s.a.createElement(nn,{Searching:this.state.Searching,SearchingFor:"Fixed-Price"===t?"requests":"bids"});var a=this.state.DriverRequestPackages;return s.a.createElement("section",null,s.a.createElement("div",{class:"table-responsive back-color-gray"},s.a.createElement("table",{class:"table table-striped"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"NUMBER"),s.a.createElement("th",null,"DRIVER"),s.a.createElement("th",null,"REQUESTED ON"),"Auctionable"===t?s.a.createElement("th",null,"BID PRICE"):null,s.a.createElement("th",null))),s.a.createElement("tbody",null,a.map((function(t,a){return s.a.createElement(_l,{key:a,Index:a,Price:e.props.Price,TraderOnJob:e.props.TraderOnJob,DriverRequestPackage:t,OnJobAssigned:e.props.OnJobAssigned})}))))))}}]),t}(r.Component),Hl=zl,Kl=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t,n,r;return O.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.preventDefault(),a.state.ValidForm){s.next=3;break}return s.abrupt("return");case 3:if(a.state.LoadingPlace){s.next=8;break}return(t=a.state.Errors).LoadingPlace="Loading place is required.",a.setState({Errors:t}),s.abrupt("return");case 8:if(a.state.UnloadingPlace){s.next=13;break}return(n=a.state.Errors).UnloadingPlace="Unloading place is required.",a.setState({Errors:n}),s.abrupt("return");case 13:return a.setState({ShowPreloader:!0}),r={Token:localStorage.Token,JobOfferID:a.props.JobOffer.JobOfferID,TripType:a.state.TripType,CargoType:a.state.CargoType,CargoWeight:a.state.CargoWeight,LoadingPlace:a.state.LoadingPlace.Address,LoadingLat:a.state.LoadingPlace.Lat,LoadingLng:a.state.LoadingPlace.Lng,UnloadingPlace:a.state.UnloadingPlace.Address,UnloadingLat:a.state.UnloadingPlace.Lat,UnloadingLng:a.state.UnloadingPlace.Lng,LoadingDate:a.state.LoadingDate,LoadingTime:a.state.LoadingTime,EntryExit:a.state.EntryExit,Price:a.state.Price,AcceptedDelay:a.state.AcceptedDelay,JobOfferType:a.state.JobOfferType},s.next=17,O.a.awrap(Fe(r).then((function(e){a.setState({ShowPreloader:!1}),"Job offer is updated."===e.Message&&(a.cancelButton.click(),a.props.OnOK())})));case 17:case"end":return s.stop()}}))};var n=a.props.JobOffer;return a.state={LoadingPlace:{Address:n.LoadingPlace,Lat:n.LoadingLat,Lng:n.LoadingLng},UnloadingPlace:{Address:n.UnloadingPlace,Lat:n.UnloadingLat,Lng:n.UnloadingLng},TripType:n.TripType,CargoType:n.CargoType,CargoWeight:n.CargoWeight,LoadingDate:n.LoadingDate,LoadingTime:n.LoadingTime,AcceptedDelay:n.AcceptedDelay,Price:n.Price,JobOfferType:n.JobOfferType,EntryExit:n.EntryExit,ValidCargoType:!0,ValidCargoWeight:!0,ValidLoadingPlace:!0,ValidUnloadingPlace:!0,ValidLoadingDate:!0,ValidLoadingTime:!0,ValidAcceptedDelay:!0,ValidPrice:!0,ValidForm:!1,ShowPreloader:null,Errors:{CargoType:"",CargoWeight:"",LoadingPlace:"",UnloadingPlace:"",LoadingDate:"",LoadingTime:"",AcceptedDelay:"",Price:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state,r=n.Errors,s=n.ValidCargoType,l=n.ValidCargoWeight,c=n.ValidLoadingDate,o=n.ValidLoadingTime,i=n.ValidAcceptedDelay,m=n.ValidPrice;switch(e){case"CargoType":s=""!==t,r.CargoType=s?"":"Cargo type is required.";break;case"CargoWeight":if(l=""!==t,r.CargoWeight=l?"":"Cargo weight is required.",""!==r.CargoWeight)break;l=t>=100,r.CargoWeight=l?"":"Cargo weight must be greater than 100 lbs.";break;case"LoadingDate":if(c=""!==t,r.LoadingDate=c?"":"Loading date is required.",""!==r.LoadingDate)break;c=new Date(t)>=new Date,r.LoadingDate=c?"":"Loading date must be later than yesterday.";break;case"LoadingTime":o=""!==t,r.LoadingTime=o?"":"Loading time is required.";break;case"AcceptedDelay":if(i=""!==t,r.AcceptedDelay=i?"":"Accepted delay is required.",""!==r.AcceptedDelay)break;i=t>=0&&t<=48,r.AcceptedDelay=i?"":"Accepted delay can be in the range of 0 to 48 hours.";break;case"Price":if(m=""!==t,r.Price=m?"":"Price is required.",""!==r.Price)break;m=t>0,r.Price=m?"":"Price must be more than $0.00."}this.setState({Errors:r,ValidCargoType:s,ValidCargoWeight:l,ValidLoadingDate:c,ValidLoadingTime:o,ValidAcceptedDelay:i,ValidPrice:m},(function(){a.setState({ValidForm:s&&l&&c&&o&&i&&m})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.LoadingPlace,n=t.UnloadingPlace,r=t.TripType,l=t.CargoType,c=t.CargoWeight,o=t.LoadingDate,i=t.LoadingTime,m=t.AcceptedDelay,d=t.Price,u=t.JobOfferType,p=t.EntryExit,E=t.ValidForm,h=t.ShowPreloader,b=t.Errors,v=this.props.DialogID;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"edit-job-offer-dialog-".concat(v),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},h?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"type-h3 color-default p-t-xxs"},"Edit Job Offer"),s.a.createElement("div",{className:"row p-t-xxs"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Loading Place"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement(Cn,{Address:a.Address,OnPlaceSelected:function(t){e.setState({LoadingPlace:t})}}),s.a.createElement("span",{className:"text-danger"},b.LoadingPlace)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Unloading Place"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement(Cn,{Address:n.Address,OnPlaceSelected:function(t){e.setState({UnloadingPlace:t})}}),s.a.createElement("span",{className:"text-danger"},b.UnloadingPlace))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Trip Type"),s.a.createElement("br",null),s.a.createElement("div",{className:"dropdown",style:{width:"100%",maxWidth:"296px"}},s.a.createElement("button",{id:"example-dropdown",className:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},s.a.createElement("span",null,r),s.a.createElement("span",{className:"caret"})),s.a.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){e.setState({TripType:"One Way"})}},"One Way")),s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){e.setState({TripType:"Two Way"})}},"Two Way"))))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Cargo Type"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"text",name:"CargoType",className:"form-control",autoComplete:"off",value:l,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},b.CargoType)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Cargo Weight (lbs)"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",name:"CargoWeight",className:"form-control",autoComplete:"off",value:c,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},b.CargoWeight)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Loading Date"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"date",name:"LoadingDate",className:"form-control",autoComplete:"off",value:o,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},b.LoadingDate))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Loading Time"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"time",name:"LoadingTime",className:"form-control",autoComplete:"off",value:i,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},b.LoadingTime)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Accepted Delay (Hours)"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",name:"AcceptedDelay",className:"form-control",autoComplete:"off",value:m,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},b.AcceptedDelay)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Price (USD)"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",min:"0.00",step:"0.01",max:"100.00",name:"Price",className:"form-control",autoComplete:"off",value:d,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},b.Price)))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("button",{type:"button","data-toggle":"button",className:"btn btn-toggle-switch",autocomplete:"off","aria-pressed":"false",onClick:function(){e.state.JobOfferType="Fixed-Price"===u?"Auctionable":"Fixed-Price"}},s.a.createElement("span",{className:"stateLabel stateLabel-on"},"Auctionable Job Offer"),s.a.createElement("span",{className:"stateLabel stateLabel-off"},"Fixed-Price Job Offer"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"checkbox"},s.a.createElement("label",{className:"control-label"},s.a.createElement("input",{type:"checkbox",name:"EntryExit",value:p,onChange:function(){e.state.EntryExit=!p}}),s.a.createElement("span",null,"Entry/Exit")))))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary",disabled:!E}))))))))))}}]),t}(r.Component),Yl=Kl,$l=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDelete=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({Preloader:s.a.createElement(ca,null)}),t={Token:localStorage.Token,JobOfferID:e},console.log("Going to delete Job offer..."),n.next=5,O.a.awrap(Le(t).then((function(e){"Job offer is deleted."===e.Message&&a.props.OnJobOfferUpdated()})));case 5:case"end":return n.stop()}}))},a.state={Preloader:null,NumberOfRequests:0},a.onDelete=a.onDelete.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.Index,a=this.props.JobOfferPackage.JobOffer,n=this.props.JobOfferPackage.HasDriverRequests;return s.a.createElement("section",null,s.a.createElement(Rn,{Index:t,JobOffer:a}),s.a.createElement("div",{className:"text-right p-xxs back-color-gray"},s.a.createElement("button",{type:"button",className:"btn btn-default","data-toggle":"modal",disabled:n,"data-target":"#edit-job-offer-dialog-".concat(t)},"Edit"),s.a.createElement("button",{className:"btn btn-danger",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.onDelete(a.JobOfferID));case 2:case"end":return t.stop()}}))}},"Delete")),s.a.createElement(Yl,{DialogID:t,JobOffer:a,CanEdit:function(){return 0===e.state.NumberOfRequests},OnOK:function(){e.props.OnJobOfferUpdated()}}),s.a.createElement("div",{className:"back-color-gray","data-toggle":"collapse","aria-expanded":"false","data-target":"#job-offer-package-".concat(t),onMouseDown:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshDriverRequestsTable());case 2:case"end":return t.stop()}}))}},s.a.createElement("div",{className:"type-h4 text-right color-default p-xxxs"},s.a.createElement("span",{class:"badge back-color-danger m-r-xxxs"},this.state.NumberOfRequests),"Fixed-Price"===a.JobOfferType?"Driver Requests":"Driver Bids",s.a.createElement("i",{className:"fas fa-ellipsis-v"}),s.a.createElement("i",{class:"glyph glyph-add"}),s.a.createElement("i",{class:"glyph glyph-remove"}))),s.a.createElement("div",{className:"collapse",id:"job-offer-package-".concat(t)},s.a.createElement(Hl,{Refresh:function(t){e.RefreshDriverRequestsTable=t},OnRequestsFound:function(t){e.setState({NumberOfRequests:t})},JobOfferID:a.JobOfferID,JobOfferType:a.JobOfferType,Price:a.Price,TraderOnJob:this.props.TraderOnJob,OnJobAssigned:this.props.OnJobOfferUpdated}),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}})),this.state.Preloader)}}]),t}(r.Component),Xl=$l,Zl=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t,n,r;return O.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.preventDefault(),a.state.ValidForm){s.next=3;break}return s.abrupt("return");case 3:if(a.state.LoadingPlace){s.next=8;break}return(t=a.state.Errors).LoadingPlace="Loading place is required.",a.setState({Errors:t}),s.abrupt("return");case 8:if(a.state.UnloadingPlace){s.next=13;break}return(n=a.state.Errors).UnloadingPlace="Unloading place is required.",a.setState({Errors:n}),s.abrupt("return");case 13:return r={Token:localStorage.Token,TripType:a.state.TripType,CargoType:a.state.CargoType,CargoWeight:a.state.CargoWeight,LoadingPlace:a.state.LoadingPlace.Address,LoadingLat:a.state.LoadingPlace.Lat,LoadingLng:a.state.LoadingPlace.Lng,UnloadingPlace:a.state.UnloadingPlace.Address,UnloadingLat:a.state.UnloadingPlace.Lat,UnloadingLng:a.state.UnloadingPlace.Lng,LoadingDate:a.state.LoadingDate,LoadingTime:a.state.LoadingTime,EntryExit:a.state.EntryExit,Price:a.state.Price,AcceptedDelay:a.state.AcceptedDelay,JobOfferType:a.state.JobOfferType},console.log("Going to add Job offer."),a.setState({ShowPreloader:!0}),s.next=18,O.a.awrap(Ae(r).then((function(e){a.setState({ShowPreloader:!1}),"Job offer is added."===e.Message&&(a.cancelButton.click(),a.props.OnOK())})));case 18:case"end":return s.stop()}}))},a.state={LoadingPlace:null,UnloadingPlace:null,TripType:"One Way",CargoType:"",CargoWeight:0,LoadingDate:new Date,LoadingTime:(new Date).getTime(),AcceptedDelay:0,Price:0,JobOfferType:"Fixed-Price",EntryExit:0,ValidCargoType:!1,ValidCargoWeight:!1,ValidLoadingPlace:!1,ValidUnloadingPlace:!1,ValidLoadingDate:!1,ValidLoadingTime:!1,ValidAcceptedDelay:!1,ValidPrice:!1,ValidForm:!1,ShowPreloader:null,Errors:{CargoType:"",CargoWeight:"",LoadingPlace:"",UnloadingPlace:"",LoadingDate:"",LoadingTime:"",AcceptedDelay:"",Price:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state,r=n.Errors,s=n.ValidCargoType,l=n.ValidCargoWeight,c=n.ValidLoadingDate,o=n.ValidLoadingTime,i=n.ValidAcceptedDelay,m=n.ValidPrice;switch(e){case"CargoType":s=""!==t,r.CargoType=s?"":"Cargo type is required.";break;case"CargoWeight":if(l=""!==t,r.CargoWeight=l?"":"Cargo weight is required.",""!==r.CargoWeight)break;l=t>=100,r.CargoWeight=l?"":"Cargo weight must be greater than 100 lbs.";break;case"LoadingDate":if(c=""!==t,r.LoadingDate=c?"":"Loading date is required.",""!==r.LoadingDate)break;c=new Date(t)>=new Date,r.LoadingDate=c?"":"Loading date must be later than yesterday.";break;case"LoadingTime":o=""!==t,r.LoadingTime=o?"":"Loading time is required.";break;case"AcceptedDelay":if(i=""!==t,r.AcceptedDelay=i?"":"Accepted delay is required.",""!==r.AcceptedDelay)break;i=t>=0&&t<=48,r.AcceptedDelay=i?"":"Accepted delay can be in the range of 0 to 48 hours.";break;case"Price":if(m=""!==t,r.Price=m?"":"Price is required.",""!==r.Price)break;m=t>0,r.Price=m?"":"Price must be more than $0.00."}this.setState({Errors:r,ValidCargoType:s,ValidCargoWeight:l,ValidLoadingDate:c,ValidLoadingTime:o,ValidAcceptedDelay:i,ValidPrice:m},(function(){a.setState({ValidForm:s&&l&&c&&o&&i&&m})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.TripType,n=t.CargoType,r=t.CargoWeight,l=t.LoadingDate,c=t.LoadingTime,o=t.AcceptedDelay,i=t.Price,m=t.JobOfferType,d=t.EntryExit,u=t.ValidForm,p=t.ShowPreloader,E=t.Errors;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"add-job-offer-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},p?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"type-h3 color-default p-t-xxs"},"Add Job Offer"),s.a.createElement("div",{className:"row p-t-xxs"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Loading Place"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement(Cn,{Address:"",OnPlaceSelected:function(t){e.setState({LoadingPlace:t})}}),s.a.createElement("span",{className:"text-danger"},E.LoadingPlace)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Unloading Place"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement(Cn,{Address:"",OnPlaceSelected:function(t){e.setState({UnloadingPlace:t})}}),s.a.createElement("span",{className:"text-danger"},E.UnloadingPlace))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Trip Type"),s.a.createElement("br",null),s.a.createElement("div",{className:"dropdown",style:{width:"100%",maxWidth:"296px"}},s.a.createElement("button",{id:"example-dropdown",className:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},s.a.createElement("span",null,a),s.a.createElement("span",{className:"caret"})),s.a.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){e.setState({TripType:"One Way"})}},"One Way")),s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){e.setState({TripType:"Two Way"})}},"Two Way"))))),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Cargo Type"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"text",name:"CargoType",className:"form-control",autoComplete:"off",value:n,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},E.CargoType)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Cargo Weight (lbs)"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",name:"CargoWeight",className:"form-control",autoComplete:"off",value:r,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},E.CargoWeight)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Loading Date"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"date",name:"LoadingDate",className:"form-control",autoComplete:"off",value:l,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},E.LoadingDate))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Loading Time"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"time",name:"LoadingTime",className:"form-control",autoComplete:"off",value:c,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},E.LoadingTime)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Accepted Delay (Hours)"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",name:"AcceptedDelay",className:"form-control",autoComplete:"off",value:o,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},E.AcceptedDelay)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Price (USD)"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",min:"0.00",step:"0.01",max:"100.00",name:"Price",className:"form-control",autoComplete:"off",value:i,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},E.Price)))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("button",{type:"button","data-toggle":"button",className:"btn btn-toggle-switch",autocomplete:"off","aria-pressed":"false",onClick:function(){e.state.JobOfferType="Fixed-Price"===m?"Auctionable":"Fixed-Price"}},s.a.createElement("span",{className:"stateLabel stateLabel-on"},"Auctionable Job Offer"),s.a.createElement("span",{className:"stateLabel stateLabel-off"},"Fixed-Price Job Offer"))),s.a.createElement("div",{className:"form-group"},s.a.createElement("div",{className:"checkbox"},s.a.createElement("label",{className:"control-label"},s.a.createElement("input",{type:"checkbox",name:"EntryExit",value:d,onChange:function(){e.state.EntryExit=!d}}),s.a.createElement("span",null,"Entry/Exit")))))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!u}))))))))))}}]),t}(r.Component),ec=Zl,tc=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"JobOfferPackages"},a.setState({Searching:!0}),t.next=5,O.a.awrap(Ce(e).then((function(e){"Job offer packages found."===e.Message?a.setState({AllJobOfferPackages:e.JobOfferPackages,JobOfferPackages:e.JobOfferPackages,TraderOnJob:e.TraderOnJob,Searching:!1}):a.setState({AllJobOfferPackages:[],JobOfferPackages:[],TraderOnJob:!1,Searching:!1})})));case 5:case"end":return t.stop()}}))},a.refresh=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"JobOfferPackages"},a.setState({Refreshing:!0}),t.next=5,O.a.awrap(Ce(e).then((function(e){"Job offer packages found."===e.Message?a.setState({AllJobOfferPackages:e.JobOfferPackages,JobOfferPackages:e.JobOfferPackages,TraderOnJob:e.TraderOnJob,Refreshing:!1}):a.setState({AllJobOfferPackages:[],JobOfferPackages:[],TraderOnJob:!1,Refreshing:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){if(e.preventDefault(),""!==a.state.SearchString){var t=a.state.AllJobOfferPackages,n=[],r=0,s=!0,l=!1,c=void 0;try{for(var o,i=t[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var m=o.value,d=m.JobOffer;(d.LoadingPlace.includes(a.state.SearchString)||d.UnloadingPlace.includes(a.state.SearchString))&&(n[r++]=m)}}catch(u){l=!0,c=u}finally{try{s||null==i.return||i.return()}finally{if(l)throw c}}a.setState({JobOfferPackages:n})}else a.setState({JobOfferPackages:a.state.AllJobOfferPackages})},a.state={AllJobOfferPackages:[],JobOfferPackages:[],TraderOnJob:!1,SearchString:"",Searching:null,Refreshing:!1},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a.refresh=a.refresh.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.Refresh(this.refresh),e.next=3,O.a.awrap(this.onComponentUpdated());case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state.JobOfferPackages;return s.a.createElement("section",null,this.state.TraderOnJob?s.a.createElement("div",{class:"alert alert-danger m-n"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-24"},s.a.createElement("p",null,s.a.createElement("span",{className:"fas fa-exclamation-circle m-r-xxxs"}),"While you are engaged in an On-Going Job, you cannot assign more jobs to drivers. View details in ",s.a.createElement("span",{className:"color-default"},"On-Going Job")," tab."))))):null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container",style:{paddingBottom:"10px",marginBottom:"12px"}},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-hand-holding-usd"}),"   Job Offers"),s.a.createElement("p",{className:"color-light"},"Hi There! Want to transport your freight somewhere? Why not create a new job offer now!"),s.a.createElement("div",{className:"btn-group"},s.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#add-job-offer-dialog"},"New Job Offer")))))),s.a.createElement(ec,{OnOK:function(){e.onComponentUpdated()}}),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Your Job Offers",this.state.Refreshing?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search by Places",style:{maxWidth:"500px",width:"100%"},value:this.state.SearchString,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===t.length?s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},this.state.Searching?s.a.createElement("div",{className:"col-md-24 text-center"},s.a.createElement("div",null,s.a.createElement("div",{className:"type-h3",style:{color:"#008575"}},"Searching"),s.a.createElement(en,null))):s.a.createElement("div",{className:"col-md-24 text-center"},s.a.createElement("h3",null,s.a.createElement("span",{className:"fas fa-exclamation-triangle",style:{color:"#FFBF15"}})," No job offers found."))))):s.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},t.map((function(t,a){return s.a.createElement("li",{key:a,className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement(Xl,{Index:a,JobOfferPackage:t,OnJobOfferUpdated:e.onComponentUpdated,TraderOnJob:e.state.TraderOnJob}))}))))}}]),t}(r.Component),ac=tc,nc=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(ac,{Refresh:this.props.Refresh}))}}]),t}(r.Component),rc=nc,sc=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t=this.props.OnGoingJob,a=this.props.HasObjections,n=new Date(t.LoadingDate);if(n.setHours(parseInt(t.LoadingTime.substring(0,2))),n.setMinutes(parseInt(t.LoadingTime.substring(3,5))),n.setSeconds(parseInt(t.LoadingTime.substring(6))),t.CompletedByDriver)e=s.a.createElement("section",null,s.a.createElement("h3",null,s.a.createElement("span",{className:"fas fa-smile p-r-xxxs"}),"Driver has Completed the Job"),s.a.createElement("div",{class:"type-sh3"},"Your Approval is Still Required"));else if(a)e=s.a.createElement("h3",null,s.a.createElement("span",{className:"fas fa-exclamation p-r-xxxs"}),"This Job is Terminated.");else{var r=n-new Date,l=Math.floor(r/864e5),c=Math.floor(r%864e5/36e5),o=Math.round(r%864e5%36e5/6e4),i=l>0?"".concat(l," Days "):"",m=c>0?"".concat(c," Hours "):"",d=o>0?"".concat(o," Minutes "):"",u="".concat(i).concat(m).concat(d," Left for Your Driver to Arrive");r<0&&(u="Loading Time has Passed"),e=s.a.createElement("section",null,s.a.createElement("h3",null,s.a.createElement("span",{className:"fas fa-clock"}),"   ",u),s.a.createElement("div",{class:"type-sh3"},s.a.createElement("span",{className:"fas fa-tag m-r-xxs"}),"This Job Costs You $".concat(t.Price,".")),s.a.createElement("div",{class:"col-md-12 col-md-offset-6"},s.a.createElement("div",{class:"type-p3"},t.AcceptedDelay>0?s.a.createElement("span",null,s.a.createElement("span",{className:"fas fa-leaf m-r-xxxs"}),s.a.createElement("span",null,"The Driver has a relaxation of ".concat(t.AcceptedDelay," Hours."))):s.a.createElement("span",null,"Hoping for the driver to be on time."))))}return s.a.createElement("section",null,s.a.createElement("div",{class:"jumbotron theme-dark",style:{background:"linear-gradient(to right bottom, #008575, #005162)"}},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-24 text-center"},e)))),s.a.createElement(rr,{OnGoingJob:t}))}}]),t}(r.Component),lc=sc,cc=function(e){var t=Object(r.useState)(null),a=Object(In.a)(t,2),n=a[0],l=a[1],c=e.OnGoingJob,o=new window.google.maps.DirectionsService,i={lat:c.LoadingLat,lng:c.LoadingLng},m={lat:c.UnloadingLat,lng:c.UnloadingLng};return o.route({origin:i,destination:m,travelMode:window.google.maps.TravelMode.DRIVING},(function(e,t){t===window.google.maps.DirectionsStatus.OK?l(e):console.error("error fetching directions ".concat(e))})),s.a.createElement(Un.DirectionsRenderer,{directions:n,options:{suppressMarkers:!0}})},oc=Object(Un.withScriptjs)(Object(Un.withGoogleMap)((function(e){var t=Object(r.useState)(!1),a=Object(In.a)(t,2),n=(a[0],a[1],e.OnGoingJob),l=e.DriverLocation;return s.a.createElement(Un.GoogleMap,{defaultZoom:10},s.a.createElement(Un.Marker,{key:1,position:{lat:n.LoadingLat,lng:n.LoadingLng},icon:{url:"./images/source.svg",scaledSize:new window.google.maps.Size(30,30)}}),s.a.createElement(Un.Marker,{key:1,position:{lat:n.UnloadingLat,lng:n.UnloadingLng},icon:{url:"./images/destination.svg",scaledSize:new window.google.maps.Size(30,30)}}),l?s.a.createElement(Un.Marker,{key:1,position:{lat:l.Lat,lng:l.Lng},icon:{url:"./images/driver_marker.svg",scaledSize:new window.google.maps.Size(40,40)}}):null,s.a.createElement(cc,{OnGoingJob:n}))}))),ic=function(e){return s.a.createElement("div",{style:{width:"100%",height:"400px"}},s.a.createElement(oc,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=".concat("AIzaSyD_U_2NzdPIL7TWb8ECBHWO1eROR2yrebI"),loadingElement:s.a.createElement("div",{style:{height:"100%"}}),containerElement:s.a.createElement("div",{style:{height:"100%"}}),mapElement:s.a.createElement("div",{style:{height:"100%"}}),OnGoingJob:e.OnGoingJob,DriverLocation:e.DriverLocation}))},mc=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"ObjectionReasons"},a.setState({ProgressRing:s.a.createElement(rn,null)}),t.next=5,O.a.awrap(Ce(e).then((function(e){"Objection reasons found."===e.Message?a.setState({ObjectionReasons:e.ObjectionReasons,ProgressRing:!1}):a.setState({ObjectionReasons:[],ProgressRing:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ProgressRing:s.a.createElement(rn,null)}),t={Token:localStorage.Token,Reason:a.state.NewReason},console.log("Going to add Objection reason..."),n.next=8,O.a.awrap(Ve(t).then((function(e){if("Objection reason is added."===e.Message){var t=a.state.ObjectionReasons,n=a.state.Errors;t.push(e.ObjectionReason),n.NewReason="0",a.setState({AddPressed:!1,ObjectionReasons:t,Errors:n,NewReason:""})}a.setState({ProgressRing:null})})));case 8:case"end":return n.stop()}}))},a.state={ObjectionReasons:[],AddPressed:!1,NewReason:"",ValidNewReason:!1,ValidForm:!1,ProgressRing:null,Errors:{NewReason:"0"}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidNewReason;switch(e){case"NewReason":r=t.length>0&&t.length<=50,n.NewReason=r?t.length:"Too long..."}this.setState({Errors:n,ValidNewReason:r},(function(){a.setState({ValidForm:a.state.ValidNewReason})}))}},{key:"render",value:function(){var e=this,t=this.state.ObjectionReasons;return s.a.createElement("section",null,this.state.ProgressRing,s.a.createElement("div",{class:"entity-list entity-list-expandable"},s.a.createElement("div",{class:"entity-list entity-list-add-item-button"},s.a.createElement("a",{class:this.state.AddPressed?"entity-list-item active":"entity-list-item"},s.a.createElement("div",{class:"item-icon",onClick:function(){e.state.AddPressed?e.setState({AddPressed:!1}):e.setState({AddPressed:!0})}},s.a.createElement("span",{class:"glyph glyph-add"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Add a Reason"),s.a.createElement("div",{class:"content-text-secondary",style:"Too long..."===this.state.Errors.NewReason?{color:"#D75A4A"}:null},this.state.Errors.NewReason)),s.a.createElement("div",{class:"item-content-expanded"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("input",{type:"text",className:"form-control",name:"NewReason",autocomplete:"off",value:this.state.NewReason,onChange:this.onChange}),s.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-secondary",disabled:!this.state.ValidForm}))))),t.map((function(t,a){return s.a.createElement("div",{key:a,class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-thumbs-down"})),s.a.createElement("div",{class:"item-content-secondary"},s.a.createElement("button",{type:"button",class:"btn btn-secondary",style:{margin:"0px",minWidth:"0px"},onClick:function(){e.props.OnReasonSelected(t.Reason)}},"Select")),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"".concat(a+1,".")),s.a.createElement("div",{class:"content-text-secondary"},t.Reason)))}))))}}]),t}(r.Component),dc=mc,uc=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({Preloader:s.a.createElement(ca,null)}),t={Token:localStorage.Token,OnGoingJobID:a.props.OnGoingJobID,Reason:a.state.Reason,Comment:a.state.Comment},console.log("Going to add job objection..."),n.next=8,O.a.awrap(Je(t).then((function(e){"Job objection is added."===e.Message&&(a.cancelButton.click(),a.props.OnOK()),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={Reason:"Select from the list.",Comment:"",ValidReason:!1,ValidComment:!1,ValidForm:!1,Preloader:null,Errors:{Comment:"0"}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidComment;switch(e){case"Comment":if(r=""!==t,n.Comment=r?"":"Comment is required",""!==n.Comment)break;r=t.length<=200,n.Comment=r?t.length:"Too long..."}this.setState({Errors:n,ValidComment:r},(function(){a.setState({ValidForm:a.state.ValidReason&&a.state.ValidComment})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"add-objection-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",ref:function(t){return e.cancelButton=t},style:{minWidth:"0px"},"data-dismiss":"modal"},s.a.createElement("span",{className:"fas fa-times"}))),s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Add an Objection")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",null,"Reason"),s.a.createElement("input",{type:"text",class:"form-control",name:"Reason",style:{maxWidth:"100%"},readonly:!0,value:this.state.Reason})),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",null,"Comment"),s.a.createElement("textarea",{rows:"4",class:"form-control",style:{maxWidth:"100%"},name:"Comment",value:this.state.Comment,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.Comment)),s.a.createElement("div",{style:{textAlign:"right"}},s.a.createElement("input",{type:"submit",value:"Add Objection",className:"btn btn-primary",style:{margin:"0px"},disabled:!this.state.ValidForm}))),s.a.createElement("br",null),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"type-h4",style:{color:"#008575",padding:"10px",textAlign:"right"}},"   Reasons",s.a.createElement("i",{className:"fas fa-ellipsis-v"})),s.a.createElement(dc,{ObjectionReasons:this.props.ObjectionReasons,OnReasonSelected:function(t){e.setState({Reason:t,ValidReason:!0},(function(){e.setState({ValidForm:e.state.ValidReason&&e.state.ValidComment})}))}}))))))}}]),t}(r.Component),pc=uc,Ec=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"JobObjections",Params:{OnGoingJobID:a.props.OnGoingJobID}},a.setState({Searching:!0}),t.next=5,O.a.awrap(Ce(e).then((function(e){"Job objections found."===e.Message?a.setState({JobObjections:e.JobObjections,Searching:!1}):a.setState({JobObjections:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.refresh=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Token:localStorage.Token,Get:"JobObjections",Params:{OnGoingJobID:a.props.OnGoingJobID}},t.next=4,O.a.awrap(Ce(e).then((function(e){"Job objection packages found."===e.Message?a.setState({JobObjections:e.JobObjections}):a.setState({JobObjections:[]})})));case 4:case"end":return t.stop()}}))},a.state={JobObjections:[],Searching:!1},a.refresh=a.refresh.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.Refresh(this.refresh),e.next=3,O.a.awrap(this.onComponentUpdated());case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state.JobObjections;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header back-color-gradient"},s.a.createElement("div",{class:"container",style:{paddingBottom:"10px",marginBottom:"12px"}},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-thumbs-down m-r-xxs"}),"Job Objections"),s.a.createElement("p",{className:"color-light"},"Objections on this job, either by you or your driver, will terminate the job."),s.a.createElement("div",{className:"btn-group"},s.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#add-objection-dialog"},"Add Objection")))))),s.a.createElement(pc,{OnGoingJobID:this.props.OnGoingJobID,OnOK:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.onComponentUpdated());case 2:case"end":return t.stop()}}))}}),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Job Objections"),0===t.length?s.a.createElement(nn,{Searching:this.state.Searching,SearchingFor:"job objctions"}):s.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},t.map((function(e,t){return s.a.createElement("li",{key:t,className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement(er,{Index:t,JobObjection:e}))}))))}}]),t}(r.Component),hc=Ec,bc=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onApprove=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({ShowPreloader:!0}),e={Token:localStorage.Token},console.log("Going to approve the job..."),t.next=5,O.a.awrap(Me(e).then((function(e){if("Job is approved."===e.Message)return a.setState({ShowPreloader:!1}),a.cancelButton.click(),void a.props.OnOK();a.setState({ShowPreloader:!1})})));case 5:case"end":return t.stop()}}))},a.state={ShowPreloader:!1},a.onApprove=a.onApprove.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"approve-job-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.ShowPreloader?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",ref:function(t){return e.cancelButton=t},style:{minWidth:"0px"},"data-dismiss":"modal"},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{class:"jumbotron"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-24"},s.a.createElement("img",{alt:"stamp.png",src:"./images/stamp.png",height:"100"}),s.a.createElement("div",{class:"type-h3"},"Approve Completion"),s.a.createElement("div",{class:"type-sh3"},"Your driver has finished the job. We hope your cargo is delivered."),s.a.createElement("p",null,s.a.createElement("span",{class:"color-default"},"Note:")," After approving completion, you can view this job in your ",s.a.createElement("span",{class:"color-default"},"Completed Jobs")," tab. You can also rate and review this driver from there. You have to pay the bill from the ",s.a.createElement("span",{class:"color-default"},"Payments")," section."),s.a.createElement("div",{class:"text-right"},s.a.createElement("button",{class:"btn btn-primary",onClick:this.onApprove},"Approve")))))))))))}}]),t}(r.Component),vc=bc,fc=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onRate=function(e){a.props.OnRated(e),a.setState({Rating:e})},a.state={Rating:0},a.onRate=a.onRate.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("div",{class:"rating"},s.a.createElement("div",{class:"rating-stars"},s.a.createElement("ul",{class:"rating-stars-background"},s.a.createElement("li",null,s.a.createElement("i",{class:"glyph glyph-star"})),s.a.createElement("li",null,s.a.createElement("i",{class:"glyph glyph-star"})),s.a.createElement("li",null,s.a.createElement("i",{class:"glyph glyph-star"})),s.a.createElement("li",null,s.a.createElement("i",{class:"glyph glyph-star"})),s.a.createElement("li",null,s.a.createElement("i",{class:"glyph glyph-star"}))),s.a.createElement("ul",{class:"rating-stars-value",style:{width:"".concat(this.state.Rating,"%")}},s.a.createElement("li",null,s.a.createElement("i",{class:"glyph glyph-star"})),s.a.createElement("li",null,s.a.createElement("i",{class:"glyph glyph-star"})),s.a.createElement("li",null,s.a.createElement("i",{class:"glyph glyph-star"})),s.a.createElement("li",null,s.a.createElement("i",{class:"glyph glyph-star"})),s.a.createElement("li",null,s.a.createElement("i",{class:"glyph glyph-star"}))),s.a.createElement("div",{class:"rating-stars-input"},s.a.createElement("button",{class:"rating-btn",title:"1",onClick:function(){e.onRate(20)}},s.a.createElement("i",{class:"glyph glyph-star"})),s.a.createElement("button",{class:"rating-btn",title:"2",onClick:function(){e.onRate(40)}},s.a.createElement("i",{class:"glyph glyph-star"})),s.a.createElement("button",{class:"rating-btn",title:"3",onClick:function(){e.onRate(60)}},s.a.createElement("i",{class:"glyph glyph-star"})),s.a.createElement("button",{class:"rating-btn",title:"4",onClick:function(){e.onRate(80)}},s.a.createElement("i",{class:"glyph glyph-star"})),s.a.createElement("button",{class:"rating-btn",title:"5",onClick:function(){e.onRate(100)}},s.a.createElement("i",{class:"glyph glyph-star"}))))))}}]),t}(r.Component),gc=fc,Nc=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,OnGoingJobID:a.props.OnGoingJobID,Rating:a.state.Rating,Review:a.state.Review},console.log("Going to add driver review..."),n.next=8,O.a.awrap(We(t).then((function(e){"Driver review is added."===e.Message?(a.setState({ShowPreloader:!1}),a.cancelButton.click(),a.props.OnOK()):a.setState({ShowPreloader:!1})})));case 8:case"end":return n.stop()}}))},a.state={Rating:0,Review:"",ValidRating:!1,ValidReview:!1,ValidForm:!1,ShowPreloader:!1,Errors:{Review:"0"}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidReview;switch(e){case"Review":if(r=""!==t,n.Review=r?"":"Review is required",""!==n.Review)break;r=t.length<=200,n.Review=r?t.length:"Too long..."}this.setState({Errors:n,ValidReview:r},(function(){a.setState({ValidForm:a.state.ValidRating&&a.state.ValidReview})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"review-dialog-from-on-going-job",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.ShowPreloader?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",ref:function(t){return e.cancelButton=t},style:{minWidth:"0px"},"data-dismiss":"modal"},s.a.createElement("span",{className:"fas fa-times"}))),s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Rate and Review")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",null,"Rate this Driver"),s.a.createElement(gc,{OnRated:function(t){e.setState({Rating:t,ValidRating:!0},(function(){e.setState({ValidForm:e.state.ValidRating&&e.state.ValidReview})}))}})),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",null,"Review"),s.a.createElement("textarea",{rows:"6",class:"form-control",name:"Review",style:{maxWidth:"100%"},value:this.state.Review,onChange:this.onChange}),s.a.createElement("span",{className:"Too long..."===this.state.Errors.Review||"Review is required"===this.state.Errors.Review?"text-danger":"text-accent"},this.state.Errors.Review)),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Submit",className:"btn btn-primary m-n",disabled:!this.state.ValidForm}))))))))}}]),t}(r.Component),yc=Nc,xc=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={DriverRated:a.props.DriverRated},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.HasObjections,a=this.props.CompletedByDriver,n=this.props.CompletedByTrader,r=this.props.OnGoingJobID,l=this.state.DriverRated;this.state.ShowPreloader;return console.log("DRIVER RATED: ".concat(l)),t?s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#333333"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"entity-list theme-alt"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-exclamation-circle"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Objectionable Job"),s.a.createElement("div",{className:"content-text-secondary"},l?"Since your job has got objections, Naqel team will review them, and consequently take any suitable actions!":"Since your job has got objections, Naqel team will review them, and consequently take any suitable actions! If you have found the driver to be problematic, you can leave a review."),s.a.createElement("div",{className:"content-text-secondary"},l?s.a.createElement("span",{class:"badge back-color-danger"},"DRIVER IS RATED"):null)))),l?null:s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-secondary","data-toggle":"modal","data-target":"#review-dialog-from-on-going-job"},"Rate Driver")))),l?null:s.a.createElement(yc,{OnGoingJobID:r,OnOK:function(){e.setState({DriverRated:!0})}})):s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#333333"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Job Completion Status"),s.a.createElement("div",{className:"type-sh4"},"You'll be able to approve this job after your driver completes the job.")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"entity-list theme-alt"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-certificate"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Completed By Driver?"),s.a.createElement("div",{className:"content-text-secondary"},a?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}})))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-certificate"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Approved By You?"),s.a.createElement("div",{className:"content-text-secondary"},n?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}))))))),s.a.createElement("div",{className:"text-right"},a?s.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#approve-job-dialog"},"Approve"):null))),s.a.createElement(vc,{OnOK:this.props.OnJobRemoved}))}}]),t}(r.Component),Sc=xc,Cc=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"OnGoingJob"},a.setState({Loading:!0}),t.next=5,O.a.awrap(Ce(e).then((function(e){"On-going job found."===e.Message?(a.Database||(a.Database=Gn.database().ref().child("".concat(e.OnGoingJob.DriverID))),a.Database.on("value",(function(t){var n=null,r=t.val();if(r){var s=r.latlong.split(",");n={Lat:parseFloat(s[0]),Lng:parseFloat(s[1])}}a.setState({DriverLocation:n,OnGoingJob:e.OnGoingJob,HasObjections:e.HasObjections,Loading:!1})}))):a.setState({OnGoingJob:null,DriverLocation:null,HasObjections:!1,Loading:!1})})));case 5:case"end":return t.stop()}}))},a.refresh=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Token:localStorage.Token,Get:"OnGoingJob"},t.next=4,O.a.awrap(Ce(e).then((function(e){"On-going job found."===e.Message?(a.Database||(a.Database=Gn.database().ref().child("".concat(e.OnGoingJob.DriverID))),a.Database.on("value",(function(t){var n=null,r=t.val();if(r){var s=r.latlong.split(",");n={Lat:parseFloat(s[0]),Lng:parseFloat(s[1])}}a.setState({DriverLocation:n,OnGoingJob:e.OnGoingJob,HasObjections:e.HasObjections})}))):a.setState({OnGoingJob:null,HasObjections:!1})})));case 4:case"end":return t.stop()}}))},a.Database=null,a.state={OnGoingJob:null,HasObjections:!1,DriverLocation:null,Loading:!1},a.refresh=a.refresh.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.Refresh(this.refresh),e.next=3,O.a.awrap(this.onComponentUpdated());case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this;if(this.state.Loading||!this.state.OnGoingJob)return s.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#333333",width:"100%",height:"100vh"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12 col-md-push-12 text-center"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"on_going_jobs.png",src:"./images/on_going_jobs.png","data-source-index":"2"})),s.a.createElement("div",{className:"col-md-12 col-md-pull-12"},s.a.createElement("div",{className:"type-h3"},"On-Going Job"),this.state.Loading?s.a.createElement("div",null,s.a.createElement("div",{class:"type-sh3",style:{color:"#008575"}},"Searhcing"),s.a.createElement(en,null)):s.a.createElement("div",{className:"type-sh3"},"Couldn't Find Your Job...")))));var t=this.state.OnGoingJob,a=this.state.HasObjections;return s.a.createElement("section",null,a?s.a.createElement("div",{class:"alert alert-danger m-n"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-24"},s.a.createElement("p",null,s.a.createElement("span",{className:"fas fa-exclamation-circle m-r-xxxs"}),"This job has objections, and it cannot be finished now. Actions are pending by Naqel. For more information, please tap on ",s.a.createElement("span",{className:"color-default"},"Objections")," tab."))))):null,s.a.createElement("ul",{className:"nav nav-tabs tabs-light",role:"tablist"},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#job-tab","aria-controls":"job-tab",role:"tab","data-toggle":"tab",onClick:this.refresh},"Job")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#driver-tab","aria-controls":"driver-tab",role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshDriverContainer());case 2:case"end":return t.stop()}}))}},"Driver")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#truck-tab","aria-controls":"truck-tab",role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshTruckContainer());case 2:case"end":return t.stop()}}))}},"Truck")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#map-tab","aria-controls":"map-tab",role:"tab","data-toggle":"tab"},"Map")),t.CompletedByDriver?null:s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#objections-tab","aria-controls":"objections-tab",role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshObjections());case 2:case"end":return t.stop()}}))}},"Objections"))),s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"job-tab"},s.a.createElement(lc,{OnGoingJob:t,HasObjections:a})),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"driver-tab"},s.a.createElement(cl,{Refresh:function(t){e.RefreshDriverContainer=t},DriverID:t.DriverID})),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"truck-tab"},s.a.createElement(pl,{Refresh:function(t){e.RefreshTruckContainer=t},DriverID:t.DriverID})),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"map-tab"},s.a.createElement(ic,{OnGoingJob:t,DriverLocation:this.state.DriverLocation})),t.CompletedByDriver?null:s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"objections-tab"},s.a.createElement(hc,{Refresh:function(t){e.RefreshObjections=t},OnGoingJobID:t.OnGoingJobID}))),s.a.createElement(Sc,{HasObjections:a,CompletedByDriver:t.CompletedByDriver,CompletedByTrader:t.CompletedByTrader,OnGoingJobID:t.OnGoingJobID,DriverRated:t.DriverRated,OnJobRemoved:this.onComponentUpdated}))}}]),t}(r.Component),Oc=Cc,wc=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,CompletedJobID:a.props.CompletedJobID,Rating:a.state.Rating,Review:a.state.Review},console.log("Going to add driver review..."),n.next=8,O.a.awrap(Be(t).then((function(e){"Driver review is added."===e.Message?(a.setState({ShowPreloader:!1}),a.cancelButton.click(),a.props.OnOK(e.DriverReview)):a.setState({ShowPreloader:!1})})));case 8:case"end":return n.stop()}}))},a.state={Rating:0,Review:"",ValidRating:!1,ValidReview:!1,ValidForm:!1,ShowPreloader:!1,Errors:{Review:"0"}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidReview;switch(e){case"Review":if(r=""!==t,n.Review=r?"":"Review is required",""!==n.Review)break;r=t.length<=200,n.Review=r?t.length:"Too long..."}this.setState({Errors:n,ValidReview:r},(function(){a.setState({ValidForm:a.state.ValidRating&&a.state.ValidReview})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"review-dialog-".concat(this.props.DialogID),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.ShowPreloader?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",ref:function(t){return e.cancelButton=t},style:{minWidth:"0px"},"data-dismiss":"modal"},s.a.createElement("span",{className:"fas fa-times"}))),s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Rate and Review")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{class:"form-group"},s.a.createElement("label",null,"Rate this Driver"),s.a.createElement(gc,{OnRated:function(t){e.setState({Rating:t,ValidRating:!0},(function(){e.setState({ValidForm:e.state.ValidRating&&e.state.ValidReview})}))}})),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",null,"Review"),s.a.createElement("textarea",{rows:"6",class:"form-control",name:"Review",style:{maxWidth:"100%"},value:this.state.Review,onChange:this.onChange}),s.a.createElement("span",{className:"Too long..."===this.state.Errors.Review||"Review is required"===this.state.Errors.Review?"text-danger":"text-accent"},this.state.Errors.Review)),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Submit",className:"btn btn-primary m-n",disabled:!this.state.ValidForm}))))))))}}]),t}(r.Component),kc=wc,Pc=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.Index,a=this.props.CompletedJobPackage.CompletedJob,n=this.props.CompletedJobPackage.BillPaid,r=this.props.CompletedJobPackage.DriverReview;return s.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},n?s.a.createElement("div",{class:"alert alert-info m-n p-n"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-24"},s.a.createElement("p",null,s.a.createElement("span",{className:"fas fa-check-circle m-r-xxxs"}),"The bill has been paid! View bill details from the ",s.a.createElement("span",{className:"color-default"},"Payments")," section."))))):s.a.createElement("div",{class:"alert alert-danger m-n p-n"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-24"},s.a.createElement("p",null,s.a.createElement("span",{className:"fas fa-exclamation-circle m-r-xxxs"}),"Please pay the bill for this job from ",s.a.createElement("span",{className:"color-default"},"Payments")," section. If you have uploaded a payment proof, then please wait for the driver to approve your payment."))))),s.a.createElement(Er,{Index:t,CompletedJob:a}),r?s.a.createElement("div",{class:"alert alert-info m-n p-n",style:{backgroundColor:"#E5E5E5",borderTop:"2px solid #CCCCCC"}},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-24"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-star"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Rating"),s.a.createElement("div",{className:"content-text-secondary"},s.a.createElement(Ma,{Rating:r.Rating,Color:"",Size:"rating-small"})),s.a.createElement("div",{className:"content-text-primary"},"Review"),s.a.createElement("div",{className:"content-text-secondary"},r.Review))))))):s.a.createElement("div",{class:"alert alert-info m-n p-n",style:{backgroundColor:"#E5E5E5",borderTop:"2px solid #CCCCCC"}},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-20"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-star"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Rate and Review the Driver"),s.a.createElement("div",{className:"content-text-secondary"},"Your reviews means a lot to us and the driver too."))))),s.a.createElement("div",{class:"col-md-4 text-right"},s.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#review-dialog-".concat(t)},"Write a Review")))),s.a.createElement(kc,{DialogID:t,CompletedJobID:a.CompletedJobID,OnOK:this.props.OnReviewAdded}),s.a.createElement("div",{className:"back-color-gray","data-toggle":"collapse","aria-expanded":"false","data-target":"#completed-job-".concat(t),onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshDriverContainer());case 2:case"end":return t.stop()}}))}},s.a.createElement("div",{className:"type-h4 color-default text-right p-xxxs"},"Driver Details",s.a.createElement("i",{className:"fas fa-ellipsis-v"}),s.a.createElement("i",{class:"glyph glyph-add"}),s.a.createElement("i",{class:"glyph glyph-remove"}))),s.a.createElement("div",{className:"collapse",id:"completed-job-".concat(t)},s.a.createElement(cl,{Refresh:function(t){e.RefreshDriverContainer=t},DriverID:a.DriverID})))}}]),t}(r.Component),jc=Pc,Tc=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"CompletedJobPackages"},a.setState({Searching:!0}),t.next=5,O.a.awrap(Ce(e).then((function(e){"Completed job packages found."===e.Message?a.setState({AllCompletedJobPackages:e.CompletedJobPackages,CompletedJobPackages:e.CompletedJobPackages,Searching:!1}):a.setState({AllCompletedJobPackages:[],CompletedJobPackages:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.refresh=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"CompletedJobPackages"},a.setState({Refreshing:!0}),t.next=5,O.a.awrap(Ce(e).then((function(e){"Completed job packages found."===e.Message?a.setState({AllCompletedJobPackages:e.CompletedJobPackages,CompletedJobPackages:e.CompletedJobPackages,Refreshing:!1}):a.setState({AllCompletedJobPackages:[],CompletedJobPackages:[],Refreshing:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){if(e.preventDefault(),""!==a.state.SearchDate){var t=a.state.AllCompletedJobPackages,n=[],r=0,s=a.state.SearchString,l=!0,c=!1,o=void 0;try{for(var i,m=t[Symbol.iterator]();!(l=(i=m.next()).done);l=!0){var d=i.value;d.CompletedJob.JobNumber.includes(s)&&(n[r++]=d)}}catch(u){c=!0,o=u}finally{try{l||null==m.return||m.return()}finally{if(c)throw o}}a.setState({CompletedJobPackages:n})}else a.setState({CompletedJobPackages:a.state.AllCompletedJobPackages})},a.state={AllCompletedJobPackages:[],CompletedJobPackages:[],SearchString:"",Searching:!1,Refreshing:!1},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a.refresh=a.refresh.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.Refresh(this.refresh),e.next=3,O.a.awrap(this.onComponentUpdated());case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state.CompletedJobPackages;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container",style:{paddingBottom:"10px",marginBottom:"12px"}},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-check m-r-xxs"}),"Completed Jobs"),s.a.createElement("p",{className:"color-light"},"You have assigned ".concat(t.length," jobs so far. Have more cargo to deliver? Add a Job Offer now, or browse some Job Requests.")))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Your Completed Jobs",this.state.Refreshing?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"SearchString",className:"form-control",placeholder:"Search Jobs",style:{maxWidth:"500px",width:"100%"},value:this.state.SearchString,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===t.length?s.a.createElement(nn,{Searching:this.state.Searching,SearchingFor:"completed jobs"}):s.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},t.map((function(t,a){return s.a.createElement(jc,{key:a,Index:a,CompletedJobPackage:t,OnReviewAdded:function(a){var n=e.state.CompletedJobPackages,r=!0,s=!1,l=void 0;try{for(var c,o=n[Symbol.iterator]();!(r=(c=o.next()).done);r=!0){var i=c.value;if(i===t){i.DriverReview=a;break}}}catch(m){s=!0,l=m}finally{try{r||null==o.return||o.return()}finally{if(s)throw l}}e.setState({CompletedJobPackages:n})}})}))))}}]),t}(r.Component),Rc=Tc,Dc=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Rc,{Refresh:this.props.Refresh}))}}]),t}(r.Component),Ac=Dc,Fc=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"JOBS"}),s.a.createElement("ul",{className:"nav nav-tabs theme-alt",role:"tablist",style:{padding:"10px",backgroundColor:"#3A3A3C",width:"100%",margin:"0px"}},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#job-requests","aria-controls":"job-requests",role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshJobRequests());case 2:case"end":return t.stop()}}))}},"Job Requests")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#job-offers","aria-controls":"job-offers",role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshJobOffers());case 2:case"end":return t.stop()}}))}},"Job Offers")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#on-going-job","aria-controls":"on-going-job",role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshOnGoingJob());case 2:case"end":return t.stop()}}))}},"On-Going Job")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#completed-jobs","aria-controls":"completed-jobs",role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshCompletedJobs());case 2:case"end":return t.stop()}}))}},"Completed Jobs"))),s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"job-requests"},s.a.createElement(Fl,{Refresh:function(t){e.RefreshJobRequests=t}})),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"job-offers"},s.a.createElement(rc,{Refresh:function(t){e.RefreshJobOffers=t}})),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"on-going-job"},s.a.createElement(Oc,{Refresh:function(t){e.RefreshOnGoingJob=t}})),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"completed-jobs"},s.a.createElement(Ac,{Refresh:function(t){e.RefreshCompletedJobs=t}}))))}}]),t}(r.Component),Lc=Fc,Ic=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"BillData"},a.setState({Searching:!0}),t.next=5,O.a.awrap(Ce(e).then((function(e){"Bill data found."===e.Message?a.setState({BillData:e.BillData,Searching:!1}):a.setState({BillData:null,Searching:!1})})));case 5:case"end":return t.stop()}}))},a.state={BillData:null,Searching:!1},a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state.BillData,t=this.state.Searching;if(t||!e)return s.a.createElement(nn,{Searching:t,SearchingFor:"bill data"});var a=this.props.Bill;return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default back-color-light"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"type-t3",style:{fontWeight:"600"}},s.a.createElement("span",{className:"fas fa-route m-r-xxxs"}),"NAQEL"),s.a.createElement("div",{className:"p-t-xxs"},s.a.createElement("div",{className:"type-t9"},"123 Naqel Street"),s.a.createElement("div",{className:"type-t9"},"Wah, Punjab, Pakistan."),s.a.createElement("div",{className:"type-t9"},"ZIP 47000")),s.a.createElement("div",{className:"p-t-xxs"},s.a.createElement("div",{className:"type-t9"},"+92 318 5037972"),s.a.createElement("div",{className:"type-t9"},"naqel-transport-jobs.firebaseapp.com"),s.a.createElement("div",{className:"type-t9"},"Naqel Transport Jobs")),s.a.createElement("div",{className:"type-t7 p-t-xxs"},"BILLED TO"),s.a.createElement("div",{className:"p-t-xxs"},s.a.createElement("div",{className:"type-t9"},"".concat(e.FirstName," ").concat(e.LastName)),s.a.createElement("div",{className:"type-t9"},e.Address)),s.a.createElement("div",{className:"type-t7 p-t-xxs"},"INVOICE"),s.a.createElement("div",{className:"p-t-xxs"},s.a.createElement("div",{className:"type-t9"},"INVOICE #"),s.a.createElement("div",{className:"type-t9"},a.BillNumber),s.a.createElement("div",{className:"type-t9 p-t-xxxs"},"DATE OF ISSUE"),s.a.createElement("div",{className:"type-t9"},new Date(a.Created).toDateString()),s.a.createElement("div",{className:"type-t9 p-t-xxxs"},"INVOICE TOTAL"),s.a.createElement("div",{className:"type-t3 color-default"},"$".concat(a.Amount.toFixed(2)))))))}}]),t}(r.Component),Uc=Ic,Vc=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.Index,a=this.props.Bill;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"print-bill-dialog-".concat(t),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement(Uc,{Bill:a,ref:function(t){return e.Bill=t}}),s.a.createElement("div",{className:"text-right back-color-gray p-xxs"},s.a.createElement(Vr.a,{trigger:function(){return s.a.createElement("button",{className:"btn btn-primary m-n"},"Print")},content:function(){return e.Bill}})))))))}}]),t}(r.Component),Jc=Vc,Mc=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"BillData"},a.setState({Searching:!0}),t.next=5,O.a.awrap(Ce(e).then((function(e){"Bill data found."===e.Message?a.setState({BillData:e.BillData,Searching:!1}):a.setState({BillData:null,Searching:!1})})));case 5:case"end":return t.stop()}}))},a.state={BillData:null,Searching:!1},a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state.BillData,t=this.state.Searching;if(t||!e)return s.a.createElement(nn,{Searching:t,SearchingFor:"bill data"});var a=this.props.Bill;return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default back-color-light"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"p-t-xxs"},s.a.createElement("div",{className:"type-t9"},"123 Naqel Street"),s.a.createElement("div",{className:"type-t9"},"Wah, Punjab, Pakistan."),s.a.createElement("div",{className:"type-t9"},"ZIP 47000")),s.a.createElement("div",{className:"p-t-xxs"},s.a.createElement("div",{className:"type-t9"},"+92 318 5037972"),s.a.createElement("div",{className:"type-t9"},"naqel-transport-jobs.firebaseapp.com"),s.a.createElement("div",{className:"type-t9"},"Naqel Transport Jobs")),s.a.createElement("div",{className:"type-t7 p-t-xxs"},"BILLED TO"),s.a.createElement("div",{className:"p-t-xxs"},s.a.createElement("div",{className:"type-t9"},"".concat(e.FirstName," ").concat(e.LastName)),s.a.createElement("div",{className:"type-t9"},e.Address)),s.a.createElement("div",{className:"type-t7 p-t-xxs"},"INVOICE"),s.a.createElement("div",{className:"p-t-xxs"},s.a.createElement("div",{className:"type-t9"},"INVOICE #"),s.a.createElement("div",{className:"type-t9"},a.BillNumber),s.a.createElement("div",{className:"type-t9 p-t-xxxs"},"DATE OF ISSUE"),s.a.createElement("div",{className:"type-t9"},new Date(a.SpecialTraderBill.Created).toDateString()),s.a.createElement("div",{className:"type-t9 p-t-xxxs"},"INVOICE TOTAL"),s.a.createElement("div",{className:"type-t3 color-default"},"$".concat(a.SpecialTraderBill.Amount.toFixed(2)))))))}}]),t}(r.Component),Bc=Mc,qc=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.Index,a=this.props.Bill;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"print-special-bill-dialog-".concat(t),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement(Bc,{Bill:a,ref:function(t){return e.Bill=t}}),s.a.createElement("div",{className:"text-right back-color-gray p-xxs"},s.a.createElement(Vr.a,{trigger:function(){return s.a.createElement("button",{className:"btn btn-primary m-n"},"Print")},content:function(){return e.Bill}})))))))}}]),t}(r.Component),Qc=qc,Wc=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.Token,TraderBillID:a.props.TraderBillID,PhotoURL:a.state.PhotoURL},console.log("Going to add trader pay proof."),a.setState({ShowPreloader:!0}),n.next=8,O.a.awrap(Ge(t).then((function(e){"Trader pay proof is added."===e.Message?(a.setState({ShowPreloader:!1}),a.cancelButton.click(),a.props.OnOK()):a.setState({ShowPreloader:!1})})));case 8:case"end":return n.stop()}}))},a.state={PhotoURL:"./images/default_image.png",ValidPhotoURL:!1,ValidForm:!1,ShowPreloader:!1,Errors:{PhotoURL:""}},a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidPhotoURL;switch(e){case"PhotoURL":r=null!==t,n.PhotoURL=r?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidPhotoURL:r},(function(){a.setState({ValidForm:a.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this,t=this.state.ShowPreloader,a=this.props.Index;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"add-pay-proof-dialog-".concat(a),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},t?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement(wa,{Source:this.state.PhotoURL,OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)}}),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"text-danger"}))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Upload Payment Proof"),s.a.createElement("div",{className:"type-sh3"}," The proof of a payment can be a Bank Transfer Receipt."),s.a.createElement("div",{className:"type-sh4 text-danger"},this.state.Errors.PhotoURL))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Upload",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))))}}]),t}(r.Component),Gc=Wc,_c=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDelete=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.props.PayProof.Approved){t.next=2;break}return t.abrupt("return");case 2:return a.setState({ShowPreloader:!0}),e={Token:localStorage.Token,TraderPayProofID:a.props.PayProof.TraderPayProofID},console.log("Going to delete Trader pay proof."),t.next=7,O.a.awrap(_e(e).then((function(e){"Trader pay proof is deleted."===e.Message?(a.setState({ShowPreloader:!1}),a.props.OnPayProofDeleted()):a.setState({ShowPreloader:!1})})));case 7:case"end":return t.stop()}}))},a.state={ShowPreloader:!1},a.onDelete=a.onDelete.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.ShowPreloader,t=this.props.PayProof,a=this.props.JobNumber;return s.a.createElement("section",null,t.Approved?null:s.a.createElement("div",{class:"alert alert-danger m-n p-n"},s.a.createElement("div",{class:"container"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-24"},s.a.createElement("p",null,s.a.createElement("span",{className:"fas fa-exclamation-circle m-r-xxxs"}),"PENDING APPROVAL: The driver will approve this proof. See driver details from ",s.a.createElement("span",{className:"color-default"},"Completed Jobs")," section for Job Number: ",s.a.createElement("span",{className:"color-default"},a),"."))))),s.a.createElement(br,{PayProof:t}),t.Approved?null:s.a.createElement("div",{className:"text-right back-color-gray p-xxs"},s.a.createElement("button",{className:"btn btn-danger m-n",onClick:this.onDelete},"Delete")),e?s.a.createElement(ca,null):null)}}]),t}(r.Component),zc=_c,Hc=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"PaymentDetails",Params:{TraderBillID:a.props.TraderBillID}},a.setState({Searching:!0}),t.next=5,O.a.awrap(Ce(e).then((function(e){console.log("PAYMENT"),console.log(e),"Payment details found."===e.Message?a.setState({PaymentDetails:e.PaymentDetails,Searching:!1}):a.setState({PaymentDetails:null,Searching:!1})})));case 5:case"end":return t.stop()}}))},a.refresh=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Token:localStorage.Token,Get:"PaymentDetails",Params:{TraderBillID:a.props.TraderBillID}},t.next=4,O.a.awrap(Ce(e).then((function(e){"Payment details found."===e.Message?a.setState({PaymentDetails:e.PaymentDetails}):a.setState({PaymentDetails:null})})));case 4:case"end":return t.stop()}}))},a.state={PaymentDetails:null,Searching:!1},a.refresh=a.refresh.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.Refresh(this.refresh),e.next=3,O.a.awrap(this.onComponentUpdated());case 3:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.PaymentDetails,a=e.Searching;if(a||!t)return s.a.createElement(nn,{Searching:a,SearchingFor:"payment details"});if(t.IsOnlinePayment)return s.a.createElement(Nr,{PayDetails:t.PayDetails});var n=this.props.JobNumber;return s.a.createElement(zc,{PayProof:t.PayProof,JobNumber:n,OnPayProofDeleted:this.props.OnPayProofDeleted})}}]),t}(r.Component),Kc=Hc,Yc=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onCardInputChange=function(e){var t=a.state.Errors;t.CheckOut=e.error?e.error.message:"",a.setState({Errors:t})},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.toggleCard=function(e){a.setState({ShowCard:e})},a.onSubmit=function(e){var t,n,r,s,l,c,o;return O.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.preventDefault(),a.state.ValidForm){i.next=3;break}return i.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t=a.props.Bill,n={name:a.state.Owner,email:a.state.Email},r={Token:localStorage.Token,Amount:100*t.Amount},s=a.props.Stripe,l=a.props.Elements,c=l.getElement(Ar.CardElement),i.prev=10,i.next=13,O.a.awrap(ze(r).then((function(e){var t,r,l,o,i,m,d;return O.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if("Client secret found."!==e.Message){u.next=24;break}return t=e.ClientSecret,u.next=4,O.a.awrap(s.createPaymentMethod({type:"card",card:c,billing_details:n}));case 4:if(!(r=u.sent).error){u.next=10;break}return(l=a.state.Errors).CheckOut=r.error.message,a.setState({Errors:l,ShowPreloader:!1}),u.abrupt("return");case 10:return o={Token:localStorage.Token,TraderBillID:a.props.Bill.TraderBillID,OwnerName:a.state.Owner,OwnerEmail:a.state.Email,CardType:r.paymentMethod.card.brand},u.next=13,O.a.awrap(s.confirmCardPayment(t,{payment_method:r.paymentMethod.id}));case 13:if(i=u.sent,!(m=i.error)){u.next=20;break}return(d=a.state.Errors).CheckOut=m.message,a.setState({Errors:d,ShowPreloader:!1}),u.abrupt("return");case 20:return u.next=22,O.a.awrap($e(o).then((function(e){a.setState({ShowPreloader:!1}),"Pay details are added."===e.Message&&(a.toggleCard(!1),a.cancelButton.click(),a.props.OnOK())})));case 22:u.next=25;break;case 24:a.setState({ShowPreloader:!1});case 25:case"end":return u.stop()}}))})));case 13:i.next=20;break;case 15:i.prev=15,i.t0=i.catch(10),(o=a.state.Errors).CheckOut=i.t0.message,a.setState({Errors:o});case 20:case"end":return i.stop()}}),null,null,[[10,15]])},a.state={Owner:"",Email:"",ValidOwner:!1,ValidEmail:!1,ValidForm:!1,ShowPreloader:!1,ShowCard:!1,Errors:{Owner:"",Email:"",CheckOut:""}},a.toggleCard=a.toggleCard.bind(Object(h.a)(a)),a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.onCardInputChange=a.onCardInputChange.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.ToggleCard(this.toggleCard)}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidOwner,s=this.state.ValidEmail;switch(e){case"Owner":if(r=""!==t,n.Owner=r?"":"Card owner name is required.",""!==n.Owner)break;r=t.match(/^[a-zA-Z ]+$/),Error.Owner=r?"":"Invalid owner name.";break;case"Email":if(s=""!==t,n.Email=s?"":"Email is required.",""!=n.NewEmail)break;s=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),n.Email=s?"":"Email is invalid."}this.setState({Errors:n,ValidOwner:r,ValidEmail:s},(function(){a.setState({ValidForm:a.state.ValidOwner&&a.state.ValidEmail})}))}},{key:"render",value:function(){var e=this,t=this.state.ShowCard,a=this.state.ShowPreloader,n=this.props.Index,r=this.props.Bill,l={iconStyle:"solid",style:{base:{color:"#000000",fontSize:"15px",fontFamily:"Segoe UI",iconColor:"#000000"},invalid:{iconColor:"#D75A4A",color:"#D75A4A"},complete:{iconColor:"#008575"}},hidePostalCode:!0};return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"pay-online-dialog-".concat(n),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},a?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",onClick:function(){e.toggleCard(!1)},ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Pay Online"),s.a.createElement("div",{className:"type-sh3 m-b-xxs"},"Pay the bill with your credit card."),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Owner Name"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"text",name:"Owner",className:"form-control",autoComplete:"off",value:this.state.Owner,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.Owner)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Owner Email"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"email",name:"Email",className:"form-control",autoComplete:"off",placeholder:"someone@mail.com",value:this.state.Email,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.Email)),s.a.createElement("div",{className:"type-sh4"},s.a.createElement("span",{className:"fab fa-cc-visa"}),s.a.createElement("span",{className:"fab fa-cc-mastercard m-l-xxxs"}),s.a.createElement("span",{className:"fab fa-cc-amex m-l-xxxs"}),s.a.createElement("span",{className:"fab fa-cc-discover m-l-xxxs"}),s.a.createElement("span",{className:"fab fa-cc-diners-club m-l-xxxs"}),s.a.createElement("span",{className:"fab fa-cc-jcb m-l-xxxs"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Credit Card Information"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("div",{className:"form-control p-t-xxxs p-b-xxxs",style:{maxWidth:"100%",width:"100%",borderColor:"rgba(0, 0, 0, 0.6)"}},t?s.a.createElement(Ar.CardElement,{options:l,onChange:this.onCardInputChange}):null),s.a.createElement("span",{className:"text-danger"},this.state.Errors.CheckOut)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Pay $".concat(r.Amount.toFixed(2)),className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))))}}]),t}(r.Component),$c=Yc,Xc=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,TraderBillID:a.props.TraderBill.TraderBillID,Amount:a.state.Price},n.next=7,O.a.awrap(He(t).then((function(e){a.setState({ShowPreloader:!1}),"Special bill is requested."===e.Message&&(a.cancelButton.click(),a.props.OnOK(e.SpecialTraderBill))})));case 7:case"end":return n.stop()}}))},a.state={Price:0,ValidPrice:!1,ValidForm:!1,ShowPreloader:!1,Errors:{Price:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state,r=n.Errors,s=n.ValidPrice;switch(e){case"Price":s=""!==t,r.Price=s?"":"Temporary is required."}this.setState({Errors:r,ValidPrice:s},(function(){a.setState({ValidForm:s})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.Price,n=t.ShowPreloader,r=t.ValidForm,l=t.Errors,c=this.props,o=c.Index,i=c.TraderBill;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"request-special-bill-dialog-".concat(o),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},n?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"type-h3 color-default p-t-xxs"},"Request Special Bill"),s.a.createElement("div",{className:"type-sh3"},"Current amount is $".concat(i.Amount.toFixed(2),".")),s.a.createElement("div",{className:"row p-t-xxs"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Temporary Amount (USD)"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",step:"0.01",name:"Price",className:"form-control",autoComplete:"off",value:a,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},l.Price)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Request",className:"btn btn-primary",disabled:!r}))))))))))}}]),t}(r.Component),Zc=Xc,eo=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.Index,a=this.props.Bill,n=this.props.CanRequestSpecialBills;return s.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement(Ir,{Index:t,Bill:a}),s.a.createElement("div",{className:"text-right back-color-gray p-xxs"},s.a.createElement("button",{className:"btn btn-secondary","data-toggle":"modal","data-target":"#print-bill-dialog-".concat(t)},"Print Bill"),a.HasPayProof||a.HasPayDetails?null:s.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#pay-online-dialog-".concat(t),onMouseDown:function(){e.ToggleCard(!0)}},"Pay Online"),a.HasPayProof||a.HasPayDetails?null:s.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#add-pay-proof-dialog-".concat(t)},"Upload Pay Proof"),n?s.a.createElement("section",null,a.SpecialTraderBill?s.a.createElement("button",{className:"btn btn-secondary","data-toggle":"modal","data-target":"#print-special-bill-dialog-".concat(t)},"Print Special Bill"):s.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#request-special-bill-dialog-".concat(t)},"Request Special Bill")):null),s.a.createElement("div",{className:"back-color-gray","data-toggle":"collapse","aria-expanded":"false","data-target":"#bill-".concat(t),onMouseDown:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshPaymentDetails());case 2:case"end":return t.stop()}}))}},s.a.createElement("div",{className:"type-h4 color-default text-right p-xxxs"},"Payment Details",s.a.createElement("i",{className:"fas fa-ellipsis-v"}),s.a.createElement("i",{class:"glyph glyph-add"}),s.a.createElement("i",{class:"glyph glyph-remove"}))),s.a.createElement("div",{className:"collapse",id:"bill-".concat(t)},s.a.createElement(Kc,{Refresh:function(t){e.RefreshPaymentDetails=t},TraderBillID:a.TraderBillID,JobNumber:a.JobNumber,OnPayProofDeleted:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.OnPayProofUpdated(a,!1),t.next=3,O.a.awrap(e.RefreshPaymentDetails());case 3:case"end":return t.stop()}}))}})),s.a.createElement(Jc,{Index:t,Bill:a}),a.HasPayProof||a.HasPayDetails?null:s.a.createElement(Gc,{Index:t,TraderBillID:a.TraderBillID,OnOK:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.OnPayProofUpdated(a,!0),t.next=3,O.a.awrap(e.RefreshPaymentDetails());case 3:case"end":return t.stop()}}))}}),a.HasPayDetails?null:s.a.createElement(Ar.ElementsConsumer,null,(function(n){var r=n.elements,l=n.stripe;return s.a.createElement($c,{Index:t,Bill:a,Elements:r,Stripe:l,ToggleCard:function(t){e.ToggleCard=t},OnOK:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return e.props.OnPayDetailsAdded(a),t.next=3,O.a.awrap(e.RefreshPaymentDetails());case 3:case"end":return t.stop()}}))}})})),n?s.a.createElement("section",null,a.SpecialTraderBill?s.a.createElement(Qc,{Index:t,Bill:a}):s.a.createElement(Zc,{Index:t,TraderBill:a,OnOK:function(t){e.props.OnSpecialBillRequested(a,t)}})):null)}}]),t}(r.Component),to=eo,ao=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"Bills"},a.setState({Searching:!0}),t.next=5,O.a.awrap(Ce(e).then((function(e){"Bills found."===e.Message?a.setState({Bills:e.Bills,NumberOfPaidBills:e.NumberOfPaidBills,NumberOfUnpaidBills:e.NumberOfUnpaidBills,CanRequestSpecialBills:e.CanRequestSpecialBills,Searching:!1}):a.setState({Bills:[],NumberOfPaidBills:0,NumberOfUnpaidBills:0,CanRequestSpecialBills:!1,Searching:!1})})));case 5:case"end":return t.stop()}}))},a.state={Bills:[],NumberOfPaidBills:0,NumberOfUnpaidBills:0,CanRequestSpecialBills:!1,Searching:!1},a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state.Bills,a=this.state.NumberOfPaidBills,n=this.state.NumberOfUnpaidBills,r=this.state.CanRequestSpecialBills;return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"PAYMENTS"}),s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/teal.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container",style:{paddingBottom:"10px",marginBottom:"12px"}},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-money-bill-wave m-r-xs"}),"Payments"))))),s.a.createElement("div",{class:"alert alert-info m-n",style:{backgroundColor:"#333333"}},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-6"},s.a.createElement("div",{className:"entity-list theme-alt"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon",style:{backgroundColor:"#333333",color:"#008575"}},s.a.createElement("span",{className:"fas fa-thumbs-up"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Paid Bills"),s.a.createElement("div",{className:"content-text-secondary"},a))))),s.a.createElement("div",{class:"col-md-6"},s.a.createElement("div",{className:"entity-list theme-alt"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon",style:{backgroundColor:"#333333",color:"#008575"}},s.a.createElement("span",{className:"fas fa-thumbs-down"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Unpaid Bills"),s.a.createElement("div",{className:"content-text-secondary"},n))))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Your Bills"),0===t.length?s.a.createElement(nn,{Searching:this.state.Searching,SearchingFor:"bills"}):s.a.createElement("ol",{className:"list-items m-n"},t.map((function(t,a){return s.a.createElement(to,{key:a,Index:a,Bill:t,CanRequestSpecialBills:r,OnPayProofUpdated:function(t,a){var n=e.state.Bills,r=!0,s=!1,l=void 0;try{for(var c,o=n[Symbol.iterator]();!(r=(c=o.next()).done);r=!0){var i=c.value;if(i===t){i.HasPayProof=a;break}}}catch(m){s=!0,l=m}finally{try{r||null==o.return||o.return()}finally{if(s)throw l}}e.setState({Bills:n})},OnPayDetailsAdded:function(t){var a=e.state.Bills,n=e.state.NumberOfPaidBills,r=e.state.NumberOfUnpaidBills,s=!0,l=!1,c=void 0;try{for(var o,i=a[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var m=o.value;if(m===t){m.Paid=!0,m.HasPayDetails=!0,n++,r--;break}}}catch(d){l=!0,c=d}finally{try{s||null==i.return||i.return()}finally{if(l)throw c}}e.setState({Bills:a,NumberOfPaidBills:n,NumberOfUnpaidBills:r})},OnSpecialBillRequested:function(t,a){var n=e.state.Bills,r=!0,s=!1,l=void 0;try{for(var c,o=n[Symbol.iterator]();!(r=(c=o.next()).done);r=!0){var i=c.value;if(i===t){i.SpecialTraderBill=a;break}}}catch(m){s=!0,l=m}finally{try{r||null==o.return||o.return()}finally{if(s)throw l}}e.setState({Bills:n})}})}))))}}]),t}(r.Component),no=ao,ro=Object(Fr.a)(g.a.STRIPE_PUBLISHABLE_KEY),so=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Ar.Elements,{stripe:ro},s.a.createElement(no,null)))}}]),t}(r.Component),lo=so,co=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,Question:a.state.Question},n.next=7,O.a.awrap(Ke(t).then((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({ShowPreloader:!1}),"Question is added."===e.Message&&(a.cancelButton.click(),a.props.OnOK());case 2:case"end":return t.stop()}}))})));case 7:case"end":return n.stop()}}))},a.state={Question:"",ValidQuestion:!1,ValidForm:!1,ShowPreloader:!1,Errors:{Question:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidQuestion;switch(e){case"Question":r=""!==t,n.Question=r?"":"Question is required."}this.setState({Errors:n,ValidQuestion:r},(function(){a.setState({ValidForm:a.state.ValidQuestion})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.Question,n=t.ShowPreloader,r=t.ValidForm,l=t.Errors;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"ask-question-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},n?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Ask a New Question"),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"control-label"},"Question"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("textarea",{rows:"6",class:"form-control",name:"Question",style:{maxWidth:"100%"},value:a,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},l.Question)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Post",className:"btn btn-primary",disabled:!r}))))))))))}}]),t}(r.Component),oo=co,io=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.Index,a=e.Question,n=new Date(a.Created),r=a.AskedBy,l=a.TraderAnswer,c=l?new Date(l.Created):null,o=l?l.AnsweredBy:null;return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"type-h5 color-default p-t-n"},"".concat(t+1,". Question ID: ").concat(a.QuestionNumber)),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-user"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},s.a.createElement("span",{className:"fas fa-briefcase m-r-xxxs"}),"".concat(r.FirstName," ").concat(r.LastName)),s.a.createElement("div",{className:"content-text-secondary"},r.Username),s.a.createElement("div",{className:"content-text-secondary"},"".concat(n.toDateString()," at ").concat(n.toLocaleTimeString())))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-question"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},s.a.createElement("span",{className:"m-r-xxxs"},"Question"),a.Class?s.a.createElement("span",{class:"badge back-color-golden"},a.Class.toUpperCase()):s.a.createElement("span",{class:"badge back-color-golden"},"UNCLASSIFIED")),s.a.createElement("div",{className:"content-text-secondary"},a.Question))))),l?s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-user"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},s.a.createElement("span",{className:"fas fa-user-shield m-r-xxxs"}),"".concat(o.FirstName," ").concat(o.LastName)),s.a.createElement("div",{className:"content-text-secondary"},o.Username),s.a.createElement("div",{className:"content-text-secondary"},"".concat(c.toDateString()," at ").concat(c.toLocaleTimeString(),".")))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-comment"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},s.a.createElement("span",{className:"m-r-xxxs"},"Answer"),l.Edited?s.a.createElement("span",{className:"color-default"},"EDITED"):null),s.a.createElement("div",{className:"content-text-secondary"},l.Answer))))):s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-comment"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},s.a.createElement("span",{className:"m-r-xxxs"},"Answer")),s.a.createElement("div",{className:"content-text-secondary"},"This question has not been answered yet.")))))))))}}]),t}(r.Component),mo=io,uo=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDelete=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({ShowPreloader:!0}),e={Token:localStorage.Token,TraderQuestionID:a.props.TraderQuestionID},t.next=4,O.a.awrap(Ye(e).then((function(e){a.setState({ShowPreloader:!1}),"Question is deleted."===e.Message&&(a.cancelButton.click(),a.props.OnOK())})));case 4:case"end":return t.stop()}}))},a.state={ShowPreloader:!1},a.onDelete=a.onDelete.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.ShowPreloader,a=this.props,n=a.Index,r=a.QuestionNumber;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"delete-trader-question-dialog-".concat(n),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},t?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Delete Question"),s.a.createElement("div",{className:"type-sh3 m-b-xxs"},"Are you sure you want to delete question with ID",s.a.createElement("span",{className:"color-default"}," ".concat(r,"."))))),s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",onClick:this.onDelete},"Delete")))))))))}}]),t}(r.Component),po=uo,Eo=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.Index,a=e.Question;return s.a.createElement("section",null,s.a.createElement(mo,{Index:t,Question:a}),s.a.createElement("div",{className:"text-right p-xxs",style:{backgroundColor:"#DDDDDD"}},s.a.createElement("button",{className:"btn btn-danger m-t-n","data-toggle":"modal","data-target":"#delete-trader-question-dialog-".concat(t)},"Delete")),s.a.createElement(po,{Index:t,TraderQuestionID:a.TraderQuestionID,QuestionNumber:a.QuestionNumber,OnOK:this.props.OnQuestionDeleted}))}}]),t}(r.Component),ho=Eo,bo=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"Questions"},a.setState({Searching:!0}),t.next=5,O.a.awrap(Ce(e).then((function(e){"Questions found."===e.Message?a.setState({AllQuestions:e.Questions,Questions:e.Questions,Searching:!1}):a.setState({AllQuestions:[],Questions:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){e.preventDefault();var t=a.state.SearchString;if(""!==t){var n=a.state.AllQuestions,r=[],s=0,l=!0,c=!1,o=void 0;try{for(var i,m=n[Symbol.iterator]();!(l=(i=m.next()).done);l=!0){var d=i.value;(d.Question.includes(t)||d.QuestionNumber.includes(t)||d.Class.includes(t))&&(r[s++]=d)}}catch(u){c=!0,o=u}finally{try{l||null==m.return||m.return()}finally{if(c)throw o}}a.setState({Questions:r})}else a.setState({Questions:a.state.AllQuestions})},a.state={AllQuestions:[],Questions:[],SearchString:"",Searching:!1,Refreshing:!1},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.Questions,n=t.SearchString,r=t.Searching,l=t.Refreshing;return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"QUESTIONS"}),s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-question-circle m-r-xxs"}),"Questions"),s.a.createElement("p",{className:"color-light"},"If you are facing any issues, then post a question. Naqel team will answer them as soon as possible."),s.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#ask-question-dialog"},"Ask a Question"))))),s.a.createElement(oo,{OnOK:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.onComponentUpdated());case 2:case"end":return t.stop()}}))}}),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Your Questions",l?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search Questions",style:{maxWidth:"500px",width:"100%"},value:n,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===a.length?s.a.createElement(nn,{Searching:r,SearchingFor:"questions"}):s.a.createElement("ol",{className:"list-items m-n"},a.map((function(t,a){return s.a.createElement("li",{key:a,className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement(ho,{Index:a,Question:t,OnQuestionDeleted:e.onComponentUpdated}))}))))}}]),t}(r.Component),vo=bo,fo=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(vo,null))}}]),t}(r.Component),go=fo,No=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(w.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),e.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,FirstName:e.state.FirstName,LastName:e.state.LastName,Address:e.state.Address,PhoneNumber:e.state.PhoneNumber,Gender:e.state.Gender,Nationality:e.state.Nationality,DateOfBirth:e.state.DateOfBirth},e.setState({Preloader:s.a.createElement(ca,null)}),n.next=7,O.a.awrap(we(a).then((function(t){"Trader is updated."===t.Message&&(e.forceUpdate(),e.props.OnSettingsSaved()),e.setState({Preloader:null})})));case 7:case"end":return n.stop()}}))},e.state={FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:"",ValidFirstName:!0,ValidLastName:!0,ValidPhoneNumber:!0,ValidForm:!1,SettingsSaved:!1,Preloader:null,Errors:{FirstName:"",LastName:"",PhoneNumber:""}},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=4;break}return e={Token:localStorage.Token,Get:"Trader"},a.next=4,O.a.awrap(Ce(e).then((function(e){if("Trader found."===e.Message){var a=e.Trader;t.setState({FirstName:a.FirstName,LastName:a.LastName,Address:a.Address,PhoneNumber:a.PhoneNumber,Gender:a.Gender,Nationality:a.Nationality,DateOfBirth:a.DateOfBirth})}else t.setState({FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:""})})));case 4:case"end":return a.stop()}}))}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidFirstName,s=this.state.ValidLastName,l=this.state.ValidPhoneNumber;switch(e){case"FirstName":r=t.match(/^[a-zA-Z ]+$/),n.FirstName=r?"":"First name is invalid.";break;case"LastName":s=t.match(/^[a-zA-Z ]+$/),n.LastName=s?"":"Last name is invalid.";break;case"PhoneNumber":l=t.match(/^\+[0-9]?()[0-9](\s|\S)(\d[0-9]{9})$/),n.PhoneNumber=l?"":"Phone number is invalid."}this.setState({Errors:n,ValidFirstName:r,ValidLastName:s,ValidPhoneNumber:l},(function(){a.setState({ValidForm:a.state.ValidFirstName&&a.state.ValidLastName&&a.state.ValidPhoneNumber})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"General Settings"),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"entity-list entity-list-expandable"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-comment"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"FirstName",autoComplete:"off",value:this.state.FirstName,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"First Name"),s.a.createElement("div",{className:"text-danger"},this.state.Errors.FirstName))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-comment"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"LastName",autoComplete:"off",value:this.state.LastName,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Last Name"),s.a.createElement("div",{className:"text-danger"},this.state.Errors.LastName))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-birthday-cake"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"date",className:"form-control",name:"DateOfBirth",autoComplete:"off",value:this.state.DateOfBirth,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Date of Birth"))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"Male"===this.state.Gender?"fas fa-male":"fas fa-female"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"dropdown",style:{width:"193px",maxWidth:"296px"}},s.a.createElement("button",{id:"example-dropdown",className:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},s.a.createElement("span",null,this.state.Gender),s.a.createElement("span",{className:"caret"})),s.a.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){e.setState({Gender:"Male"}),e.validateField("","")}},"Male")),s.a.createElement("li",null,s.a.createElement("a",{onClick:function(){e.setState({Gender:"Female"}),e.validateField("","")}},"Female"))))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Gender"))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-flag"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"Nationality",autoComplete:"off",value:this.state.Nationality,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Nationality"))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-phone"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"PhoneNumber",autoComplete:"off",placeholder:"+XXXXXXXXXXXX",value:this.state.PhoneNumber,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Phone Number"),s.a.createElement("div",{className:"text-danger"},this.state.Errors.PhoneNumber))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-location-arrow"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"Address",autoComplete:"off",value:this.state.Address,onChange:this.onChange,style:{width:"393px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Address"))),s.a.createElement("div",{className:"entity-list-item active"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-save"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Save Changes?"),s.a.createElement("div",{className:"content-text-secondary"},"This cannot be undone.")),s.a.createElement("div",{className:"item-content-expanded"},s.a.createElement("input",{type:"submit",value:"Save",className:"btn btn-primary",disabled:!this.state.ValidForm}))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.Preloader)}}]),t}(r.Component),yo=No,xo=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.Token,Username:a.props.Username,Email:a.props.Email},a.setState({Preloader:s.a.createElement(ca,null)}),n.next=7,O.a.awrap(Te(t).then((function(e){"Trader is updated."===e.Message&&a.props.OnOK(a.cancelButton),a.setState({Preloader:null})})));case 7:case"end":return n.stop()}}))},a.state={ConfirmCode:"",ValidConfirmCode:!1,ValidForm:!1,Preloader:null,Errors:{ConfirmCode:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidConfirmCode;r=t===this.props.Code,n.ConfirmCode=r?"":"Invalid code.",this.setState({Errors:n,ValidConfirmCode:r},(function(){a.setState({ValidForm:a.state.ValidConfirmCode})}))}},{key:"render",value:function(){var e=this;return s.a.createElement("section",{className:"text-left"},s.a.createElement("div",{className:"modal in",id:"code-confirmation-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true",style:{display:"block"}},s.a.createElement("div",{className:"modal-dialog"},this.state.Preloader,s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("section",null,s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"modal-header"},s.a.createElement("img",{alt:"passcode.png",src:"./images/passcode.png",height:"60"}),s.a.createElement("div",{className:"type-h3"},"Email Confirmation"),s.a.createElement("div",{className:"type-sh3"},"We delivered a confirmation code to your email.")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Confirmation Code"),s.a.createElement("input",{type:"text",name:"ConfirmCode",className:"form-control",autocomplete:"off",value:this.state.ConfirmCode,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},this.state.Errors.ConfirmCode))))),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},"Cancel"),s.a.createElement("input",{type:"submit",value:"Confirm",className:"btn btn-primary",disabled:!this.state.ValidForm})))))))))}}]),t}(r.Component),So=xo,Co=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(w.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a,n,r;return O.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(t.preventDefault(),e.state.ValidForm){l.next=3;break}return l.abrupt("return");case 3:if(e.state.NewUsername!==e.state.Username||e.state.NewEmail!==e.state.Email){l.next=5;break}return l.abrupt("return");case 5:if(e.state.NewUsername===e.state.Username){l.next=12;break}return l.next=8,O.a.awrap(ke(e.state.NewUsername));case 8:if("Username is unavailable."!==(a=l.sent).Message){l.next=12;break}return e.validateField("NewUsername",a.Message),l.abrupt("return");case 12:if(e.state.NewEmail===e.state.Email){l.next=19;break}return l.next=15,O.a.awrap(Pe(e.state.NewEmail));case 15:if("Email is already taken."!==(n=l.sent).Message){l.next=19;break}return e.validateField("NewEmail",n.Message),l.abrupt("return");case 19:if(e.state.NewEmail!==e.state.Email){l.next=27;break}return r={Token:localStorage.Token,Username:e.state.NewUsername,Email:e.state.NewEmail},e.setState({Preloader:s.a.createElement(ca,null)}),console.log("Going to update username."),l.next=25,O.a.awrap(Te(r).then((function(t){console.log(t),"Trader is updated."===t.Message&&e.props.OnSettingsSaved(),e.setState({Preloader:null})})));case 25:l.next=30;break;case 27:return console.log("Going to send code..."),l.next=30,O.a.awrap(je(e.state.NewEmail).then((function(t){console.log(t),"Code sent."===t.Message&&e.setState({CodeConfirmationDialog:s.a.createElement(So,{Code:t.Code,Username:e.state.NewUsername,Email:e.state.NewEmail,OnCancel:function(){e.setState({CodeConfirmationDialog:null})},OnOK:function(t){t.click(),e.props.OnSettingsSaved()}})})})));case 30:case"end":return l.stop()}}))},e.state={Username:"",NewUsername:"",Email:"",NewEmail:"",Code:"",ValidNewUsername:!0,ValidNewEmail:!0,ValidForm:!1,CodeConfirmationDialog:null,Errors:{NewUsername:"",NewEmail:""},CodeConfirmation:"",Preloader:null},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=4;break}return e={Token:localStorage.Token,Get:"Trader"},a.next=4,O.a.awrap(Ce(e).then((function(e){if("Trader found."===e.Message){var a=e.Trader;t.setState({Username:a.Username,NewUsername:a.Username,Email:a.Email,NewEmail:a.Email})}else t.setState({Username:"",NewUsername:"",Email:"",NewEmail:""})})));case 4:case"end":return a.stop()}}))}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidNewUsername,s=this.state.ValidNewEmail;switch(e){case"NewUsername":if(r=""!==t,n.NewUsername=r?"":"Username is required.",""!=n.NewUsername)break;if(r=t.match(/^[a-z0-9]+$/i),n.NewUsername=r?"":"Username is invalid.",""!=n.NewUsername)break;r="Username is unavailable."!==t,n.NewUsername=r?"":"Username is unavailable.";break;case"NewEmail":if(s=""!==t,n.NewEmail=s?"":"Email is required.",""!=n.NewEmail)break;if(s=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),n.NewEmail=s?"":"Email is invalid.",""!=n.NewEmail)break;s="Email is already taken."!==t,n.NewEmail=s?"":"Email is already taken."}this.setState({Errors:n,ValidNewUsername:r,ValidNewEmail:s},(function(){a.setState({ValidForm:a.state.ValidNewUsername&&a.state.ValidNewEmail})}))}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Username and Emails"),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"entity-list entity-list-expandable"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-at"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"NewUsername",className:"form-control",autoComplete:"off",value:this.state.NewUsername,onChange:this.onChange}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Username"),s.a.createElement("div",{className:"content-text-secondary text-danger"},this.state.Errors.NewUsername))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-envelope"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"email",name:"NewEmail",className:"form-control",placeholder:"someone@example.com",autoComplete:"off",value:this.state.NewEmail,onChange:this.onChange}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Email"),s.a.createElement("div",{className:"content-text-secondary text-danger"},this.state.Errors.NewEmail))),s.a.createElement("div",{className:"entity-list-item active"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-save"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Save Changes?"),s.a.createElement("div",{className:"content-text-secondary"},"This cannot be undone.")),s.a.createElement("div",{className:"item-content-expanded"},s.a.createElement("input",{type:"submit",value:"Save",className:"btn btn-primary",disabled:!this.state.ValidForm}))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.Preloader,this.state.CodeConfirmationDialog)}}]),t}(r.Component),Oo=Co,wo=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(w.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),e.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,Password:e.state.CurrentPassword},n.next=6,O.a.awrap(Re(a).then((function(t){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("Invalid password."!==t.Message){n.next=4;break}e.validateField("CurrentPassword",t.Message),n.next=8;break;case 4:return a={Token:localStorage.Token,Password:e.state.NewPassword},e.setState({Preloader:s.a.createElement(ca,null)}),n.next=8,O.a.awrap(De(a).then((function(t){"Trader is updated."===t.Message&&e.props.OnSettingsSaved(),e.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))})));case 6:case"end":return n.stop()}}))},e.state={CurrentPassword:"",NewPassword:"",ConfirmPassword:"",ValidCurrentPassword:!1,ValidNewPassword:!1,ValidConfirmPassword:!1,ValidForm:!1,Preloader:null,Errors:{CurrentPassword:"",NewPassword:"",ConfirmPassword:""}},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a,n,r,s,l=this;return O.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:a=this.state.Errors,n=this.state.ValidCurrentPassword,r=this.state.ValidNewPassword,s=this.state.ValidConfirmPassword,c.t0=e,c.next="CurrentPassword"===c.t0?7:"NewPassword"===c.t0?14:"ConfirmPassword"===c.t0?17:20;break;case 7:if(n=""!==t,a.CurrentPassword=n?"":"Current password is required.",""===a.CurrentPassword){c.next=11;break}return c.abrupt("break",21);case 11:return n="Invalid password."!==t,a.CurrentPassword=n?"":"Current password is invalid.",c.abrupt("break",21);case 14:return r=t.length>=6,a.NewPassword=r?"":"Password is too short.",c.abrupt("break",21);case 17:return s=t===this.state.NewPassword,a.ConfirmPassword=s?"":"Passwords did not match.",c.abrupt("break",21);case 20:return c.abrupt("break",21);case 21:this.setState({Errors:a,ValidCurrentPassword:n,ValidNewPassword:r,ValidConfirmPassword:s},(function(){l.setState({ValidForm:l.state.ValidCurrentPassword&&l.state.ValidNewPassword&&l.state.ValidConfirmPassword})}));case 22:case"end":return c.stop()}}),null,this)}},{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Change Password"),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"entity-list entity-list-expandable"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-key"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"password",name:"CurrentPassword",className:"form-control",autoComplete:"off",value:this.state.CurrentPassword,onChange:this.onChange}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Current Password"),s.a.createElement("div",{className:"text-danger"},this.state.Errors.CurrentPassword))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-key"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"password",name:"NewPassword",className:"form-control",autoComplete:"off",value:this.state.NewPassword,onChange:this.onChange}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"New Password"),s.a.createElement("div",{className:"text-danger"},this.state.Errors.NewPassword))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-key"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"password",name:"ConfirmPassword",className:"form-control",autoComplete:"off",value:this.state.ConfirmPassword,onChange:this.onChange}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Confirm Password"),s.a.createElement("div",{className:"text-danger"},this.state.Errors.ConfirmPassword))),s.a.createElement("div",{className:"entity-list-item active"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-save"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Save Changes?"),s.a.createElement("div",{className:"content-text-secondary"},"This cannot be undone.")),s.a.createElement("div",{className:"item-content-expanded"},s.a.createElement("input",{type:"submit",value:"Save",className:"btn btn-primary",disabled:!this.state.ValidForm}))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.Preloader)}}]),t}(r.Component),ko=wo,Po=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"SETTINGS"}),s.a.createElement(yo,{ref:"GeneralSettings",OnSettingsSaved:function(){e.refs.GeneralSettings.componentDidMount()}}),s.a.createElement(Oo,{ref:"UsernameAndEmailSettings",OnSettingsSaved:function(){e.refs.UsernameAndEmailSettings.componentDidMount()}}),s.a.createElement(ko,{ref:"PasswordSettings",OnSettingsSaved:function(){e.refs.PasswordSettings.forceUpdate()}}))}}]),t}(r.Component),jo=Po,To=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.ExoneratedTrader;return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron",style:{height:"100vh"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-4 text-center"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"sad.svg",src:"./images/sad.svg","data-source-index":"2"})),s.a.createElement("div",{className:"col-md-20"},s.a.createElement("div",{className:"type-h3 color-default"},"".concat(e.FirstName," ").concat(e.LastName,", You have been exonerated!")),s.a.createElement("div",{className:"type-sh3"},"Up to: ",s.a.createElement("span",{className:"color-default"},new Date(e.ExonerateDate).toDateString())),s.a.createElement("div",{className:"type-sh4"},"You cannot use Naqel's services until you are exonerated. See the reason, why our team has exonerated you."),s.a.createElement("p",null,s.a.createElement("span",{className:"color-default"},"REASON: "),e.Reason))))))}}]),t}(r.Component),Ro=To,Do=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onCloseNavigation=function(){a.setState({Left:-400})},a.state={Left:-400,DashboardData:null,Searching:!1},a.onCloseNavigation=a.onCloseNavigation.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=5;break}return e={Token:localStorage.Token,Get:"DashboardData"},this.setState({Searching:!0}),a.next=5,O.a.awrap(Ce(e).then((function(e){"Dashboard data found."===e.Message?t.setState({DashboardData:e.DashboardData,Searching:!1}):t.setState({DashboardData:null,Searching:!1})})));case 5:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this;if(localStorage.Token){var t=this.state,a=t.DashboardData,n=t.Searching;return n||!a?s.a.createElement(nn,{Searching:n,SearchingFor:"trader"}):s.a.createElement("section",null,a.ExoneratedTrader?s.a.createElement(Ro,{ExoneratedTrader:a.ExoneratedTrader}):s.a.createElement("section",null,s.a.createElement("section",null,s.a.createElement("div",{className:"sidenav",style:{left:"".concat(this.state.Left,"px")}},s.a.createElement("a",{className:"closebtn",onClick:this.onCloseNavigation},"\xd7"),s.a.createElement("div",{class:"entity-list",role:"tablist"},s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#profile","aria-controls":"profile",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Profile")),s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#jobs","aria-controls":"jobs",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Jobs")),s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#payments","aria-controls":"payments",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Payments")),s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#questions","aria-controls":"questions",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Questions")),s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#settings","aria-controls":"settings",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Settings")))),s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"profile"},s.a.createElement($s,{ref:"Profile"})),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"jobs"},s.a.createElement(Lc,null)),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"payments"},s.a.createElement(lo,null)),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"questions"},s.a.createElement(go,null)),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"settings"},s.a.createElement(jo,null))),s.a.createElement("div",{className:"side-nav-btn",onClick:function(){e.setState({Left:0})}},s.a.createElement("div",{className:"fas fa-bars",style:{fontSize:"x-large"}})))))}return s.a.createElement(E.a,{to:"/login"})}}]),t}(r.Component),Ao=Do,Fo=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onImageUpload=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.state.Image=e.target.files[0],t=new FormData,n.prev=2,t.append("Image",a.state.Image,a.state.Image.name),n.next=6,O.a.awrap(P.a.post(g.a.IMAGE_UPLOADER,t,{onUploadProgress:function(e){a.setState({UploadProgress:s.a.createElement("div",{className:"progress-bar"},s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}),s.a.createElement("div",{className:"progress-circle"}))})}}).then((function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("Image uploaded successfully."!==(e=e.data).message){n.next=6;break}return t={Token:localStorage.Token,PhotoURL:e.imageUrl},e.imageUrl,n.next=6,O.a.awrap(at(t).then((function(e){"Profile photo is updated."===e.Message&&(a.setState({UploadProgress:null}),a.props.OnProfilePhotoUpdated())})));case 6:case"end":return n.stop()}}))})).catch((function(){a.setState({PhotoURL:"./images/defaultProfilePhoto.png",UploadProgress:null})})));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(2),a.setState({UploadProgress:null}),n.abrupt("return");case 12:case"end":return n.stop()}}),null,null,[[2,8]])},a.state={Image:null,PhotoURL:a.props.PhotoURL,UploadProgress:null},a.onImageUpload=a.onImageUpload.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("section",null,s.a.createElement("input",{type:"file",onChange:this.onImageUpload,style:{display:"none"},ref:function(t){return e.fileInput=t}}),s.a.createElement("figure",{className:"media"},s.a.createElement("div",{className:"media-img media-img-has-play ratio-1-1"},s.a.createElement("a",{href:"#",onClick:function(){return e.fileInput.click()}},s.a.createElement("img",{style:{border:"5px solid #3A3A3C"},src:this.props.PhotoURL,alt:"ProfilePhoto.png"}),s.a.createElement("i",{className:"glyph glyph-edit"})))),this.state.UploadProgress)}}]),t}(r.Component),Lo=Fo,Io=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(w.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),e.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,FirstName:e.state.FirstName,LastName:e.state.LastName},e.setState({ShowPreloader:!0}),n.next=7,O.a.awrap(nt(a).then((function(t){"Administrator is updated."===t.Message?(e.setState({ShowPreloader:!1}),e.props.OnSettingsSaved()):e.setState({ShowPreloader:!1})})));case 7:case"end":return n.stop()}}))},e.state={FirstName:"",LastName:"",ValidFirstName:!0,ValidLastName:!0,ValidForm:!1,SettingsSaved:!1,ShowPreloader:!1,Errors:{FirstName:"",LastName:""}},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=4;break}return e={Token:localStorage.Token,Get:"Administrator"},a.next=4,O.a.awrap(tt(e).then((function(e){if("Administrator found."===e.Message){var a=e.Administrator;t.setState({FirstName:a.FirstName,LastName:a.LastName})}else t.setState({FirstName:"",LastName:""})})));case 4:case"end":return a.stop()}}))}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidFirstName,s=this.state.ValidLastName;switch(e){case"FirstName":r=t.match(/^[a-zA-Z ]+$/),n.FirstName=r?"":"First name is invalid.";break;case"LastName":s=t.match(/^[a-zA-Z ]+$/),n.LastName=s?"":"Last name is invalid."}this.setState({Errors:n,ValidFirstName:r,ValidLastName:s},(function(){a.setState({ValidForm:a.state.ValidFirstName&&a.state.ValidLastName})}))}},{key:"render",value:function(){var e=this.state,t=e.FirstName,a=e.LastName,n=e.ShowPreloader,r=e.ValidForm,l=e.Errors;return s.a.createElement("section",null,s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"General Settings"),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"entity-list entity-list-expandable"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-comment"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"FirstName",autoComplete:"off",value:t,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"First Name"),s.a.createElement("div",{className:"text-danger"},l.FirstName))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-comment"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"LastName",autoComplete:"off",value:a,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Last Name"),s.a.createElement("div",{className:"text-danger"},l.LastName))),s.a.createElement("div",{className:"entity-list-item active"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-save"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Save Changes?"),s.a.createElement("div",{className:"content-text-secondary"},"This cannot be undone.")),s.a.createElement("div",{className:"item-content-expanded"},s.a.createElement("input",{type:"submit",value:"Save",className:"btn btn-primary",disabled:!r}))))),n?s.a.createElement(ca,null):null)}}]),t}(r.Component),Uo=Io,Vo=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,Username:a.props.Username,Email:a.props.Email},n.next=7,O.a.awrap(ct(t).then((function(e){a.setState({ShowPreloader:!1}),"Administrator is updated."===e.Message&&a.props.OnOK(a.cancelButton)})));case 7:case"end":return n.stop()}}))},a.state={ConfirmCode:"",ValidConfirmCode:!1,ValidForm:!1,ShowPreloader:!1,Errors:{ConfirmCode:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidConfirmCode;r="12345"===t,n.ConfirmCode=r?"":"Invalid code.",this.setState({Errors:n,ValidConfirmCode:r},(function(){a.setState({ValidForm:a.state.ValidConfirmCode})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.ConfirmCode,n=t.ValidForm,r=t.ShowPreloader,l=t.Errors;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal in",id:"code-confirmation-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true",style:{display:"block"}},r?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Email Confirmation"),s.a.createElement("div",{className:"type-sh3 m-b-xxs"},"We delivered a confirmation code to your email."),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Confirmation Code"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"text",name:"ConfirmCode",className:"form-control",autoComplete:"off",value:a,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},l.ConfirmCode)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Confirm",className:"btn btn-primary",disabled:!n}))))))))))}}]),t}(r.Component),Jo=Vo,Mo=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(w.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a,n,r,l,c;return O.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t.preventDefault(),e.state.ValidForm){o.next=3;break}return o.abrupt("return");case 3:if(e.state.NewUsername!==e.state.Username||e.state.NewEmail!==e.state.Email){o.next=5;break}return o.abrupt("return");case 5:if(e.state.NewUsername===e.state.Username){o.next=14;break}return o.next=8,O.a.awrap(rt(e.state.NewUsername));case 8:if("Username is unavailable."!==(a=o.sent).Message){o.next=14;break}return(n=e.state.Errors).NewUsername=a.Message,e.setState({Errors:n}),o.abrupt("return");case 14:if(e.state.NewEmail===e.state.Email){o.next=23;break}return o.next=17,O.a.awrap(st(e.state.NewEmail));case 17:if("Email is already taken."!==(r=o.sent).Message){o.next=23;break}return(l=e.state.Errors).NewEmail=r.Message,e.setState({Errors:l}),o.abrupt("return");case 23:if(e.setState({ShowPreloader:!0}),e.state.NewEmail!==e.state.Email){o.next=30;break}return c={Token:localStorage.Token,Username:e.state.NewUsername,Email:e.state.NewEmail},o.next=28,O.a.awrap(ct(c).then((function(t){e.setState({ShowPreloader:!1}),"Administrator is updated."===t.Message&&e.props.OnSettingsSaved()})));case 28:o.next=32;break;case 30:return o.next=32,O.a.awrap(lt(e.state.NewEmail).then((function(t){e.setState({ShowPreloader:!1}),"Code sent."===t.Message&&e.setState({CodeConfirmationDialog:s.a.createElement(Jo,{Code:t.Code,Username:e.state.NewUsername,Email:e.state.NewEmail,OnCancel:function(){e.setState({CodeConfirmationDialog:null})},OnOK:function(t){t.click(),e.props.OnSettingsSaved()}})})})));case 32:case"end":return o.stop()}}))},e.state={Username:"",NewUsername:"",Email:"",NewEmail:"",Code:"",ValidNewUsername:!0,ValidNewEmail:!0,ValidForm:!1,CodeConfirmationDialog:null,ShowPreloader:!1,Errors:{NewUsername:"",NewEmail:""},CodeConfirmation:""},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=4;break}return e={Token:localStorage.Token,Get:"Administrator"},a.next=4,O.a.awrap(tt(e).then((function(e){if("Administrator found."===e.Message){var a=e.Administrator;t.setState({Username:a.Username,NewUsername:a.Username,Email:a.Email,NewEmail:a.Email})}else t.setState({Username:"",NewUsername:"",Email:"",NewEmail:""})})));case 4:case"end":return a.stop()}}))}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidNewUsername,s=this.state.ValidNewEmail;switch(e){case"NewUsername":if(r=""!==t,n.NewUsername=r?"":"Username is required.",""!=n.NewUsername)break;r=t.match(/^[a-z0-9]+$/i),n.NewUsername=r?"":"Username is invalid.";break;case"NewEmail":if(s=""!==t,n.NewEmail=s?"":"Email is required.",""!=n.NewEmail)break;s=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),n.NewEmail=s?"":"Email is invalid."}this.setState({Errors:n,ValidNewUsername:r,ValidNewEmail:s},(function(){a.setState({ValidForm:a.state.ValidNewUsername&&a.state.ValidNewEmail})}))}},{key:"render",value:function(){var e=this.state,t=e.NewUsername,a=e.NewEmail,n=e.ValidForm,r=e.ShowPreloader,l=e.CodeConfirmationDialog,c=e.Errors;return s.a.createElement("section",null,s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Username and Emails"),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"entity-list entity-list-expandable"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-at"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"NewUsername",className:"form-control",autocomplete:"off",value:t,onChange:this.onChange}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Username"),s.a.createElement("div",{className:"content-text-secondary text-danger"},c.NewUsername))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-envelope"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"email",name:"NewEmail",className:"form-control",placeholder:"someone@example.com",autocomplete:"off",value:a,onChange:this.onChange}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Email"),s.a.createElement("div",{className:"content-text-secondary text-danger"},c.NewEmail))),s.a.createElement("div",{className:"entity-list-item active"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-save"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Save Changes?"),s.a.createElement("div",{className:"content-text-secondary"},"This cannot be undone.")),s.a.createElement("div",{className:"item-content-expanded"},s.a.createElement("input",{type:"submit",value:"Save",className:"btn btn-primary",disabled:!n}))))),r?s.a.createElement(ca,null):null,l)}}]),t}(r.Component),Bo=Mo,qo=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(w.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),e.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,Password:e.state.CurrentPassword},n.next=6,O.a.awrap(ot(a).then((function(t){var a,n;return O.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if("Invalid password."!==t.Message){r.next=7;break}e.validateField("CurrentPassword",t.Message),(a=e.state.Errors).CurrentPassword=t.Message,e.setState({Errors:a}),r.next=11;break;case 7:return e.setState({ShowPreloader:!0}),n={Token:localStorage.Token,Password:e.state.NewPassword},r.next=11,O.a.awrap(it(n).then((function(t){e.setState({ShowPreloader:!1,CurrentPassword:"",NewPassword:"",ConfirmPassword:""}),"Administrator is updated."===t.Message&&e.props.OnSettingsSaved()})));case 11:case"end":return r.stop()}}))})));case 6:case"end":return n.stop()}}))},e.state={CurrentPassword:"",NewPassword:"",ConfirmPassword:"",ValidCurrentPassword:!1,ValidNewPassword:!1,ValidConfirmPassword:!1,ValidForm:!1,ShowPreloader:!1,Errors:{CurrentPassword:"",NewPassword:"",ConfirmPassword:""}},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a,n,r,s,l=this;return O.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:a=this.state.Errors,n=this.state.ValidCurrentPassword,r=this.state.ValidNewPassword,s=this.state.ValidConfirmPassword,c.t0=e,c.next="CurrentPassword"===c.t0?7:"NewPassword"===c.t0?10:"ConfirmPassword"===c.t0?18:21;break;case 7:return n=""!==t,a.CurrentPassword=n?"":"Current password is required.",c.abrupt("break",22);case 10:if(r=t.length>=6,a.NewPassword=r?"":"Password is too short.",""===a.NewPassword){c.next=14;break}return c.abrupt("break",22);case 14:return s=t===this.state.ConfirmPassword,a.ConfirmPassword=s?"":"Passwords did not match.",c.abrupt("break",22);case 18:return s=t===this.state.NewPassword,a.ConfirmPassword=s?"":"Passwords did not match.",c.abrupt("break",22);case 21:return c.abrupt("break",22);case 22:this.setState({Errors:a,ValidCurrentPassword:n,ValidNewPassword:r,ValidConfirmPassword:s},(function(){l.setState({ValidForm:l.state.ValidCurrentPassword&&l.state.ValidNewPassword&&l.state.ValidConfirmPassword})}));case 23:case"end":return c.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.CurrentPassword,a=e.NewPassword,n=e.ConfirmPassword,r=e.ShowPreloader,l=e.ValidForm,c=e.Errors;return s.a.createElement("section",null,s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Change Password"),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"entity-list entity-list-expandable"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-key"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"password",name:"CurrentPassword",className:"form-control",autoComplete:"off",value:t,onChange:this.onChange}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Current Password"),s.a.createElement("div",{className:"text-danger"},c.CurrentPassword))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-key"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"password",name:"NewPassword",className:"form-control",autoComplete:"off",value:a,onChange:this.onChange}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"New Password"),s.a.createElement("div",{className:"text-danger"},c.NewPassword))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-key"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"password",name:"ConfirmPassword",className:"form-control",autoComplete:"off",value:n,onChange:this.onChange}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Confirm Password"),s.a.createElement("div",{className:"text-danger"},c.ConfirmPassword))),s.a.createElement("div",{className:"entity-list-item active"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-save"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Save Changes?"),s.a.createElement("div",{className:"content-text-secondary"},"This cannot be undone.")),s.a.createElement("div",{className:"item-content-expanded"},s.a.createElement("input",{type:"submit",value:"Save",className:"btn btn-primary",disabled:!l}))))),r?s.a.createElement(ca,null):null)}}]),t}(r.Component),Qo=qo,Wo=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(w.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),e.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,Street:e.state.Street,City:e.state.City,Country:e.state.Country,ZIPCode:e.state.ZIPCode,PhoneNumber:e.state.PhoneNumber,Website:e.state.Website,BusinessName:e.state.BusinessName,BankName:e.state.BankName,AccountNumber:e.state.AccountNumber},e.setState({ShowPreloader:!0}),n.next=7,O.a.awrap(mt(a).then((function(t){e.setState({ShowPreloader:!1})})));case 7:case"end":return n.stop()}}))},e.state={Street:"",City:"",Country:"",ZIPCode:"",PhoneNumber:"",Website:"",BusinessName:"",BankName:"",AccountNumber:"",ValidStreet:!0,ValidCity:!0,ValidCountry:!0,ValidZIPCode:!0,ValidPhoneNumber:!0,ValidWebsite:!0,ValidBusinessName:!0,ValidBankName:!0,ValidAccountNumber:!0,ValidForm:!1,SettingsSaved:!1,ShowPreloader:!1,Errors:{Street:"",City:"",Country:"",ZIPCode:"",PhoneNumber:"",Website:"",BusinessName:"",BankName:"",AccountNumber:""}},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=4;break}return e={Token:localStorage.Token,Get:"NaqelSettings"},a.next=4,O.a.awrap(tt(e).then((function(e){if("Naqel settings found."===e.Message){var a=e.NaqelSettings;t.setState({Street:a.Street,City:a.City,Country:a.Country,ZIPCode:a.ZIPCode,PhoneNumber:a.PhoneNumber,Website:a.Website,BusinessName:a.BusinessName,BankName:a.BankName,AccountNumber:a.AccountNumber})}else t.setState({Street:"",City:"",Country:"",ZIPCode:"",PhoneNumber:"",Website:"",BusinessName:"",BankName:"",AccountNumber:""})})));case 4:case"end":return a.stop()}}))}},{key:"validateField",value:function(e,t){var a=this,n=this.state,r=n.Errors,s=n.ValidStreet,l=n.ValidCity,c=n.ValidCountry,o=n.ValidZIPCode,i=n.ValidPhoneNumber,m=n.ValidWebsite,d=n.ValidBusinessName,u=n.ValidBankName,p=n.ValidAccountNumber;switch(e){case"Street":s=""!==t,r.Street=s?"":"Street is required.";break;case"City":l=""!==t,r.City=l?"":"City is required.";break;case"Country":c=""!==t,r.Country=c?"":"Country is required.";break;case"ZIPCode":o=""!==t,r.ZIPCode=o?"":"ZIP code is required.";break;case"PhoneNumber":i=""!==t,r.PhoneNumber=i?"":"Phone number is required.";break;case"Website":m=""!==t,r.Website=m?"":"Website is required.";break;case"BusinessName":d=""!==t,r.BusinessName=d?"":"Business name is required.";break;case"BankName":u=""!==t,r.BankName=u?"":"Bank name is required.";break;case"AccountNumber":p=""!==t,r.AccountNumber=p?"":"Account number is required."}this.setState({Errors:r,ValidStreet:s,ValidCity:l,ValidCountry:c,ValidZIPCode:o,ValidPhoneNumber:i,ValidWebsite:m,ValidBusinessName:d,ValidBankName:u,ValidAccountNumber:p},(function(){a.setState({ValidForm:s&&l&&c&&o&&i&&m&&d&&u&&p})}))}},{key:"render",value:function(){var e=this.state,t=e.Street,a=e.City,n=e.Country,r=e.ZIPCode,l=e.PhoneNumber,c=e.Website,o=e.BusinessName,i=e.BankName,m=e.AccountNumber,d=e.ShowPreloader,u=e.ValidForm,p=e.Errors;return s.a.createElement("section",null,s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Naqel Settings"),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"entity-list entity-list-expandable"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-map-marker-alt"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"Street",autoComplete:"off",value:t,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Street"),s.a.createElement("div",{className:"text-danger"},p.Street))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-map-marker-alt"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"City",autoComplete:"off",value:a,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"City"),s.a.createElement("div",{className:"text-danger"},p.City))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-map-marker-alt"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"Country",autoComplete:"off",value:n,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Country"),s.a.createElement("div",{className:"text-danger"},p.Country))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-map-marker-alt"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"ZIPCode",autoComplete:"off",value:r,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"ZIP Code"),s.a.createElement("div",{className:"text-danger"},p.ZIPCode))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-phone"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"PhoneNumber",autoComplete:"off",value:l,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Phone Number"),s.a.createElement("div",{className:"text-danger"},p.PhoneNumber))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-globe"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"Website",autoComplete:"off",value:c,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Website"),s.a.createElement("div",{className:"text-danger"},p.Website))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-cog"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"BusinessName",autoComplete:"off",value:o,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Business Name"),s.a.createElement("div",{className:"text-danger"},p.BusinessName))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-cog"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"BankName",autoComplete:"off",value:i,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Bank Name"),s.a.createElement("div",{className:"text-danger"},p.BankName))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-list"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"AccountNumber",autoComplete:"off",value:m,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Account Number"),s.a.createElement("div",{className:"text-danger"},p.AccountNumber))),s.a.createElement("div",{className:"entity-list-item active"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-save"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Save Changes?"),s.a.createElement("div",{className:"content-text-secondary"},"This cannot be undone.")),s.a.createElement("div",{className:"item-content-expanded"},s.a.createElement("input",{type:"submit",value:"Save",className:"btn btn-primary",disabled:!u}))))),d?s.a.createElement(ca,null):null)}}]),t}(r.Component),Go=Wo,_o=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Uo,{OnSettingsSaved:this.props.OnSettingsSaved}),s.a.createElement(Bo,{OnSettingsSaved:this.props.OnSettingsSaved}),s.a.createElement(Qo,{OnSettingsSaved:this.props.OnSettingsSaved}),s.a.createElement(Go,null))}}]),t}(r.Component),zo=_o,Ho=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={FirstName:"",LastName:"",Email:"",Username:"",PhotoURL:"./images/defaultProfilePhoto.png"},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=4;break}return e={Token:localStorage.Token,Get:"Administrator"},a.next=4,O.a.awrap(tt(e).then((function(e){if("Administrator found."===e.Message){var a=e.Administrator;t.setState({FirstName:a.FirstName,LastName:a.LastName,Email:a.Email,Username:a.Username,PhotoURL:a.PhotoURL})}else t.setState({FirstName:"",LastName:"",Email:"",Username:"",PhotoURL:"./images/defaultProfilePhoto.png"})})));case 4:case"end":return a.stop()}}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.FirstName,n=t.LastName,r=t.Email,l=t.Username,c=t.PhotoURL;return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"PROFILE"}),s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement(Lo,{PhotoURL:c,OnProfilePhotoUpdated:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.componentDidMount());case 2:case"end":return t.stop()}}))}})),s.a.createElement("div",{className:"col-md-18"},s.a.createElement("div",{className:"type-h3 color-default p-t-xxs"},a+" "+n),s.a.createElement("div",{className:"type-sh3"},s.a.createElement("span",{className:"fas fa-user-shield m-r-xxs",style:{color:"#606060"}}),"Administrator"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-at"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Username"),s.a.createElement("div",{className:"content-text-secondary"},l))))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-envelope"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Email"),s.a.createElement("div",{className:"content-text-secondary"},r)))))))))),s.a.createElement(zo,{OnSettingsSaved:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.componentDidMount());case 2:case"end":return t.stop()}}))}}))}}]),t}(r.Component),Ko=Ho,Yo=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,DriverID:a.props.Driver.DriverID,BlockDate:a.state.BlockDate,Reason:a.state.Reason},n.next=7,O.a.awrap(ut(t).then((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({ShowPreloader:!1}),"Driver account is blocked."===e.Message&&(a.cancelButton.click(),a.props.OnOK());case 2:case"end":return t.stop()}}))})));case 7:case"end":return n.stop()}}))},a.state={BlockDate:"",Reason:"",ValidBlockDate:!1,ValidReason:!1,ValidForm:!1,ShowPreloader:!1,Errors:{BlockDate:"",Reason:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidBlockDate,s=this.state.ValidReason;switch(e){case"BlockDate":if(r=""!==t,n.BlockDate=r?"":"Date is required",""!==n.BlockDate)break;r=new Date(t).getTime()>=(new Date).getTime(),n.BlockDate=r?"":"Date must be later than yesterday.";break;case"Reason":s=""!==t,n.Reason=s?"":"Reason is required."}this.setState({Errors:n,ValidBlockDate:r,ValidReason:s},(function(){a.setState({ValidForm:a.state.ValidBlockDate&&a.state.ValidReason})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.BlockDate,n=t.Reason,r=t.ShowPreloader,l=t.ValidForm,c=t.Errors,o=this.props,i=o.Index,m=o.Driver;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"block-account-dialog-".concat(i),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},r?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Block Driver"),s.a.createElement("div",{className:"type-sh3 m-b-xxs"},"You are going to block",s.a.createElement("span",{className:"color-default"}," ".concat(m.FirstName," ").concat(m.LastName)),"."),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Block Till"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"date",name:"BlockDate",className:"form-control",autoComplete:"off",value:a,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},c.BlockDate)),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"control-label"},"Reason"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("textarea",{rows:"6",class:"form-control",name:"Reason",style:{maxWidth:"100%"},value:n,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},c.Reason)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Block Now",className:"btn btn-danger",disabled:!l}))))))))))}}]),t}(r.Component),$o=Yo,Xo=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onUnblock=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({ShowPreloader:!0}),e={Token:localStorage.Token,DriverID:a.props.Driver.DriverID},t.next=4,O.a.awrap(pt(e).then((function(e){a.setState({ShowPreloader:!1}),"Driver account is unblocked."===e.Message&&(a.cancelButton.click(),a.props.OnOK())})));case 4:case"end":return t.stop()}}))},a.state={ShowPreloader:!1},a.onUnblock=a.onUnblock.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.ShowPreloader,a=this.props,n=a.Index,r=a.Driver;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"unblock-account-dialog-".concat(n),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},t?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Unblock Driver"),s.a.createElement("div",{className:"type-sh3 m-b-xxs"},"Are you sure you want to unblock",s.a.createElement("span",{className:"color-default"}," ".concat(r.FirstName," ").concat(r.LastName)),"."))),s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",onClick:this.onUnblock},"Unblock")))))))))}}]),t}(r.Component),Zo=Xo,ei=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onActivateAccount=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({Refreshing:!0}),e={Token:localStorage.Token,DriverID:a.props.Driver.DriverID},t.next=4,O.a.awrap(dt(e).then((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.setState({Refreshing:!1}),"Driver account is activated."!==e.Message){t.next=5;break}return a.props.OnAccountActivated(a.props.Driver),t.next=5,O.a.awrap(a.RefreshDriverContainer());case 5:case"end":return t.stop()}}))})));case 4:case"end":return t.stop()}}))},a.state={Refreshing:!1},a.onActivateAccount=a.onActivateAccount.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.Refreshing,a=this.props,n=a.Index,r=a.Driver;return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default p-xxs"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("img",{src:r.PhotoURL?r.PhotoURL:"./images/defaultProfilePhoto.png",alt:"profile_photo.png",height:"34",width:"34",style:{height:"100%",width:"100%",margin:"0px",border:"3px solid #3A3A3C"}})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"type-h5 color-default p-t-n"},"".concat(n+1,"."),t?s.a.createElement("span",{className:"m-l-xxxs"},s.a.createElement(rn,null)):null,r.IsBlocked?s.a.createElement("span",{class:"type-h8 badge back-color-danger m-l-xxxs"},"BLOCKED"):null),s.a.createElement("div",{className:"content-text-primary"},"".concat(r.FirstName," ").concat(r.LastName),r.Active?s.a.createElement("span",{className:"fa fa-check-circle m-l-xxxs",style:{color:"#25AE88"}}):null),s.a.createElement("div",{className:"content-text-secondary color-default"},r.Username),s.a.createElement("div",{className:"content-text-secondary"},r.Email))))),s.a.createElement("div",{className:"text-right p-xxs",style:{backgroundColor:"#DDDDDD"}},r.Active?null:s.a.createElement("button",{className:"btn btn-primary",onClick:this.onActivateAccount},"Activate"),r.IsBlocked?s.a.createElement("button",{className:"btn btn-secondary","data-toggle":"modal","data-target":"#unblock-account-dialog-".concat(n)},"Unblock"):s.a.createElement("button",{className:"btn btn-danger","data-toggle":"modal","data-target":"#block-account-dialog-".concat(n)},"Block")),s.a.createElement("div",{className:"back-color-gray","data-toggle":"collapse","aria-expanded":"false","data-target":"#driver-list-item-".concat(n)},s.a.createElement("div",{className:"type-h4 color-default text-right p-xxxs"},"Details",s.a.createElement("i",{className:"fas fa-ellipsis-v"}),s.a.createElement("i",{class:"glyph glyph-add"}),s.a.createElement("i",{class:"glyph glyph-remove"}))),s.a.createElement("div",{className:"collapse",id:"driver-list-item-".concat(n)},s.a.createElement("ul",{className:"nav nav-tabs tabs-light",role:"tablist"},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#driver-".concat(n),"aria-controls":"driver-".concat(n),role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshDriverContainer());case 2:case"end":return t.stop()}}))}},"Driver")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#truck-".concat(n),"aria-controls":"truck-".concat(n),role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshTruckContainer());case 2:case"end":return t.stop()}}))}},"Truck"))),s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"driver-".concat(n)},s.a.createElement(cl,{Refresh:function(t){e.RefreshDriverContainer=t},DriverID:r.DriverID})),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"truck-".concat(n)},s.a.createElement(pl,{Refresh:function(t){e.RefreshTruckContainer=t},DriverID:r.DriverID})))),r.IsBlocked?s.a.createElement(Zo,{Index:n,Driver:r,OnOK:function(){e.props.OnAccountBlocked(r,!1)}}):s.a.createElement($o,{Index:n,Driver:r,OnOK:function(){e.props.OnAccountBlocked(r,!0)}}))}}]),t}(r.Component),ti=ei,ai=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"Drivers"},a.setState({Searching:!0}),t.next=5,O.a.awrap(tt(e).then((function(e){"Drivers found."===e.Message?a.setState({AllDrivers:e.Drivers,Drivers:e.Drivers,Searching:!1}):a.setState({AllDrivers:[],Drivers:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){e.preventDefault();var t=a.state.SearchString;if(""!==t){var n=a.state.AllDrivers,r=[],s=0,l=!0,c=!1,o=void 0;try{for(var i,m=n[Symbol.iterator]();!(l=(i=m.next()).done);l=!0){var d=i.value;(d.FirstName.includes(t)||d.LastName.includes(t)||d.Email.includes(t)||d.Username.includes(t))&&(r[s++]=d)}}catch(u){c=!0,o=u}finally{try{l||null==m.return||m.return()}finally{if(c)throw o}}a.setState({Drivers:r})}else a.setState({Drivers:a.state.AllDrivers})},a.state={AllDrivers:[],Drivers:[],SearchString:"",Searching:!1,Refreshing:!1},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.Drivers,n=t.SearchString,r=t.Searching,l=t.Refreshing;return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"DRIVERS"}),s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-car m-r-xxs"}),"Drivers"))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Naqel Drivers",l?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search Drivers",style:{maxWidth:"500px",width:"100%"},value:n,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===a.length?s.a.createElement(nn,{Searching:r,SearchingFor:"drivers"}):s.a.createElement("ol",{className:"list-items m-n"},a.map((function(t,n){return s.a.createElement("li",{key:n,className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement(ti,{Index:n,Driver:t,OnAccountActivated:function(t){var n=a,r=!0,s=!1,l=void 0;try{for(var c,o=n[Symbol.iterator]();!(r=(c=o.next()).done);r=!0){var i=c.value;if(i===t){i.Active=!0;break}}}catch(m){s=!0,l=m}finally{try{r||null==o.return||o.return()}finally{if(s)throw l}}e.setState({Drivers:n})},OnAccountBlocked:function(t,n){var r=a,s=!0,l=!1,c=void 0;try{for(var o,i=r[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var m=o.value;if(m===t){m.IsBlocked=n;break}}}catch(d){l=!0,c=d}finally{try{s||null==i.return||i.return()}finally{if(l)throw c}}e.setState({Drivers:r})}}))}))))}}]),t}(r.Component),ni=ai,ri=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(ni,null))}}]),t}(r.Component),si=ri,li=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,TraderID:a.props.Trader.TraderID,RefundRate:a.state.RefundRate},n.next=7,O.a.awrap(Et(t).then((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({ShowPreloader:!1}),"Refund rate is set."===e.Message&&(a.cancelButton.click(),a.props.OnOK(e.RefundRate));case 2:case"end":return t.stop()}}))})));case 7:case"end":return n.stop()}}))},a.state={RefundRate:a.props.Trader.TraderRefundRate?a.props.Trader.TraderRefundRate.RefundRate:0,ValidRefundRate:!1,ValidForm:!1,ShowPreloader:!1,Errors:{RefundRate:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidRefundRate;switch(e){case"RefundRate":if(r=""!==t,n.RefundRate=r?"":"Refund Rate is required",""!==n.RefundRate)break;r=t>=0&&t<=100,n.RefundRate=r?"":"Refund rate must be between 0 and 100"}this.setState({Errors:n,ValidRefundRate:r},(function(){a.setState({ValidForm:a.state.ValidRefundRate})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.RefundRate,n=t.ShowPreloader,r=t.ValidForm,l=t.Errors,c=this.props,o=c.Index,i=c.Trader;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"set-refund-rate-dialog-".concat(o),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},n?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Refund Rate"),s.a.createElement("div",{className:"type-sh3 m-b-xxs"},"This set refund percentage rate for",s.a.createElement("span",{className:"color-default"}," ".concat(i.FirstName," ").concat(i.LastName)),"."),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Refund Rate (%)"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",name:"RefundRate",className:"form-control",autoComplete:"off",value:a,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},l.RefundRate)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Set",className:"btn btn-primary",disabled:!r}))))))))))}}]),t}(r.Component),ci=li,oi=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onCharge=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({ShowPreloader:!0}),e={Token:localStorage.Token,TraderID:a.props.Trader.TraderID},t.next=4,O.a.awrap(bt(e).then((function(e){a.setState({ShowPreloader:!1}),"Trader is charged."===e.Message&&(a.cancelButton.click(),a.props.OnOK())})));case 4:case"end":return t.stop()}}))},a.state={ShowPreloader:!1},a.onCharge=a.onCharge.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.ShowPreloader,a=this.props,n=a.Index,r=a.Trader;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"charge-trader-dialog-".concat(n),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},t?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Charge Trader"),s.a.createElement("div",{className:"type-sh3 m-b-xxs"},"Are you sure you want to charge",s.a.createElement("span",{className:"color-default"}," ".concat(r.FirstName," ").concat(r.LastName)),"? On charging will remove this trader from exonerated list."))),s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",onClick:this.onCharge},"Charge")))))))))}}]),t}(r.Component),ii=oi,mi=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,TraderID:a.props.Trader.TraderID,ExonerateDate:a.state.ExonerateDate,Reason:a.state.Reason},n.next=7,O.a.awrap(ht(t).then((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({ShowPreloader:!1}),"Trader is exonerated."===e.Message&&(a.cancelButton.click(),a.props.OnOK());case 2:case"end":return t.stop()}}))})));case 7:case"end":return n.stop()}}))},a.state={ExonerateDate:"",Reason:"",ValidExonerateDate:!1,ValidReason:!1,ValidForm:!1,ShowPreloader:!1,Errors:{ExonerateDate:"",Reason:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state,r=n.Errors,s=n.ValidExonerateDate,l=n.ValidReason;switch(e){case"ExonerateDate":if(s=""!==t,r.ExonerateDate=s?"":"Date is required",""!==r.ExonerateDate)break;s=new Date(t).getTime()>=(new Date).getTime(),r.ExonerateDate=s?"":"Date must be later than yesterday.";break;case"Reason":l=""!==t,r.Reason=l?"":"Reason is required."}this.setState({Errors:r,ValidExonerateDate:s,ValidReason:l},(function(){a.setState({ValidForm:s&&a.state.ValidReason})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.ExonerateDate,n=t.Reason,r=t.ShowPreloader,l=t.ValidForm,c=t.Errors,o=this.props,i=o.Index,m=o.Trader;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"exonerate-trader-dialog-".concat(i),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},r?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Exonerate Trader"),s.a.createElement("div",{className:"type-sh3 m-b-xxs"},"You are going to exonerate",s.a.createElement("span",{className:"color-default"}," ".concat(m.FirstName," ").concat(m.LastName)),"."),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Exonerate Till"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"date",name:"ExonerateDate",className:"form-control",autoComplete:"off",value:a,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},c.ExonerateDate)),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"control-label"},"Reason"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("textarea",{rows:"6",class:"form-control",name:"Reason",style:{maxWidth:"100%"},value:n,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},c.Reason)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Exonerate Now",className:"btn btn-danger",disabled:!l}))))))))))}}]),t}(r.Component),di=mi,ui=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={Refreshing:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.Refreshing,a=this.props,n=a.Index,r=a.Trader;return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default p-xxs"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("img",{src:r.PhotoURL?r.PhotoURL:"./images/defaultProfilePhoto.png",alt:"profile_photo.png",height:"34",width:"34",style:{height:"100%",width:"100%",margin:"0px",border:"3px solid #3A3A3C"}})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"type-h5 color-default p-t-n"},"".concat(n+1,"."),t?s.a.createElement("span",{className:"m-l-xxxs"},s.a.createElement(rn,null)):null),s.a.createElement("div",{className:"content-text-primary"},"".concat(r.FirstName," ").concat(r.LastName)),s.a.createElement("div",{className:"content-text-secondary color-default"},r.Username),s.a.createElement("div",{className:"content-text-secondary"},r.Email),s.a.createElement("div",{className:"content-text-secondary"},r.Type),s.a.createElement("div",{className:"content-text-secondary"},r.TraderRefundRate?"Refund Rate: ".concat(r.TraderRefundRate.RefundRate,"%"):"Refund Rate: Not Set"))))),s.a.createElement("div",{className:"text-right p-xxs",style:{backgroundColor:"#DDDDDD"}},s.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#set-refund-rate-dialog-".concat(n)},"Set Refund Rate"),r.IsExonerated?s.a.createElement("button",{className:"btn btn-secondary","data-toggle":"modal","data-target":"#charge-trader-dialog-".concat(n)},"Charge"):s.a.createElement("button",{className:"btn btn-danger","data-toggle":"modal","data-target":"#exonerate-trader-dialog-".concat(n)},"Exonerate")),s.a.createElement("div",{className:"back-color-gray","data-toggle":"collapse","aria-expanded":"false","data-target":"#trader-list-item-".concat(n)},s.a.createElement("div",{className:"type-h4 color-default text-right p-xxxs"},"Details",s.a.createElement("i",{className:"fas fa-ellipsis-v"}),s.a.createElement("i",{class:"glyph glyph-add"}),s.a.createElement("i",{class:"glyph glyph-remove"}))),s.a.createElement("div",{className:"collapse",id:"trader-list-item-".concat(n)},s.a.createElement(hn,{Refresh:function(t){e.RefreshTraderContainer=t},TraderID:r.TraderID})),s.a.createElement(ci,{Index:n,Trader:r,OnOK:function(t){e.props.OnRefundRateSet(r,t)}}),r.IsExonerated?s.a.createElement(ii,{Index:n,Trader:r,OnOK:function(){e.props.OnTraderExonerated(r,!1)}}):s.a.createElement(di,{Index:n,Trader:r,OnOK:function(){e.props.OnTraderExonerated(r,!0)}}))}}]),t}(r.Component),pi=ui,Ei=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"Traders"},a.setState({Searching:!0}),t.next=5,O.a.awrap(tt(e).then((function(e){"Traders found."===e.Message?a.setState({AllTraders:e.Traders,Traders:e.Traders,Searching:!1}):a.setState({AllTraders:[],Traders:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){e.preventDefault();var t=a.state.SearchString;if(""!==t){var n=a.state.AllTraders,r=[],s=0,l=!0,c=!1,o=void 0;try{for(var i,m=n[Symbol.iterator]();!(l=(i=m.next()).done);l=!0){var d=i.value;(d.FirstName.includes(t)||d.LastName.includes(t)||d.Email.includes(t)||d.Username.includes(t))&&(r[s++]=d)}}catch(u){c=!0,o=u}finally{try{l||null==m.return||m.return()}finally{if(c)throw o}}a.setState({Traders:r})}else a.setState({Traders:a.state.AllTraders})},a.state={AllTraders:[],Traders:[],SearchString:"",Searching:!1,Refreshing:!1},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.Traders,n=t.SearchString,r=t.Searching,l=t.Refreshing;return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"TRADERS"}),s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-briefcase m-r-xxs"}),"Traders and Brokers"))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Naqel Traders and Brokers",l?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search",style:{maxWidth:"500px",width:"100%"},value:n,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===a.length?s.a.createElement(nn,{Searching:r,SearchingFor:"traders or brokers"}):s.a.createElement("ol",{className:"list-items m-n"},a.map((function(t,n){return s.a.createElement("li",{key:n,className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement(pi,{Index:n,Trader:t,OnRefundRateSet:function(t,n){var r=a,s=!0,l=!1,c=void 0;try{for(var o,i=r[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var m=o.value;if(m===t){m.TraderRefundRate=n;break}}}catch(d){l=!0,c=d}finally{try{s||null==i.return||i.return()}finally{if(l)throw c}}e.setState({Traders:r})},OnTraderExonerated:function(t,n){var r=a,s=!0,l=!1,c=void 0;try{for(var o,i=r[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var m=o.value;if(m===t){m.IsExonerated=n;break}}}catch(d){l=!0,c=d}finally{try{s||null==i.return||i.return()}finally{if(l)throw c}}e.setState({Traders:r})}}))}))))}}]),t}(r.Component),hi=Ei,bi=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(hi,null))}}]),t}(r.Component),vi=bi,fi=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,Reason:a.state.Reason},n.next=7,O.a.awrap(vt(t).then((function(e){a.setState({ShowPreloader:!1}),"Objection reason is added."===e.Message&&(a.cancelButton.click(),a.props.OnOK())})));case 7:case"end":return n.stop()}}))},a.state={Reason:"",ValidReason:!1,ValidForm:!1,ShowPreloader:!1,Errors:{Reason:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidReason;switch(e){case"Reason":r=""!==t,n.Reason=r?"":"Reason is required."}this.setState({Errors:n,ValidReason:r},(function(){a.setState({ValidForm:a.state.ValidReason})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.Reason,n=t.ShowPreloader,r=t.ValidForm,l=t.Errors;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"add-trader-objection-reason-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},n?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Add New Reason"),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"control-label"},"Reason"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("textarea",{rows:"6",class:"form-control",name:"Reason",style:{maxWidth:"100%"},value:a,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},l.Reason)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!r}))))))))))}}]),t}(r.Component),gi=fi,Ni=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDelete=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({ShowProgressRing:!0}),e={Token:localStorage.Token,DriverObjectionReasonID:a.props.ObjectionReason.DriverObjectionReasonID},t.next=4,O.a.awrap(ft(e).then((function(e){a.setState({ShowProgressRing:!1}),"Objection reason is deleted."===e.Message&&a.props.OnObjectionReasonUpdated()})));case 4:case"end":return t.stop()}}))},a.onVerify=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({ShowProgressRing:!0}),e={Token:localStorage.Token,DriverObjectionReasonID:a.props.ObjectionReason.DriverObjectionReasonID},t.next=4,O.a.awrap(gt(e).then((function(e){a.setState({ShowProgressRing:!1}),"Objection reason is verified."===e.Message&&a.props.OnObjectionReasonUpdated()})));case 4:case"end":return t.stop()}}))},a.state={ShowProgressRing:!1},a.onDelete=a.onDelete.bind(Object(h.a)(a)),a.onVerify=a.onVerify.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.ShowProgressRing,t=this.props,a=t.Index,n=t.ObjectionReason;return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("strong",null,a+1),e?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("td",null,n.TraderID?s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}):s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}})),s.a.createElement("td",null,n.Reason),s.a.createElement("td",{className:"text-right"},n.TraderID?s.a.createElement("button",{className:"btn btn-primary",onClick:this.onVerify},"Verify"):null,s.a.createElement("button",{className:"btn btn-danger",onClick:this.onDelete},"Delete")))}}]),t}(r.Component),yi=Ni,xi=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"TraderObjectionReasons"},a.setState({Searching:!0}),t.next=5,O.a.awrap(tt(e).then((function(e){"Trader objection reasons found."===e.Message?a.setState({AllObjectionReasons:e.ObjectionReasons,ObjectionReasons:e.ObjectionReasons,Searching:!1}):a.setState({AllObjectionReasons:[],ObjectionReasons:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){e.preventDefault();var t=a.state.SearchString;if(""!==t){var n=a.state.AllObjectionReasons,r=[],s=0,l=!0,c=!1,o=void 0;try{for(var i,m=n[Symbol.iterator]();!(l=(i=m.next()).done);l=!0){var d=i.value;d.Reason.includes(t)&&(r[s++]=d)}}catch(u){c=!0,o=u}finally{try{l||null==m.return||m.return()}finally{if(c)throw o}}a.setState({ObjectionReasons:r})}else a.setState({ObjectionReasons:a.state.AllObjectionReasons})},a.state={AllObjectionReasons:[],ObjectionReasons:[],SearchString:"",Searching:!1,Refreshing:!1},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.ObjectionReasons,n=t.SearchString,r=t.Searching,l=t.Refreshing;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-comment-dots m-r-xxs"}),"Trader Objection Reasons"),s.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#add-trader-objection-reason-dialog"},"Add New"))))),s.a.createElement(gi,{OnOK:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.onComponentUpdated());case 2:case"end":return t.stop()}}))}}),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Objection Reasons",l?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search",style:{maxWidth:"500px",width:"100%"},value:n,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===a.length?s.a.createElement(nn,{Searching:r,SearchingFor:"objection reasons"}):s.a.createElement("div",{class:"table-responsive back-color-gray"},s.a.createElement("table",{class:"table table-striped"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"NUMBER"),s.a.createElement("th",null,"VERIFIED"),s.a.createElement("th",null,"REASON"),s.a.createElement("th",null))),s.a.createElement("tbody",null,a.map((function(t,a){return s.a.createElement(yi,{key:a,Index:a,ObjectionReason:t,OnObjectionReasonUpdated:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.onComponentUpdated());case 2:case"end":return t.stop()}}))}})}))))))}}]),t}(r.Component),Si=xi,Ci=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Si,null))}}]),t}(r.Component),Oi=Ci,wi=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,Reason:a.state.Reason},n.next=7,O.a.awrap(Nt(t).then((function(e){a.setState({ShowPreloader:!1}),"Objection reason is added."===e.Message&&(a.cancelButton.click(),a.props.OnOK())})));case 7:case"end":return n.stop()}}))},a.state={Reason:"",ValidReason:!1,ValidForm:!1,ShowPreloader:!1,Errors:{Reason:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidReason;switch(e){case"Reason":r=""!==t,n.Reason=r?"":"Reason is required."}this.setState({Errors:n,ValidReason:r},(function(){a.setState({ValidForm:a.state.ValidReason})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.Reason,n=t.ShowPreloader,r=t.ValidForm,l=t.Errors;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"add-driver-objection-reason-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},n?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Add New Reason"),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"control-label"},"Reason"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("textarea",{rows:"6",class:"form-control",name:"Reason",style:{maxWidth:"100%"},value:a,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},l.Reason)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!r}))))))))))}}]),t}(r.Component),ki=wi,Pi=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDelete=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({ShowProgressRing:!0}),e={Token:localStorage.Token,DriverObjectionReasonID:a.props.ObjectionReason.DriverObjectionReasonID},t.next=4,O.a.awrap(yt(e).then((function(e){a.setState({ShowProgressRing:!1}),"Objection reason is deleted."===e.Message&&a.props.OnObjectionReasonUpdated()})));case 4:case"end":return t.stop()}}))},a.onVerify=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({ShowProgressRing:!0}),e={Token:localStorage.Token,DriverObjectionReasonID:a.props.ObjectionReason.DriverObjectionReasonID},t.next=4,O.a.awrap(xt(e).then((function(e){a.setState({ShowProgressRing:!1}),"Objection reason is verified."===e.Message&&a.props.OnObjectionReasonUpdated()})));case 4:case"end":return t.stop()}}))},a.state={ShowProgressRing:!1},a.onDelete=a.onDelete.bind(Object(h.a)(a)),a.onVerify=a.onVerify.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.ShowProgressRing,t=this.props,a=t.Index,n=t.ObjectionReason;return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("strong",null,a+1),e?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("td",null,n.DriverID?s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}):s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}})),s.a.createElement("td",null,n.Reason),s.a.createElement("td",{className:"text-right"},n.DriverID?s.a.createElement("button",{className:"btn btn-primary",onClick:this.onVerify},"Verify"):null,s.a.createElement("button",{className:"btn btn-danger",onClick:this.onDelete},"Delete")))}}]),t}(r.Component),ji=Pi,Ti=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"DriverObjectionReasons"},a.setState({Searching:!0}),t.next=5,O.a.awrap(tt(e).then((function(e){"Driver objection reasons found."===e.Message?a.setState({AllObjectionReasons:e.ObjectionReasons,ObjectionReasons:e.ObjectionReasons,Searching:!1}):a.setState({AllObjectionReasons:[],ObjectionReasons:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){e.preventDefault();var t=a.state.SearchString;if(""!==t){var n=a.state.AllObjectionReasons,r=[],s=0,l=!0,c=!1,o=void 0;try{for(var i,m=n[Symbol.iterator]();!(l=(i=m.next()).done);l=!0){var d=i.value;d.Reason.includes(t)&&(r[s++]=d)}}catch(u){c=!0,o=u}finally{try{l||null==m.return||m.return()}finally{if(c)throw o}}a.setState({ObjectionReasons:r})}else a.setState({ObjectionReasons:a.state.AllObjectionReasons})},a.state={AllObjectionReasons:[],ObjectionReasons:[],SearchString:"",Searching:!1,Refreshing:!1},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.ObjectionReasons,n=t.SearchString,r=t.Searching,l=t.Refreshing;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-comment-dots m-r-xxs"}),"Driver Objection Reasons"),s.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#add-driver-objection-reason-dialog"},"Add New"))))),s.a.createElement(ki,{OnOK:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.onComponentUpdated());case 2:case"end":return t.stop()}}))}}),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Objection Reasons",l?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search",style:{maxWidth:"500px",width:"100%"},value:n,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===a.length?s.a.createElement(nn,{Searching:r,SearchingFor:"objection reasons"}):s.a.createElement("div",{class:"table-responsive back-color-gray"},s.a.createElement("table",{class:"table table-striped"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"NUMBER"),s.a.createElement("th",null,"VERIFIED"),s.a.createElement("th",null,"REASON"),s.a.createElement("th",null))),s.a.createElement("tbody",null,a.map((function(t,a){return s.a.createElement(ji,{key:a,Index:a,ObjectionReason:t,OnObjectionReasonUpdated:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.onComponentUpdated());case 2:case"end":return t.stop()}}))}})}))))))}}]),t}(r.Component),Ri=Ti,Di=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Ri,null))}}]),t}(r.Component),Ai=Di,Fi=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement("ul",{className:"nav nav-tabs tabs-light",role:"tablist"},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#trader-objection-reasons","aria-controls":"job-tab",role:"tab","data-toggle":"tab"},"Trader Objection Reasons")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#driver-objection-reasons","aria-controls":"trader-tab",role:"tab","data-toggle":"tab"},"Driver Objection Reasons"))),s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"trader-objection-reasons"},s.a.createElement(Oi,null)),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"driver-objection-reasons"},s.a.createElement(Ai,null))))}}]),t}(r.Component),Li=Fi,Ii=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"JobObjections",Params:{OnGoingJobID:a.props.OnGoingJobID}},a.setState({Searching:!0}),t.next=5,O.a.awrap(tt(e).then((function(e){"Job objections found."===e.Message?(a.props.OnObjectionsFound(e.JobObjections.length),a.setState({JobObjections:e.JobObjections,Searching:!1})):a.setState({JobObjections:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.state={JobObjections:[],Searching:!1},a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.JobObjections,a=e.Searching;return s.a.createElement("section",null,0===t.length?s.a.createElement(nn,{Searching:a,SearchingFor:"job objctions"}):s.a.createElement("ol",{className:"list-items m-n"},t.map((function(e,t){return s.a.createElement("li",{key:t,className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement(er,{Index:t,JobObjection:e}))}))))}}]),t}(r.Component),Ui=Ii,Vi=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDiscard=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({ShowPreloader:!0}),e={Token:localStorage.Token,OnGoingJobID:a.props.OnGoingJobID},t.next=4,O.a.awrap(St(e).then((function(e){a.setState({ShowPreloader:!1}),"Objectionable job is discarded."===e.Message&&(a.cancelButton.click(),a.props.OnOK())})));case 4:case"end":return t.stop()}}))},a.state={ShowPreloader:!1},a.onDiscard=a.onDiscard.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.ShowPreloader,a=this.props,n=a.Index,r=a.JobNumber;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"discard-objectionable-job-dialog-".concat(n),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},t?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Discard Objectionable Job ".concat(r)),s.a.createElement("div",{className:"type-sh3 m-b-xxs"},"Make sure you have taken all the neccesary actions before discrding this job. Are you sure you want to proceed?"))),s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-danger",onClick:this.onDiscard},"Discard")))))))))}}]),t}(r.Component),Ji=Vi,Mi=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={Refreshing:!1,NumberOfObjections:0},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.NumberOfObjections,a=this.props,n=a.Index,r=a.ObjectionableJob;return s.a.createElement("section",null,s.a.createElement(rr,{Index:n,OnGoingJob:r}),s.a.createElement("div",{className:"text-right p-xxs",style:{backgroundColor:"#DDDDDD"}},s.a.createElement("button",{className:"btn btn-danger m-n","data-toggle":"modal","data-target":"#discard-objectionable-job-dialog-".concat(n)},"Discard")),s.a.createElement("div",{className:"back-color-gray","data-toggle":"collapse","aria-expanded":"false","data-target":"#driver-list-item-".concat(n)},s.a.createElement("div",{className:"type-h4 color-default text-right p-xxxs"},s.a.createElement("span",{class:"badge back-color-danger m-r-xxs"},t),"Objections",s.a.createElement("i",{className:"fas fa-ellipsis-v"}),s.a.createElement("i",{class:"glyph glyph-add"}),s.a.createElement("i",{class:"glyph glyph-remove"}))),s.a.createElement("div",{className:"collapse",id:"driver-list-item-".concat(n)},s.a.createElement(Ui,{OnGoingJobID:r.OnGoingJobID,OnObjectionsFound:function(t){e.setState({NumberOfObjections:t})}})),s.a.createElement(Ji,{Index:n,OnGoingJobID:r.OnGoingJobID,JobNumber:r.JobNumber,OnOK:this.props.OnJobDiscarded}))}}]),t}(r.Component),Bi=Mi,qi=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"ObjectionableJobs"},a.setState({Searching:!0}),t.next=5,O.a.awrap(tt(e).then((function(e){"Objectionable jobs found."===e.Message?a.setState({AllObjectionableJobs:e.ObjectionableJobs,ObjectionableJobs:e.ObjectionableJobs,Searching:!1}):a.setState({AllObjectionableJobs:[],ObjectionableJobs:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){e.preventDefault();var t=a.state.SearchString;if(""!==t){var n=a.state.AllObjectionableJobs,r=[],s=0,l=!0,c=!1,o=void 0;try{for(var i,m=n[Symbol.iterator]();!(l=(i=m.next()).done);l=!0){var d=i.value;d.JobNumber.includes(t)&&(r[s++]=d)}}catch(u){c=!0,o=u}finally{try{l||null==m.return||m.return()}finally{if(c)throw o}}a.setState({ObjectionableJobs:r})}else a.setState({ObjectionableJobs:a.state.AllObjectionableJobs})},a.state={AllObjectionableJobs:[],ObjectionableJobs:[],SearchString:"",Searching:!1,Refreshing:!1},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.ObjectionableJobs,n=t.SearchString,r=t.Searching,l=t.Refreshing;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-thumbs-down m-r-xxs"}),"Objectionable Jobs"))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Objectionable Jobs",l?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search By Job Number",style:{maxWidth:"500px",width:"100%"},value:n,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===a.length?s.a.createElement(nn,{Searching:r,SearchingFor:"objectionable jobs"}):s.a.createElement("ol",{className:"list-items m-n"},a.map((function(t,a){return s.a.createElement("li",{key:a,className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement(Bi,{Index:a,ObjectionableJob:t,OnJobDiscarded:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.onComponentUpdated());case 2:case"end":return t.stop()}}))}}))}))))}}]),t}(r.Component),Qi=qi,Wi=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Qi,null))}}]),t}(r.Component),Gi=Wi,_i=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"JOBS"}),s.a.createElement("ul",{className:"nav nav-tabs theme-alt",role:"tablist",style:{padding:"10px",backgroundColor:"#3A3A3C",width:"100%",margin:"0px"}},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#objection-reasons","aria-controls":"objection-reasons",role:"tab","data-toggle":"tab"},"Objection Reasons")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#objectionable-jobs","aria-controls":"objectionable-jobs",role:"tab","data-toggle":"tab"},"Objectionable Jobs"))),s.a.createElement("div",{class:"tab-content"},s.a.createElement("div",{role:"tabpanel",class:"tab-pane active",id:"objection-reasons"},s.a.createElement(Li,null)),s.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"objectionable-jobs"},s.a.createElement(Gi,null))))}}]),t}(r.Component),zi=_i,Hi=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,DriverQuestionID:a.props.DriverQuestionID,Answer:a.state.Answer},n.next=7,O.a.awrap(Ct(t).then((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({ShowPreloader:!1}),"Answer is added."===e.Message&&(a.cancelButton.click(),a.props.OnOK());case 2:case"end":return t.stop()}}))})));case 7:case"end":return n.stop()}}))},a.state={Answer:a.props.Answer,ValidAnswer:!1,ValidForm:!1,ShowPreloader:!1,Errors:{Answer:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidAnswer;switch(e){case"Answer":r=""!==t,n.Answer=r?"":"Answer is required."}this.setState({Errors:n,ValidAnswer:r},(function(){a.setState({ValidForm:a.state.ValidAnswer})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.Answer,n=t.ShowPreloader,r=t.ValidForm,l=t.Errors,c=this.props,o=c.Index,i=c.QuestionNumber;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"answer-driver-question-dialog-".concat(o),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},n?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Answer for Question ID:",s.a.createElement("span",{className:"color-default m-l-xxxs"},i)),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"control-label"},"Answer"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("textarea",{rows:"6",class:"form-control",name:"Answer",style:{maxWidth:"100%"},value:a,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},l.Answer)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Share",className:"btn btn-primary",disabled:!r}))))))))))}}]),t}(r.Component),Ki=Hi,Yi=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"DriverQuestionClasses"},a.setState({ShowProgressRing:!0}),t.next=5,O.a.awrap(tt(e).then((function(e){"Question classes found."===e.Message?a.setState({QuestionClasses:e.QuestionClasses,ShowProgressRing:!1}):a.setState({QuestionClasses:[],ShowProgressRing:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowProgressRing:!0}),t={Token:localStorage.Token,Class:a.state.NewClass},n.next=7,O.a.awrap(Ot(t).then((function(e){if(a.setState({ShowProgressRing:null}),"Question class is added."===e.Message){var t=a.state.QuestionClasses,n=a.state.Errors;t.push(e.QuestionClass),n.NewClass="No error.",a.setState({AddPressed:!1,QuestionClasses:t,Errors:n,NewClass:""})}})));case 7:case"end":return n.stop()}}))},a.state={QuestionClasses:[],AddPressed:!1,NewClass:"",ValidNewClass:!1,ValidForm:!1,ShowProgressRing:!1,Errors:{NewClass:"No error."}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidNewClass;switch(e){case"NewClass":r=""!=t,n.NewClass=r?"No error.":"New class in required"}this.setState({Errors:n,ValidNewClass:r},(function(){a.setState({ValidForm:a.state.ValidNewClass})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.QuestionClasses,n=t.ShowProgressRing,r=t.AddPressed,l=t.NewClass,c=t.ValidForm,o=t.Errors;return s.a.createElement("section",null,n?s.a.createElement(rn,null):null,s.a.createElement("div",{class:"entity-list entity-list-expandable"},s.a.createElement("div",{class:"entity-list entity-list-add-item-button"},s.a.createElement("a",{class:r?"entity-list-item active":"entity-list-item"},s.a.createElement("div",{class:"item-icon",onClick:function(){e.state.AddPressed?e.setState({AddPressed:!1}):e.setState({AddPressed:!0})}},s.a.createElement("span",{class:"glyph glyph-add"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Add a Class"),s.a.createElement("div",{class:"content-text-secondary"},o.NewClass)),s.a.createElement("div",{class:"item-content-expanded"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("input",{type:"text",className:"form-control",name:"NewClass",autoComplete:"off",value:l,onChange:this.onChange}),s.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-secondary",disabled:!c}))))),a.map((function(t,a){return s.a.createElement("div",{key:a,class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-cog"})),s.a.createElement("div",{class:"item-content-secondary"},s.a.createElement("button",{type:"button",class:"btn btn-secondary",style:{margin:"0px",minWidth:"0px"},onClick:function(){e.props.OnClassSelected(t.Class)}},"Select")),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"".concat(a+1,".")),s.a.createElement("div",{class:"content-text-secondary"},t.Class)))}))))}}]),t}(r.Component),$i=Yi,Xi=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onClassSelected=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,DriverQuestionID:a.props.DriverQuestionID,Class:e},n.next=4,O.a.awrap(wt(t).then((function(e){a.setState({ShowPreloader:!1}),"Question is classified."===e.Message&&(a.cancelButton.click(),a.props.OnOK())})));case 4:case"end":return n.stop()}}))},a.state={ShowPreloader:!1},a.onClassSelected=a.onClassSelected.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.ShowPreloader,a=this.props,n=a.Index,r=a.Class;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"classify-driver-question-dialog-".concat(n),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},t?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Classify the Question"),s.a.createElement("div",{className:"type-h7 p-t-xxxs"},r?"Current Class: ".concat(r):"Current Class: Unclassified"),s.a.createElement("div",{className:"m-t-xxxs"},s.a.createElement($i,{OnClassSelected:this.onClassSelected})))))))))))}}]),t}(r.Component),Zi=Xi,em=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.Index,a=e.Question;return s.a.createElement("section",null,s.a.createElement(cs,{Index:t,Question:a}),s.a.createElement("div",{className:"text-right p-xxs",style:{backgroundColor:"#DDDDDD"}},s.a.createElement("button",{className:"btn btn-secondary m-t-n","data-toggle":"modal","data-target":"#classify-driver-question-dialog-".concat(t)},"Classify"),s.a.createElement("button",{className:"btn btn-primary m-t-n","data-toggle":"modal","data-target":"#answer-driver-question-dialog-".concat(t)},a.DriverAnswer?"Update Answer":"Answer")),s.a.createElement(Ki,{Index:t,DriverQuestionID:a.DriverQuestionID,QuestionNumber:a.QuestionNumber,Answer:a.DriverAnswer?a.DriverAnswer.Answer:"",OnOK:this.props.OnQuestionUpdated}),s.a.createElement(Zi,{Index:t,DriverQuestionID:a.DriverQuestionID,Class:a.Class,OnOK:this.props.OnQuestionUpdated}))}}]),t}(r.Component),tm=em,am=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"DriverQuestions"},a.setState({Searching:!0}),t.next=5,O.a.awrap(tt(e).then((function(e){"Questions found."===e.Message?a.setState({AllQuestions:e.Questions,Questions:e.Questions,Searching:!1}):a.setState({AllQuestions:[],Questions:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){e.preventDefault();var t=a.state.SearchString;if(""!==t){var n=a.state.AllQuestions,r=[],s=0,l=!0,c=!1,o=void 0;try{for(var i,m=n[Symbol.iterator]();!(l=(i=m.next()).done);l=!0){var d=i.value;(d.Question.includes(t)||d.QuestionNumber.includes(t)||d.Class.includes(t))&&(r[s++]=d)}}catch(u){c=!0,o=u}finally{try{l||null==m.return||m.return()}finally{if(c)throw o}}a.setState({Questions:r})}else a.setState({Questions:a.state.AllQuestions})},a.state={AllQuestions:[],Questions:[],SearchString:"",Searching:!1,Refreshing:!1},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.Questions,n=t.SearchString,r=t.Searching,l=t.Refreshing;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-question-circle m-r-xxs"}),"Questions"))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Drivers' Questions",l?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search a Question",style:{maxWidth:"500px",width:"100%"},value:n,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===a.length?s.a.createElement(nn,{Searching:r,SearchingFor:"questions"}):s.a.createElement("ol",{className:"list-items m-n"},a.map((function(t,a){return s.a.createElement("li",{key:a,className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement(tm,{Index:a,Question:t,OnQuestionUpdated:e.onComponentUpdated}))}))))}}]),t}(r.Component),nm=am,rm=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(nm,null))}}]),t}(r.Component),sm=rm,lm=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,TraderQuestionID:a.props.TraderQuestionID,Answer:a.state.Answer},n.next=7,O.a.awrap(kt(t).then((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({ShowPreloader:!1}),"Answer is added."===e.Message&&(a.cancelButton.click(),a.props.OnOK());case 2:case"end":return t.stop()}}))})));case 7:case"end":return n.stop()}}))},a.state={Answer:a.props.Answer,ValidAnswer:!1,ValidForm:!1,ShowPreloader:!1,Errors:{Answer:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidAnswer;switch(e){case"Answer":r=""!==t,n.Answer=r?"":"Answer is required."}this.setState({Errors:n,ValidAnswer:r},(function(){a.setState({ValidForm:a.state.ValidAnswer})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.Answer,n=t.ShowPreloader,r=t.ValidForm,l=t.Errors,c=this.props,o=c.Index,i=c.QuestionNumber;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"answer-trader-question-dialog-".concat(o),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},n?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Answer for Question ID:",s.a.createElement("span",{className:"color-default m-l-xxxs"},i)),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"control-label"},"Answer"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("textarea",{rows:"6",class:"form-control",name:"Answer",style:{maxWidth:"100%"},value:a,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},l.Answer)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Share",className:"btn btn-primary",disabled:!r}))))))))))}}]),t}(r.Component),cm=lm,om=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"TraderQuestionClasses"},a.setState({ShowProgressRing:!0}),t.next=5,O.a.awrap(tt(e).then((function(e){"Question classes found."===e.Message?a.setState({QuestionClasses:e.QuestionClasses,ShowProgressRing:!1}):a.setState({QuestionClasses:[],ShowProgressRing:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowProgressRing:!0}),t={Token:localStorage.Token,Class:a.state.NewClass},n.next=7,O.a.awrap(Pt(t).then((function(e){if(a.setState({ShowProgressRing:null}),"Question class is added."===e.Message){var t=a.state.QuestionClasses,n=a.state.Errors;t.push(e.QuestionClass),n.NewClass="No error.",a.setState({AddPressed:!1,QuestionClasses:t,Errors:n,NewClass:""})}})));case 7:case"end":return n.stop()}}))},a.state={QuestionClasses:[],AddPressed:!1,NewClass:"",ValidNewClass:!1,ValidForm:!1,ShowProgressRing:!1,Errors:{NewClass:"No error."}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidNewClass;switch(e){case"NewClass":r=""!=t,n.NewClass=r?"No error.":"New class in required"}this.setState({Errors:n,ValidNewClass:r},(function(){a.setState({ValidForm:a.state.ValidNewClass})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.QuestionClasses,n=t.ShowProgressRing,r=t.AddPressed,l=t.NewClass,c=t.ValidForm,o=t.Errors;return s.a.createElement("section",null,n?s.a.createElement(rn,null):null,s.a.createElement("div",{class:"entity-list entity-list-expandable"},s.a.createElement("div",{class:"entity-list entity-list-add-item-button"},s.a.createElement("a",{class:r?"entity-list-item active":"entity-list-item"},s.a.createElement("div",{class:"item-icon",onClick:function(){e.state.AddPressed?e.setState({AddPressed:!1}):e.setState({AddPressed:!0})}},s.a.createElement("span",{class:"glyph glyph-add"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Add a Class"),s.a.createElement("div",{class:"content-text-secondary"},o.NewClass)),s.a.createElement("div",{class:"item-content-expanded"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("input",{type:"text",className:"form-control",name:"NewClass",autoComplete:"off",value:l,onChange:this.onChange}),s.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-secondary",disabled:!c}))))),a.map((function(t,a){return s.a.createElement("div",{key:a,class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-cog"})),s.a.createElement("div",{class:"item-content-secondary"},s.a.createElement("button",{type:"button",class:"btn btn-secondary",style:{margin:"0px",minWidth:"0px"},onClick:function(){e.props.OnClassSelected(t.Class)}},"Select")),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"".concat(a+1,".")),s.a.createElement("div",{class:"content-text-secondary"},t.Class)))}))))}}]),t}(r.Component),im=om,mm=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onClassSelected=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,TraderQuestionID:a.props.TraderQuestionID,Class:e},n.next=4,O.a.awrap(jt(t).then((function(e){a.setState({ShowPreloader:!1}),"Question is classified."===e.Message&&(a.cancelButton.click(),a.props.OnOK())})));case 4:case"end":return n.stop()}}))},a.state={ShowPreloader:!1},a.onClassSelected=a.onClassSelected.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.ShowPreloader,a=this.props,n=a.Index,r=a.Class;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"classify-trader-question-dialog-".concat(n),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},t?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Classify the Question"),s.a.createElement("div",{className:"type-h7 p-t-xxxs"},r?"Current Class: ".concat(r):"Current Class: Unclassified"),s.a.createElement("div",{className:"m-t-xxxs"},s.a.createElement(im,{OnClassSelected:this.onClassSelected})))))))))))}}]),t}(r.Component),dm=mm,um=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.Index,a=e.Question;return s.a.createElement("section",null,s.a.createElement(mo,{Index:t,Question:a}),s.a.createElement("div",{className:"text-right p-xxs",style:{backgroundColor:"#DDDDDD"}},s.a.createElement("button",{className:"btn btn-secondary m-t-n","data-toggle":"modal","data-target":"#classify-trader-question-dialog-".concat(t)},"Classify"),s.a.createElement("button",{className:"btn btn-primary m-t-n","data-toggle":"modal","data-target":"#answer-trader-question-dialog-".concat(t)},a.TraderAnswer?"Update Answer":"Answer")),s.a.createElement(cm,{Index:t,TraderQuestionID:a.TraderQuestionID,QuestionNumber:a.QuestionNumber,Answer:a.TraderAnswer?a.TraderAnswer.Answer:"",OnOK:this.props.OnQuestionUpdated}),s.a.createElement(dm,{Index:t,TraderQuestionID:a.TraderQuestionID,Class:a.Class,OnOK:this.props.OnQuestionUpdated}))}}]),t}(r.Component),pm=um,Em=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"TraderQuestions"},a.setState({Searching:!0}),t.next=5,O.a.awrap(tt(e).then((function(e){"Questions found."===e.Message?a.setState({AllQuestions:e.Questions,Questions:e.Questions,Searching:!1}):a.setState({AllQuestions:[],Questions:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){e.preventDefault();var t=a.state.SearchString;if(""!==t){var n=a.state.AllQuestions,r=[],s=0,l=!0,c=!1,o=void 0;try{for(var i,m=n[Symbol.iterator]();!(l=(i=m.next()).done);l=!0){var d=i.value;(d.Question.includes(t)||d.QuestionNumber.includes(t)||d.Class.includes(t))&&(r[s++]=d)}}catch(u){c=!0,o=u}finally{try{l||null==m.return||m.return()}finally{if(c)throw o}}a.setState({Questions:r})}else a.setState({Questions:a.state.AllQuestions})},a.state={AllQuestions:[],Questions:[],SearchString:"",Searching:!1,Refreshing:!1},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.Questions,n=t.SearchString,r=t.Searching,l=t.Refreshing;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-question-circle m-r-xxs"}),"Questions"))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Traders' Questions",l?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search a Question",style:{maxWidth:"500px",width:"100%"},value:n,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===a.length?s.a.createElement(nn,{Searching:r,SearchingFor:"questions"}):s.a.createElement("ol",{className:"list-items m-n"},a.map((function(t,a){return s.a.createElement("li",{key:a,className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement(pm,{Index:a,Question:t,OnQuestionUpdated:e.onComponentUpdated}))}))))}}]),t}(r.Component),hm=Em,bm=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(hm,null))}}]),t}(r.Component),vm=bm,fm=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.Index,a=e.Question,n=new Date(a.Created),r=a.AskedBy,l=a.ResponsibleAnswer,c=l?new Date(l.Created):null,o=l?l.AnsweredBy:null;return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"type-h5 color-default p-t-n"},"".concat(t+1,". Question ID: ").concat(a.QuestionNumber)),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-user"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},s.a.createElement("span",{className:"fas fa-copyright m-r-xxxs"}),"".concat(r.Name)),s.a.createElement("div",{className:"content-text-secondary"},"@".concat(r.Username)),s.a.createElement("div",{className:"content-text-secondary"},"".concat(n.toDateString()," at ").concat(n.toLocaleTimeString())))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-question"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},s.a.createElement("span",{className:"m-r-xxxs"},"Question"),a.Class?s.a.createElement("span",{class:"badge back-color-golden"},a.Class.toUpperCase()):s.a.createElement("span",{class:"badge back-color-golden"},"UNCLASSIFIED")),s.a.createElement("div",{className:"content-text-secondary"},a.Question))))),l?s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-user"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},s.a.createElement("span",{className:"fas fa-user-shield m-r-xxxs"}),"".concat(o.FirstName," ").concat(o.LastName)),s.a.createElement("div",{className:"content-text-secondary"},"@".concat(o.Username)),s.a.createElement("div",{className:"content-text-secondary"},"".concat(c.toDateString()," at ").concat(c.toLocaleTimeString(),".")))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-comment"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},s.a.createElement("span",{className:"m-r-xxxs"},"Answer"),l.Edited?s.a.createElement("span",{className:"color-default"},"EDITED"):null),s.a.createElement("div",{className:"content-text-secondary"},l.Answer))))):s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-comment"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},s.a.createElement("span",{className:"m-r-xxxs"},"Answer")),s.a.createElement("div",{className:"content-text-secondary"},"This question has not been answered yet.")))))))))}}]),t}(r.Component),gm=fm,Nm=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,ResponsibleQuestionID:a.props.ResponsibleQuestionID,Answer:a.state.Answer},n.next=7,O.a.awrap(Tt(t).then((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({ShowPreloader:!1}),"Answer is added."===e.Message&&(a.cancelButton.click(),a.props.OnOK());case 2:case"end":return t.stop()}}))})));case 7:case"end":return n.stop()}}))},a.state={Answer:a.props.Answer,ValidAnswer:!1,ValidForm:!1,ShowPreloader:!1,Errors:{Answer:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidAnswer;switch(e){case"Answer":r=""!==t,n.Answer=r?"":"Answer is required."}this.setState({Errors:n,ValidAnswer:r},(function(){a.setState({ValidForm:a.state.ValidAnswer})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.Answer,n=t.ShowPreloader,r=t.ValidForm,l=t.Errors,c=this.props,o=c.Index,i=c.QuestionNumber;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"answer-responsible-question-dialog-".concat(o),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},n?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Answer for Question ID:",s.a.createElement("span",{className:"color-default m-l-xxxs"},i)),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"control-label"},"Answer"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("textarea",{rows:"6",class:"form-control",name:"Answer",style:{maxWidth:"100%"},value:a,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},l.Answer)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Share",className:"btn btn-primary",disabled:!r}))))))))))}}]),t}(r.Component),ym=Nm,xm=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"ResponsibleQuestionClasses"},a.setState({ShowProgressRing:!0}),t.next=5,O.a.awrap(tt(e).then((function(e){"Question classes found."===e.Message?a.setState({QuestionClasses:e.QuestionClasses,ShowProgressRing:!1}):a.setState({QuestionClasses:[],ShowProgressRing:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowProgressRing:!0}),t={Token:localStorage.Token,Class:a.state.NewClass},n.next=7,O.a.awrap(Rt(t).then((function(e){if(a.setState({ShowProgressRing:null}),"Question class is added."===e.Message){var t=a.state.QuestionClasses,n=a.state.Errors;t.push(e.QuestionClass),n.NewClass="No error.",a.setState({AddPressed:!1,QuestionClasses:t,Errors:n,NewClass:""})}})));case 7:case"end":return n.stop()}}))},a.state={QuestionClasses:[],AddPressed:!1,NewClass:"",ValidNewClass:!1,ValidForm:!1,ShowProgressRing:!1,Errors:{NewClass:"No error."}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidNewClass;switch(e){case"NewClass":r=""!=t,n.NewClass=r?"No error.":"New class in required"}this.setState({Errors:n,ValidNewClass:r},(function(){a.setState({ValidForm:a.state.ValidNewClass})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.QuestionClasses,n=t.ShowProgressRing,r=t.AddPressed,l=t.NewClass,c=t.ValidForm,o=t.Errors;return s.a.createElement("section",null,n?s.a.createElement(rn,null):null,s.a.createElement("div",{class:"entity-list entity-list-expandable"},s.a.createElement("div",{class:"entity-list entity-list-add-item-button"},s.a.createElement("a",{class:r?"entity-list-item active":"entity-list-item"},s.a.createElement("div",{class:"item-icon",onClick:function(){e.state.AddPressed?e.setState({AddPressed:!1}):e.setState({AddPressed:!0})}},s.a.createElement("span",{class:"glyph glyph-add"})),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"Add a Class"),s.a.createElement("div",{class:"content-text-secondary"},o.NewClass)),s.a.createElement("div",{class:"item-content-expanded"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("input",{type:"text",className:"form-control",name:"NewClass",autoComplete:"off",value:l,onChange:this.onChange}),s.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-secondary",disabled:!c}))))),a.map((function(t,a){return s.a.createElement("div",{key:a,class:"entity-list-item"},s.a.createElement("div",{class:"item-icon"},s.a.createElement("span",{class:"fas fa-cog"})),s.a.createElement("div",{class:"item-content-secondary"},s.a.createElement("button",{type:"button",class:"btn btn-secondary",style:{margin:"0px",minWidth:"0px"},onClick:function(){e.props.OnClassSelected(t.Class)}},"Select")),s.a.createElement("div",{class:"item-content-primary"},s.a.createElement("div",{class:"content-text-primary"},"".concat(a+1,".")),s.a.createElement("div",{class:"content-text-secondary"},t.Class)))}))))}}]),t}(r.Component),Sm=xm,Cm=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onClassSelected=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,ResponsibleQuestionID:a.props.ResponsibleQuestionID,Class:e},n.next=4,O.a.awrap(Dt(t).then((function(e){a.setState({ShowPreloader:!1}),"Question is classified."===e.Message&&(a.cancelButton.click(),a.props.OnOK())})));case 4:case"end":return n.stop()}}))},a.state={ShowPreloader:!1},a.onClassSelected=a.onClassSelected.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.ShowPreloader,a=this.props,n=a.Index,r=a.Class;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"classify-responsible-question-dialog-".concat(n),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},t?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Classify the Question"),s.a.createElement("div",{className:"type-h7 p-t-xxxs"},r?"Current Class: ".concat(r):"Current Class: Unclassified"),s.a.createElement("div",{className:"m-t-xxxs"},s.a.createElement(Sm,{OnClassSelected:this.onClassSelected})))))))))))}}]),t}(r.Component),Om=Cm,wm=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.Index,a=e.Question;return s.a.createElement("section",null,s.a.createElement(gm,{Index:t,Question:a}),s.a.createElement("div",{className:"text-right p-xxs",style:{backgroundColor:"#DDDDDD"}},s.a.createElement("button",{className:"btn btn-secondary m-t-n","data-toggle":"modal","data-target":"#classify-responsible-question-dialog-".concat(t)},"Classify"),s.a.createElement("button",{className:"btn btn-primary m-t-n","data-toggle":"modal","data-target":"#answer-responsible-question-dialog-".concat(t)},a.ResponsibleAnswer?"Update Answer":"Answer")),s.a.createElement(ym,{Index:t,ResponsibleQuestionID:a.ResponsibleQuestionID,QuestionNumber:a.QuestionNumber,Answer:a.ResponsibleAnswer?a.ResponsibleAnswer.Answer:"",OnOK:this.props.OnQuestionUpdated}),s.a.createElement(Om,{Index:t,ResponsibleQuestionID:a.ResponsibleQuestionID,Class:a.Class,OnOK:this.props.OnQuestionUpdated}))}}]),t}(r.Component),km=wm,Pm=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"ResponsibleQuestions"},a.setState({Searching:!0}),t.next=5,O.a.awrap(tt(e).then((function(e){"Questions found."===e.Message?a.setState({AllQuestions:e.Questions,Questions:e.Questions,Searching:!1}):a.setState({AllQuestions:[],Questions:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){e.preventDefault();var t=a.state.SearchString;if(""!==t){var n=a.state.AllQuestions,r=[],s=0,l=!0,c=!1,o=void 0;try{for(var i,m=n[Symbol.iterator]();!(l=(i=m.next()).done);l=!0){var d=i.value;(d.Question.includes(t)||d.QuestionNumber.includes(t)||d.Class.includes(t))&&(r[s++]=d)}}catch(u){c=!0,o=u}finally{try{l||null==m.return||m.return()}finally{if(c)throw o}}a.setState({Questions:r})}else a.setState({Questions:a.state.AllQuestions})},a.state={AllQuestions:[],Questions:[],SearchString:"",Searching:!1,Refreshing:!1},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.Questions,n=t.SearchString,r=t.Searching,l=t.Refreshing;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-question-circle m-r-xxs"}),"Questions"))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"TC Responsibles' Questions",l?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search a Question",style:{maxWidth:"500px",width:"100%"},value:n,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===a.length?s.a.createElement(nn,{Searching:r,SearchingFor:"questions"}):s.a.createElement("ol",{className:"list-items m-n"},a.map((function(t,a){return s.a.createElement("li",{key:a,className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement(km,{Index:a,Question:t,OnQuestionUpdated:e.onComponentUpdated}))}))))}}]),t}(r.Component),jm=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Pm,null))}}]),t}(r.Component),Tm=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"QUESTIONS"}),s.a.createElement("ul",{className:"nav nav-tabs theme-alt",role:"tablist",style:{padding:"10px",backgroundColor:"#3A3A3C",width:"100%",margin:"0px"}},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#driver-questions","aria-controls":"driver-questions",role:"tab","data-toggle":"tab"},"Drivers' Questions")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#trader-questions","aria-controls":"trader-questions",role:"tab","data-toggle":"tab"},"Traders' Questions")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#responsible-questions","aria-controls":"responsible-questions",role:"tab","data-toggle":"tab"},"TC Responsibles' Questions"))),s.a.createElement("div",{class:"tab-content"},s.a.createElement("div",{role:"tabpanel",class:"tab-pane active",id:"driver-questions"},s.a.createElement(sm,null)),s.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"trader-questions"},s.a.createElement(vm,null)),s.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"responsible-questions"},s.a.createElement(jm,null))))}}]),t}(r.Component),Rm=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,FeeRate:a.state.FeeRate},n.next=7,O.a.awrap(At(t).then((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({ShowPreloader:!1}),"Global fee rate is set."===e.Message&&(a.cancelButton.click(),a.props.OnOK());case 2:case"end":return t.stop()}}))})));case 7:case"end":return n.stop()}}))},a.state={FeeRate:"",ValidFeeRate:!1,ValidForm:!1,ShowPreloader:!1,Errors:{FeeRate:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidFeeRate;switch(e){case"FeeRate":if(r=""!==t,n.FeeRate=r?"":"Fee rate is required",""!==n.FeeRate)break;r=t>=1&&t<=100,n.FeeRate=r?"":"Fee Rate can be between 1 and 100."}this.setState({Errors:n,ValidFeeRate:r},(function(){a.setState({ValidForm:a.state.ValidFeeRate})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.FeeRate,n=t.ShowPreloader,r=t.ValidForm,l=t.Errors;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"set-global-fee-rate-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},n?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Set Global Fee Rate"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Global Fee Rate (%)"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",name:"FeeRate",className:"form-control",autoComplete:"off",value:a,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},l.FeeRate)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Set",className:"btn btn-primary",disabled:!r}))))))))))}}]),t}(r.Component),Dm=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,FeeRate:a.state.FeeRate,Date:a.state.Date},n.next=7,O.a.awrap(Ft(t).then((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({ShowPreloader:!1}),"Temporary fee rate is set."===e.Message&&(a.cancelButton.click(),a.props.OnOK());case 2:case"end":return t.stop()}}))})));case 7:case"end":return n.stop()}}))},a.state={FeeRate:"",Date:"",ValidFeeRate:!1,ValidDate:!1,ValidForm:!1,ShowPreloader:!1,Errors:{FeeRate:"",Date:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidFeeRate,s=this.state.ValidDate;switch(e){case"FeeRate":if(r=""!==t,n.FeeRate=r?"":"Fee rate is required",""!==n.FeeRate)break;r=t>=1&&t<=100,n.FeeRate=r?"":"Fee Rate can be between 1 and 100.";break;case"Date":if(s=""!==t,n.Date=s?"":"Date is required",""!==n.Date)break;s=new Date(t).getTime()>=(new Date).getTime(),n.Date=s?"":"Date must be later than yesterday."}this.setState({Errors:n,ValidFeeRate:r,ValidDate:s},(function(){a.setState({ValidForm:a.state.ValidFeeRate&&a.state.ValidDate})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.FeeRate,n=t.Date,r=t.ShowPreloader,l=t.ValidForm,c=t.Errors;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"set-temporary-fee-rate-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},r?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Set Temporary Fee Rate"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Temporary Fee Rate (%)"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",name:"FeeRate",className:"form-control",autoComplete:"off",value:a,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},c.FeeRate)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Date Up To"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"date",name:"Date",className:"form-control",autoComplete:"off",value:n,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},c.Date)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Set",className:"btn btn-primary",disabled:!l}))))))))))}}]),t}(r.Component),Am=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onClear=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({ShowPreloader:!0}),e={Token:localStorage.Token},t.next=4,O.a.awrap(Lt(e).then((function(e){a.setState({ShowPreloader:!1}),"Temporary fee rate is cleared."===e.Message&&(a.cancelButton.click(),a.props.OnOK())})));case 4:case"end":return t.stop()}}))},a.state={ShowPreloader:!1},a.onClear=a.onClear.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.ShowPreloader;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"clear-temporary-fee-rate-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},t?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Clear Temporary Fee Rate"),s.a.createElement("div",{className:"type-sh3 m-b-xxs"},"Are you sure you want to clear temporary fee rate before its due date?"))),s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-danger",onClick:this.onClear},"Clear")))))))))}}]),t}(r.Component),Fm=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"GlobalAndTemporaryFeeRates"},a.setState({Searching:!0}),t.next=5,O.a.awrap(tt(e).then((function(e){"Global and temporary fee rates found."===e.Message?a.setState({GlobalFeeRate:e.GlobalFeeRate,TemporaryFeeRateData:e.TemporaryFeeRateData,Searching:!1}):a.setState({GlobalFeeRate:0,TemporaryFeeRateData:null,Searching:!1})})));case 5:case"end":return t.stop()}}))},a.state={GlobalFeeRate:0,TemporaryFeeRateData:null,Searching:!1},a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.GlobalFeeRate,a=e.TemporaryFeeRateData,n=e.Searching,r=a?new Date(a.Date):null;return s.a.createElement("section",null,s.a.createElement("div",{class:"alert alert-info m-n",style:{backgroundColor:"#E5E5E5"}},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-6"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon",style:{backgroundColor:"#E5E5E5",color:"#008575"}},s.a.createElement("span",{className:"fas fa-tag"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Global Fee Rate",n?s.a.createElement("span",{className:"m-l-xxxs"},s.a.createElement(rn,null)):null),s.a.createElement("div",{className:"content-text-secondary"},t?"".concat(t,"%"):"Not found."),s.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#set-global-fee-rate-dialog"},"Set"))))),s.a.createElement("div",{class:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon",style:{backgroundColor:"#E5E5E5",color:"#008575"}},s.a.createElement("span",{className:"fas fa-tag"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Temporary Fee Rate",n?s.a.createElement("span",{className:"m-l-xxxs"},s.a.createElement(rn,null)):null),a?s.a.createElement("section",null,s.a.createElement("div",{className:"content-text-secondary"},"".concat(a.FeeRate,"%")),s.a.createElement("div",{className:"content-text-secondary"},"UP TO: ".concat(r.toDateString())),s.a.createElement("button",{className:"btn btn-danger","data-toggle":"modal","data-target":"#clear-temporary-fee-rate-dialog"},"Clear")):s.a.createElement("section",null,s.a.createElement("div",{className:"content-text-secondary"},"Not found."),s.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#set-temporary-fee-rate-dialog"},"Set")))))))),s.a.createElement(Rm,{OnOK:this.onComponentUpdated}),s.a.createElement(Dm,{OnOK:this.onComponentUpdated}),s.a.createElement(Am,{OnOK:this.onComponentUpdated}))}}]),t}(r.Component),Lm=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,PriceRangeID:a.props.PriceRangeID,FeeRate:a.state.FeeRate},n.next=7,O.a.awrap(Ut(t).then((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({ShowPreloader:!1}),"Price range is updated."===e.Message&&(a.cancelButton.click(),a.props.OnOK(a.state.FeeRate));case 2:case"end":return t.stop()}}))})));case 7:case"end":return n.stop()}}))},a.state={FeeRate:a.props.FeeRate,ValidFeeRate:!1,ValidForm:!1,ShowPreloader:!1,Errors:{FeeRate:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidFeeRate;switch(e){case"FeeRate":if(r=""!==t,n.FeeRate=r?"":"Fee rate is required",""!==n.FeeRate)break;r=t>=1&&t<=100,n.FeeRate=r?"":"Fee Rate can be between 1 and 100."}this.setState({Errors:n,ValidFeeRate:r},(function(){a.setState({ValidForm:a.state.ValidFeeRate})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.FeeRate,n=t.ShowPreloader,r=t.ValidForm,l=t.Errors,c=this.props.Index;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"update-fee-rate-dialog-".concat(c),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},n?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Update Fee Rate"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Fee Rate (%)"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",name:"FeeRate",className:"form-control",autoComplete:"off",value:a,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},l.FeeRate)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Set",className:"btn btn-primary",disabled:!r}))))))))))}}]),t}(r.Component),Im=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDelete=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({ShowProgressRing:!0}),e={Token:localStorage.Token,PriceRangeID:a.props.PriceRange.PriceRangeID},t.next=4,O.a.awrap(Vt(e).then((function(e){a.setState({ShowProgressRing:!1}),"Price range is deleted."===e.Message&&a.props.OnPriceRangeDeleted(a.props.PriceRange)})));case 4:case"end":return t.stop()}}))},a.state={ShowProgressRing:!1},a.onDelete=a.onDelete.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.ShowProgressRing,t=this.props,a=t.Index,n=t.PriceRange;return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("strong",null,a+1),e?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("td",null,"$".concat(parseFloat(n.StartRange).toFixed(2))),s.a.createElement("td",null,"$".concat(parseFloat(n.EndRange).toFixed(2))),s.a.createElement("td",null,"".concat(n.FeeRate,"%")),s.a.createElement("td",{className:"text-right"},s.a.createElement("button",{className:"btn btn-secondary","data-toggle":"modal","data-target":"#update-fee-rate-dialog-".concat(a)},"Edit Fee Rate"),s.a.createElement("button",{className:"btn btn-danger",onClick:this.onDelete},"Delete"),s.a.createElement(Lm,{Index:a,FeeRate:n.FeeRate,PriceRangeID:n.PriceRangeID,OnOK:this.props.OnPriceRangeUpdated})))}}]),t}(r.Component),Um=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,StartRange:a.state.StartRange,EndRange:a.state.EndRange,FeeRate:a.state.FeeRate},n.next=7,O.a.awrap(It(t).then((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({ShowPreloader:!1}),"Price range is added."===e.Message&&(a.cancelButton.click(),a.props.OnOK(e.PriceRange));case 2:case"end":return t.stop()}}))})));case 7:case"end":return n.stop()}}))},a.state={StartRange:"",EndRange:"",FeeRate:"",ValidStartRange:!1,ValidEndRange:!1,ValidFeeRate:!1,ValidForm:!1,ShowPreloader:!1,Errors:{StartRange:"",EndRange:"",FeeRate:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidStartRange,s=this.state.ValidEndRange,l=this.state.ValidFeeRate;switch(e){case"StartRange":if(r=""!==t,n.StartRange=r?"":"Starting price is required",""!==n.StartRange)break;if(""!==this.state.EndRange&&(r=t<=parseFloat(this.state.EndRange),n.StartRange=r?"":"Starting price must be less than Ending price.",""!==n.StartRange))break;s=parseFloat(this.state.EndRange)>=t,n.EndRange=s?"":"Ending price must be greater than Starting price.";break;case"EndRange":if(s=""!==t,n.EndRange=s?"":"Ending price is required",""!==n.EndRange)break;if(s=t>=parseFloat(this.state.StartRange),n.EndRange=s?"":"Ending price must be greater than Starting price.",""!==n.EndRange)break;r=parseFloat(this.state.StartRange)<=t,n.StartRange=r?"":"Starting price must be less than Ending price.";break;case"FeeRate":if(l=""!==t,n.FeeRate=l?"":"Fee rate is required",""!==n.FeeRate)break;l=t>=1&&t<=100,n.FeeRate=l?"":"Fee Rate can be between 1 and 100."}this.setState({Errors:n,ValidStartRange:r,ValidEndRange:s,ValidFeeRate:l},(function(){a.setState({ValidForm:a.state.ValidStartRange&&a.state.ValidEndRange&&a.state.ValidFeeRate})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.StartRange,n=t.EndRange,r=t.FeeRate,l=t.ShowPreloader,c=t.ValidForm,o=t.Errors;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"add-price-range-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},l?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n m-b-xxs"},"Add Price Range"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Starting Price (USD)"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",min:"0.00",step:"0.01",name:"StartRange",className:"form-control",autoComplete:"off",value:a,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},o.StartRange)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Ending Price (USD)"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",min:"0.00",step:"0.01",name:"EndRange",className:"form-control",autoComplete:"off",value:n,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},o.EndRange)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Fee Rate (%)"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",name:"FeeRate",className:"form-control",autoComplete:"off",value:r,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},o.FeeRate)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!c}))))))))))}}]),t}(r.Component),Vm=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"PriceRanges"},a.setState({Searching:!0}),t.next=5,O.a.awrap(tt(e).then((function(e){"Price ranges found."===e.Message?a.setState({PriceRanges:e.PriceRanges,Searching:!1}):a.setState({PriceRanges:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.state={PriceRanges:[],Searching:!1,Refreshing:!1},a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.PriceRanges,n=t.Searching,r=t.Refreshing;return s.a.createElement("section",null,s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Price Ranges",r?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("div",{className:"text-right p-xxs",style:{backgroundColor:"#DDDDDD"}},s.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#add-price-range-dialog"},"Add New Range")),s.a.createElement(Um,{OnOK:function(t){var n=a;n.push(t),e.setState({PriceRanges:n})}}),0===a.length?s.a.createElement(nn,{Searching:n,SearchingFor:"price ranges"}):s.a.createElement("div",{class:"table-responsive back-color-gray"},s.a.createElement("table",{class:"table table-striped"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"NUMBER"),s.a.createElement("th",null,"STARTING PRICE"),s.a.createElement("th",null,"ENDING PRICE"),s.a.createElement("th",null,"FEE RATE"),s.a.createElement("th",null))),s.a.createElement("tbody",null,a.map((function(t,n){return s.a.createElement(Im,{key:n,Index:n,PriceRange:t,OnPriceRangeUpdated:function(n){var r=a,s=!0,l=!1,c=void 0;try{for(var o,i=r[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){if(o.value===t){t.FeeRate=n;break}}}catch(m){l=!0,c=m}finally{try{s||null==i.return||i.return()}finally{if(l)throw c}}e.setState({PriceRanges:r})},OnPriceRangeDeleted:function(t){var n=[],r=!0,s=!1,l=void 0;try{for(var c,o=a[Symbol.iterator]();!(r=(c=o.next()).done);r=!0){var i=c.value;i!==t&&n.push(i)}}catch(m){s=!0,l=m}finally{try{r||null==o.return||o.return()}finally{if(s)throw l}}e.setState({PriceRanges:n})}})}))))))}}]),t}(r.Component),Jm=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Vm,null))}}]),t}(r.Component),Mm=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-tag m-r-xxs"}),"General Rates"))))),s.a.createElement(Fm,null),s.a.createElement(Jm,null))}}]),t}(r.Component),Bm=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,TraderRateID:a.props.TraderRateID,FeeRate:a.state.FeeRate},n.next=7,O.a.awrap(Mt(t).then((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({ShowPreloader:!1}),"Trader rate is updated."===e.Message&&(a.cancelButton.click(),a.props.OnOK(a.state.FeeRate));case 2:case"end":return t.stop()}}))})));case 7:case"end":return n.stop()}}))},a.state={FeeRate:a.props.FeeRate,ValidFeeRate:!1,ValidForm:!1,ShowPreloader:!1,Errors:{FeeRate:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidFeeRate;switch(e){case"FeeRate":if(r=""!==t,n.FeeRate=r?"":"Fee rate is required",""!==n.FeeRate)break;r=t>=1&&t<=100,n.FeeRate=r?"":"Fee Rate can be between 1 and 100."}this.setState({Errors:n,ValidFeeRate:r},(function(){a.setState({ValidForm:a.state.ValidFeeRate})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.FeeRate,n=t.ShowPreloader,r=t.ValidForm,l=t.Errors,c=this.props.Index;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"update-trader-rate-dialog-".concat(c),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},n?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Update Fee Rate"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Fee Rate (%)"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",name:"FeeRate",className:"form-control",autoComplete:"off",value:a,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},l.FeeRate)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Set",className:"btn btn-primary",disabled:!r}))))))))))}}]),t}(r.Component),qm=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDelete=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({ShowProgressRing:!0}),e={Token:localStorage.Token,TraderRateID:a.props.TraderRate.TraderRateID},t.next=4,O.a.awrap(Bt(e).then((function(e){a.setState({ShowProgressRing:!1}),"Trader rate is deleted."===e.Message&&a.props.OnTraderRateDeleted(a.props.TraderRate)})));case 4:case"end":return t.stop()}}))},a.state={ShowProgressRing:!1},a.onDelete=a.onDelete.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.ShowProgressRing,t=this.props,a=t.Index,n=t.TraderRate;return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("strong",null,a+1),e?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("td",null,n.Username),s.a.createElement("td",null,"".concat(n.FeeRate,"%")),s.a.createElement("td",{className:"text-right"},s.a.createElement("button",{className:"btn btn-secondary","data-toggle":"modal","data-target":"#update-trader-rate-dialog-".concat(a)},"Edit Fee Rate"),s.a.createElement("button",{className:"btn btn-danger",onClick:this.onDelete},"Delete"),s.a.createElement(Bm,{Index:a,FeeRate:n.FeeRate,TraderRateID:n.TraderRateID,OnOK:this.props.OnTraderRateUpdated})))}}]),t}(r.Component),Qm=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,Username:a.state.Username,FeeRate:a.state.FeeRate},n.next=7,O.a.awrap(Jt(t).then((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({ShowPreloader:!1}),"Trader rate is added."===e.Message&&(a.cancelButton.click(),a.props.OnOK(e.TraderRate));case 2:case"end":return t.stop()}}))})));case 7:case"end":return n.stop()}}))},a.state={Username:"",FeeRate:"",ValidUsername:!1,ValidFeeRate:!1,ValidForm:!1,ShowPreloader:!1,Errors:{Username:"",FeeRate:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidUsername,s=this.state.ValidFeeRate;switch(e){case"Username":if(r=""!==t,n.Username=r?"":"Username is required.",""!=n.Username)break;r=t.match(/^[a-z0-9]+$/i),n.Username=r?"":"Username is invalid.";break;case"FeeRate":if(s=""!==t,n.FeeRate=s?"":"Fee rate is required",""!==n.FeeRate)break;s=t>=1&&t<=100,n.FeeRate=s?"":"Fee Rate can be between 1 and 100."}this.setState({Errors:n,ValidUsername:r,ValidFeeRate:s},(function(){a.setState({ValidForm:a.state.ValidUsername&&a.state.ValidFeeRate})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.Username,n=t.FeeRate,r=t.ShowPreloader,l=t.ValidForm,c=t.Errors;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"add-trader-rate-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},r?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n m-b-xxs"},"Add Trader Rate"),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Trader's Username"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"text",name:"Username",className:"form-control",autoComplete:"off",value:a,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},c.Username)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Fee Rate (%)"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"number",name:"FeeRate",className:"form-control",autoComplete:"off",value:n,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},c.FeeRate)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!l}))))))))))}}]),t}(r.Component),Wm=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"TraderRates"},a.setState({Searching:!0}),t.next=5,O.a.awrap(tt(e).then((function(e){"Trader rates found."===e.Message?a.setState({AllTraderRates:e.TraderRates,TraderRates:e.TraderRates,Searching:!1}):a.setState({AllTraderRates:[],TraderRates:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){e.preventDefault();var t=a.state.SearchString;if(""!==t){var n=a.state.AllTraderRates,r=[],s=0,l=!0,c=!1,o=void 0;try{for(var i,m=n[Symbol.iterator]();!(l=(i=m.next()).done);l=!0){var d=i.value;d.Username.includes(t)&&(r[s++]=d)}}catch(u){c=!0,o=u}finally{try{l||null==m.return||m.return()}finally{if(c)throw o}}a.setState({TraderRates:r})}else a.setState({TraderRates:a.state.AllTraderRates})},a.state={AllTraderRates:[],TraderRates:[],SearchString:"",Searching:!1,Refreshing:!1},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.TraderRates,n=t.SearchString,r=t.Searching,l=t.Refreshing;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-tag m-r-xxs"}),"Trader Fee Rates"),s.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#add-trader-rate-dialog"},"Add New"))))),s.a.createElement(Qm,{OnOK:function(t){var n=a;n.push(t),e.setState({TraderRates:n})}}),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Fee Rates",l?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search",style:{maxWidth:"500px",width:"100%"},value:n,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===a.length?s.a.createElement(nn,{Searching:r,SearchingFor:"fee rates"}):s.a.createElement("div",{class:"table-responsive back-color-gray"},s.a.createElement("table",{class:"table table-striped"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"NUMBER"),s.a.createElement("th",null,"TRADER OR BROKER"),s.a.createElement("th",null,"FEE RATE"),s.a.createElement("th",null))),s.a.createElement("tbody",null,a.map((function(t,n){return s.a.createElement(qm,{key:n,Index:n,TraderRate:t,OnTraderRateUpdated:function(n){var r=a,s=!0,l=!1,c=void 0;try{for(var o,i=r[Symbol.iterator]();!(s=(o=i.next()).done);s=!0){var m=o.value;if(m===t){m.FeeRate=n;break}}}catch(d){l=!0,c=d}finally{try{s||null==i.return||i.return()}finally{if(l)throw c}}e.setState({TraderRates:r})},OnTraderRateDeleted:function(t){var n=[],r=!0,s=!1,l=void 0;try{for(var c,o=a[Symbol.iterator]();!(r=(c=o.next()).done);r=!0){var i=c.value;i!==t&&n.push(i)}}catch(m){s=!0,l=m}finally{try{r||null==o.return||o.return()}finally{if(s)throw l}}e.setState({TraderRates:n})}})}))))))}}]),t}(r.Component),Gm=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Wm,null))}}]),t}(r.Component),_m=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"FEE RATES"}),s.a.createElement("ul",{className:"nav nav-tabs theme-alt",role:"tablist",style:{padding:"10px",backgroundColor:"#3A3A3C",width:"100%",margin:"0px"}},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#general-rates","aria-controls":"general-rates",role:"tab","data-toggle":"tab"},"General Rates")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#trader-rates","aria-controls":"trader-rates",role:"tab","data-toggle":"tab"},"Trader Rates"))),s.a.createElement("div",{class:"tab-content"},s.a.createElement("div",{role:"tabpanel",class:"tab-pane active",id:"general-rates"},s.a.createElement(Mm,null)),s.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"trader-rates"},s.a.createElement(Gm,null))))}}]),t}(r.Component),zm=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.Index,a=e.PayProof;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"trader-pay-proof-dialog-".concat(t),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal"},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement(br,{PayProof:a}))))))}}]),t}(r.Component),Hm=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.Index,a=e.PayDetails;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"trader-pay-details-dialog-".concat(t),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal"},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement(Nr,{PayDetails:a}))))))}}]),t}(r.Component),Km=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.Index,a=e.Bill;return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("strong",null,a.BillNumber)),s.a.createElement("td",null,a.Paid?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}})),s.a.createElement("td",null,a.Username),s.a.createElement("td",null,"$".concat(a.Amount.toFixed(2))),s.a.createElement("td",null,"$".concat(a.FeeRate,"%")),s.a.createElement("td",null,"".concat(new Date(a.Created).toDateString())),s.a.createElement("td",{className:"text-right"},a.TraderPayProof?s.a.createElement("button",{className:"btn btn-primary m-t-n","data-toggle":"modal","data-target":"#trader-pay-proof-dialog-".concat(t)},"Pay Proof"):null,a.TraderPayDetails?s.a.createElement("button",{className:"btn btn-primary m-t-n","data-toggle":"modal","data-target":"#trader-pay-details-dialog-".concat(t)},"Pay Details"):null,a.TraderPayProof?s.a.createElement(zm,{Index:t,PayProof:a.TraderPayProof}):null,a.TraderPayDetails?s.a.createElement(Hm,{Index:t,PayDetails:a.TraderPayDetails}):null))}}]),t}(r.Component),Ym=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"TradersBills"},a.setState({Searching:!0}),t.next=5,O.a.awrap(tt(e).then((function(e){"Bills found."===e.Message?a.setState({AllBills:e.Bills,Bills:e.Bills,Searching:!1}):a.setState({AllBills:[],Bills:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){e.preventDefault();var t=a.state.SearchString;if(""!==t){var n=a.state.AllBills,r=[],s=0,l=!0,c=!1,o=void 0;try{for(var i,m=n[Symbol.iterator]();!(l=(i=m.next()).done);l=!0){var d=i.value;d.BillNumber.includes(t)&&(r[s++]=d)}}catch(u){c=!0,o=u}finally{try{l||null==m.return||m.return()}finally{if(c)throw o}}a.setState({Bills:r})}else a.setState({Bills:a.state.AllBills})},a.state={AllBills:[],Bills:[],SearchString:"",Searching:!1,Refreshing:!1},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.Bills,a=e.SearchString,n=e.Searching,r=e.Refreshing;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-money-bill-wave m-r-xxs"}),"Traders' Bills"))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Bills",r?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search",style:{maxWidth:"500px",width:"100%"},value:a,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===t.length?s.a.createElement(nn,{Searching:n,SearchingFor:"bills"}):s.a.createElement("div",{class:"table-responsive back-color-gray",style:{height:"100vh"}},s.a.createElement("table",{class:"table table-striped"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"BILL NUMBER"),s.a.createElement("th",null,"PAID?"),s.a.createElement("th",null,"PAYEE"),s.a.createElement("th",null,"AMOUNT"),s.a.createElement("th",null,"FEE RATE"),s.a.createElement("th",null,"GENERATED ON"),s.a.createElement("th",null))),s.a.createElement("tbody",null,t.map((function(e,t){return s.a.createElement(Km,{key:t,Index:t,Bill:e})}))))))}}]),t}(r.Component),$m=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Ym,null))}}]),t}(r.Component),Xm=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onApprove=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({ShowPreloader:!0}),e={Token:localStorage.Token,DriverPayProofID:a.props.PayProof.DriverPayProofID},t.next=4,O.a.awrap(qt(e).then((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({ShowPreloader:!1}),"Driver pay proof is approved."===e.Message&&(a.cancelButton.click(),a.props.OnOK());case 2:case"end":return t.stop()}}))})));case 4:case"end":return t.stop()}}))},a.state={ShowPreloader:!1},a.onApprove=a.onApprove.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.ShowPreloader,a=this.props,n=a.Index,r=a.PayProof;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"driver-pay-proof-dialog-".concat(n),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},t?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement(br,{PayProof:r}),r.Approved?null:s.a.createElement("div",{className:"text-right p-xxs",style:{backgroundColor:"#DDDDDD"}},s.a.createElement("button",{className:"btn btn-primary m-t-n",onClick:this.onApprove},"Approve")))))))}}]),t}(r.Component),Zm=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.Index,a=e.PayDetails;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"driver-pay-details-dialog-".concat(t),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal"},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement(Nr,{PayDetails:a}))))))}}]),t}(r.Component),ed=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.Index,n=t.Bill;return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("strong",null,n.BillNumber)),s.a.createElement("td",null,n.Paid?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}})),s.a.createElement("td",null,n.Username),s.a.createElement("td",null,"$".concat(n.Amount.toFixed(2))),s.a.createElement("td",null,"".concat(new Date(n.Created).toDateString())),s.a.createElement("td",{className:"text-right"},n.DriverPayProof?s.a.createElement("button",{className:"btn btn-primary m-t-n","data-toggle":"modal","data-target":"#driver-pay-proof-dialog-".concat(a)},"Pay Proof"):null,n.DriverPayDetails?s.a.createElement("button",{className:"btn btn-primary m-t-n","data-toggle":"modal","data-target":"#driver-pay-details-dialog-".concat(a)},"Pay Details"):null,n.DriverPayProof?s.a.createElement(Xm,{Index:a,PayProof:n.DriverPayProof,OnOK:function(){e.props.OnPayProofApproved(n)}}):null,n.DriverPayDetails?s.a.createElement(Zm,{Index:a,PayDetails:n.DriverPayDetails}):null))}}]),t}(r.Component),td=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"DriversBills"},a.setState({Searching:!0}),t.next=5,O.a.awrap(tt(e).then((function(e){"Bills found."===e.Message?a.setState({AllBills:e.Bills,Bills:e.Bills,Searching:!1}):a.setState({AllBills:[],Bills:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){e.preventDefault();var t=a.state.SearchString;if(""!==t){var n=a.state.AllBills,r=[],s=0,l=!0,c=!1,o=void 0;try{for(var i,m=n[Symbol.iterator]();!(l=(i=m.next()).done);l=!0){var d=i.value;d.BillNumber.includes(t)&&(r[s++]=d)}}catch(u){c=!0,o=u}finally{try{l||null==m.return||m.return()}finally{if(c)throw o}}a.setState({Bills:r})}else a.setState({Bills:a.state.AllBills})},a.state={AllBills:[],Bills:[],SearchString:"",Searching:!1,Refreshing:!1},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.Bills,n=t.SearchString,r=t.Searching,l=t.Refreshing;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-money-bill-wave m-r-xxs"}),"Drivers' Bills"))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Bills",l?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search",style:{maxWidth:"500px",width:"100%"},value:n,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===a.length?s.a.createElement(nn,{Searching:r,SearchingFor:"bills"}):s.a.createElement("div",{class:"table-responsive back-color-gray",style:{height:"100vh"}},s.a.createElement("table",{class:"table table-striped"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"BILL NUMBER"),s.a.createElement("th",null,"PAID?"),s.a.createElement("th",null,"PAYEE"),s.a.createElement("th",null,"AMOUNT"),s.a.createElement("th",null,"GENERATED ON"),s.a.createElement("th",null))),s.a.createElement("tbody",null,a.map((function(t,n){return s.a.createElement(ed,{key:n,Index:n,Bill:t,OnPayProofApproved:function(t){var n=a,r=!0,s=!1,l=void 0;try{for(var c,o=n[Symbol.iterator]();!(r=(c=o.next()).done);r=!0){var i=c.value;if(i===t){i.Paid=!0,i.DriverPayProof.Approved=!0;break}}}catch(m){s=!0,l=m}finally{try{r||null==o.return||o.return()}finally{if(s)throw l}}e.setState({Bills:n})}})}))))))}}]),t}(r.Component),ad=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(td,null))}}]),t}(r.Component),nd=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement("ul",{className:"nav nav-tabs tabs-light",role:"tablist"},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#traders-bills","aria-controls":"traders-bills",role:"tab","data-toggle":"tab"},"Traders' Bills")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#drivers-bills","aria-controls":"drivers-bills",role:"tab","data-toggle":"tab"},"Drivers' Bills"))),s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"traders-bills"},s.a.createElement($m,null)),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"drivers-bills"},s.a.createElement(ad,null))))}}]),t}(r.Component),rd=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.Index,e.Bill);return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("strong",null,"".concat(new Date(t.Created).toLocaleDateString()))),s.a.createElement("td",null,t.BillNumber),s.a.createElement("td",null,t.Paid?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}})),s.a.createElement("td",null,"".concat(t.FeeRate,"%")),s.a.createElement("td",null,t.PaymentMethod),s.a.createElement("td",null,"$".concat(t.RecipientAmount.toFixed(2))),s.a.createElement("td",null,"$".concat(t.ChargedAmount.toFixed(2))),s.a.createElement("td",null,"$".concat(t.Amount.toFixed(2))))}}]),t}(r.Component),sd=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.AccountStatement,t=e.Trader;return s.a.createElement("section",null,s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),0===e.Bills.length?s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default",style:{height:"100vh"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"text-center p-xxs"},s.a.createElement("div",{className:"type-h4"},s.a.createElement("span",{className:"fas fa-exclamation-triangle m-r-xxs",style:{color:"#FFBF15"}}),"No billing details found."))))):s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default back-color-light"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"type-t3",style:{fontWeight:"600"}},s.a.createElement("span",{className:"fas fa-route m-r-xxxs"}),"NAQEL"),s.a.createElement("div",{className:"p-t-xxs"},s.a.createElement("div",{className:"type-t8"},"".concat(t.FirstName," ").concat(t.LastName)),s.a.createElement("div",{className:"type-t9"},"@".concat(t.Username)),s.a.createElement("div",{className:"type-t8"},t.Type),s.a.createElement("div",{className:"type-t8"},t.Address)))),s.a.createElement("div",{class:"table-responsive back-color-gray",style:{borderTop:"4px solid #CCCCCC",height:"100vh"}},s.a.createElement("table",{class:"table table-striped"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"DATE"),s.a.createElement("th",null,"BILL NUMBER"),s.a.createElement("th",null,"PAID?"),s.a.createElement("th",null,"FEE RATE"),s.a.createElement("th",null,"PAY METHOD"),s.a.createElement("th",null,"RECIPIENT CHARGES"),s.a.createElement("th",null,"NAQEL CHARGES"),s.a.createElement("th",null,"AMOUNT"))),s.a.createElement("tbody",null,e.Bills.map((function(e,t){return s.a.createElement(rd,{key:t,Index:t,Bill:e})})),s.a.createElement("tr",{style:{backgroundColor:"#DADADA"}},s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null,"TOTAL"),s.a.createElement("td",null,"$".concat(e.TotalRecipientAmount.toFixed(2))),s.a.createElement("td",null,"$".concat(e.TotalChargedAmount.toFixed(2))),s.a.createElement("td",null,"$".concat(e.TotalAmount.toFixed(2)))))))))}}]),t}(r.Component),ld=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onSearch=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!localStorage.Token){n.next=5;break}return t={Token:localStorage.Token,Get:"TraderAccountStatement",Params:{Username:e}},a.setState({Searching:!0}),n.next=5,O.a.awrap(tt(t).then((function(e){"Account statement found."===e.Message?a.setState({AccountStatement:e.AccountStatement,Searching:!1}):a.setState({AccountStatement:null,Searching:!1})})));case 5:case"end":return n.stop()}}))},a.state={AccountStatement:null,Searching:!1,Refreshing:!1},a.onSearch=a.onSearch.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.OnSearch(this.onSearch);case 1:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.AccountStatement,n=t.Searching;return n||!a?s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default",style:{height:"100vh"}},s.a.createElement("div",{className:"container"},n?s.a.createElement("div",{className:"text-center p-xxs"},s.a.createElement("div",{className:"type-h4 color-default"},"Searching"),s.a.createElement(en,null)):s.a.createElement("div",{className:"text-center p-xxs"},s.a.createElement("div",{className:"type-h4"},s.a.createElement("span",{className:"fas fa-exclamation-triangle m-r-xxs",style:{color:"#FFBF15"}}),"No account statement to display. Search the trader by username to view his account statement."))))):s.a.createElement("section",null,s.a.createElement("div",{className:"text-right p-xxs",style:{backgroundColor:"#DDDDDD"}},s.a.createElement(Vr.a,{trigger:function(){return s.a.createElement("button",{className:"btn btn-primary m-n"},"Print")},content:function(){return e.TraderAccountStatement}})),s.a.createElement(sd,{AccountStatement:a,ref:function(t){return e.TraderAccountStatement=t}}))}}]),t}(r.Component),cd=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){e.preventDefault(),a.SearchAccountStatement(a.state.SearchString)},a.state={SearchString:""},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.SearchString;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-university m-r-xxs"}),"Trader Account Statements"))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Account Statements"),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search Username",style:{maxWidth:"500px",width:"100%"},value:t,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),s.a.createElement(ld,{OnSearch:function(t){e.SearchAccountStatement=t}}))}}]),t}(r.Component),od=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(cd,null))}}]),t}(r.Component),id=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.Index,e.Bill);return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("strong",null,"".concat(new Date(t.Created).toLocaleDateString()))),s.a.createElement("td",null,t.JobNumber),s.a.createElement("td",null,"$".concat(t.AmountEarned.toFixed(2))),s.a.createElement("td",null,t.BillNumber),s.a.createElement("td",null,t.Paid?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}})),s.a.createElement("td",null,t.PaymentMethod),s.a.createElement("td",null,"$".concat(t.AmountCharged.toFixed(2))))}}]),t}(r.Component),md=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.AccountStatement,t=e.Driver;return s.a.createElement("section",null,s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),0===e.Bills.length?s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default",style:{height:"100vh"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"text-center p-xxs"},s.a.createElement("div",{className:"type-h4"},s.a.createElement("span",{className:"fas fa-exclamation-triangle m-r-xxs",style:{color:"#FFBF15"}}),"No billing details found."))))):s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default back-color-light"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"type-t3",style:{fontWeight:"600"}},s.a.createElement("span",{className:"fas fa-route m-r-xxxs"}),"NAQEL"),s.a.createElement("div",{className:"p-t-xxs"},s.a.createElement("div",{className:"type-t8"},"".concat(t.FirstName," ").concat(t.LastName)),s.a.createElement("div",{className:"type-t9"},"@".concat(t.Username)),s.a.createElement("div",{className:"type-t8"},"Driver"),s.a.createElement("div",{className:"type-t8"},t.Address)))),s.a.createElement("div",{class:"table-responsive back-color-gray",style:{borderTop:"4px solid #CCCCCC",height:"100vh"}},s.a.createElement("table",{class:"table table-striped"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"DATE"),s.a.createElement("th",null,"JOB NUMBER"),s.a.createElement("th",null,"EARNED"),s.a.createElement("th",null,"BILL NUMBER"),s.a.createElement("th",null,"PAID?"),s.a.createElement("th",null,"PAY METHOD"),s.a.createElement("th",null,"AMOUNT CHARGED"))),s.a.createElement("tbody",null,e.Bills.map((function(e,t){return s.a.createElement(id,{key:t,Index:t,Bill:e})})),s.a.createElement("tr",{style:{backgroundColor:"#DADADA"}},s.a.createElement("td",null),s.a.createElement("td",null,"NET EARNING"),s.a.createElement("td",null,"$".concat(e.NetEarning.toFixed(2))),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null,"TOTAL"),s.a.createElement("td",null,"$".concat(e.NetAmount.toFixed(2)))))))))}}]),t}(r.Component),dd=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onSearch=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!localStorage.Token){n.next=5;break}return t={Token:localStorage.Token,Get:"DriverAccountStatement",Params:{Username:e}},a.setState({Searching:!0}),n.next=5,O.a.awrap(tt(t).then((function(e){"Account statement found."===e.Message?a.setState({AccountStatement:e.AccountStatement,Searching:!1}):a.setState({AccountStatement:null,Searching:!1})})));case 5:case"end":return n.stop()}}))},a.state={AccountStatement:null,Searching:!1,Refreshing:!1},a.onSearch=a.onSearch.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.OnSearch(this.onSearch);case 1:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.AccountStatement,n=t.Searching;return n||!a?s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default",style:{height:"100vh"}},s.a.createElement("div",{className:"container"},n?s.a.createElement("div",{className:"text-center p-xxs"},s.a.createElement("div",{className:"type-h4 color-default"},"Searching"),s.a.createElement(en,null)):s.a.createElement("div",{className:"text-center p-xxs"},s.a.createElement("div",{className:"type-h4"},s.a.createElement("span",{className:"fas fa-exclamation-triangle m-r-xxs",style:{color:"#FFBF15"}}),"No account statement to display. Search the driver by username to view his account statement."))))):s.a.createElement("section",null,s.a.createElement("div",{className:"text-right p-xxs",style:{backgroundColor:"#DDDDDD"}},s.a.createElement(Vr.a,{trigger:function(){return s.a.createElement("button",{className:"btn btn-primary m-n"},"Print")},content:function(){return e.DriverAccountStatement}})),s.a.createElement(md,{AccountStatement:a,ref:function(t){return e.DriverAccountStatement=t}}))}}]),t}(r.Component),ud=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){e.preventDefault(),a.SearchAccountStatement(a.state.SearchString)},a.state={SearchString:""},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.SearchString;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-university m-r-xxs"}),"Driver Account Statements"))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Account Statements"),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search Username",style:{maxWidth:"500px",width:"100%"},value:t,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),s.a.createElement(dd,{OnSearch:function(t){e.SearchAccountStatement=t}}))}}]),t}(r.Component),pd=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(ud,null))}}]),t}(r.Component),Ed=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.Transaction;return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("strong",null,"".concat(new Date(e.Date).toLocaleDateString()))),s.a.createElement("td",null,e.TruckNumber),s.a.createElement("td",null,e.JobNumber),s.a.createElement("td",null,e.TraderBillNumber),s.a.createElement("td",null,e.TraderBillPaid?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}})),s.a.createElement("td",null,e.TraderPaymentMethod),s.a.createElement("td",null,e.DriverBillNumber),s.a.createElement("td",null,e.DriverBillPaid?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}})),s.a.createElement("td",null,e.DriverPaymentMethod),s.a.createElement("td",null,"".concat(e.FeeRate,"%")),s.a.createElement("td",null,"$".concat(e.Earned.toFixed(2))),s.a.createElement("td",null,"$".concat(e.Charged.toFixed(2))),s.a.createElement("td",null,"$".concat(e.Amount.toFixed(2))))}}]),t}(r.Component),hd=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.AccountStatement,t=e.TransportCompany,a=0,n=0,r=0,l=!0,c=!1,o=void 0;try{for(var i,m=e.Transactions[Symbol.iterator]();!(l=(i=m.next()).done);l=!0){var d=i.value;a+=d.Amount,n+=d.Earned,r+=d.Charged}}catch(u){c=!0,o=u}finally{try{l||null==m.return||m.return()}finally{if(c)throw o}}return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default back-color-light"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"type-t3",style:{fontWeight:"600"}},s.a.createElement("span",{className:"fas fa-route m-r-xxxs"}),"NAQEL"),s.a.createElement("div",{className:"p-t-xxs"},s.a.createElement("div",{className:"type-t8 m-b-xxs"},"TRANSPORT COMPANY DETAILS"),s.a.createElement("div",{className:"type-t8"},"Company Name: ".concat(t.Name)),s.a.createElement("div",{className:"type-t8"},"Username: ".concat(t.Username)),s.a.createElement("div",{className:"type-t8"},"Internal Number: ".concat(t.InternalNumber)),s.a.createElement("div",{className:"type-t8"},"Commercial Register Number: ".concat(t.CommercialRegisterNumber))))),0===e.Transactions.length?s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default",style:{height:"100vh"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"text-center p-xxs"},s.a.createElement("div",{className:"type-h4"},s.a.createElement("span",{className:"fas fa-exclamation-triangle m-r-xxs",style:{color:"#FFBF15"}}),"No transactions found."))))):s.a.createElement("div",{class:"table-responsive back-color-gray",style:{borderTop:"4px solid #CCCCCC",height:"100vh"}},s.a.createElement("table",{class:"table table-striped"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"DATE"),s.a.createElement("th",null,"TRUCK NUMBER"),s.a.createElement("th",null,"JOB NUMBER"),s.a.createElement("th",null,"TRADER BILL NUMBER"),s.a.createElement("th",null,"TRADER BILL PAID?"),s.a.createElement("th",null,"TRADER PAY METHOD"),s.a.createElement("th",null,"DRIVER BILL NUMBER"),s.a.createElement("th",null,"DRIVER BILL PAID?"),s.a.createElement("th",null,"DRIVER PAY METHOD"),s.a.createElement("th",null,"FEE RATE"),s.a.createElement("th",null,"EARNED"),s.a.createElement("th",null,"CHARGED"),s.a.createElement("th",null,"TOTAL AMOUNT"))),s.a.createElement("tbody",null,e.Transactions.map((function(e,t){return s.a.createElement(Ed,{key:t,Index:t,Transaction:e})})),s.a.createElement("tr",{style:{backgroundColor:"#DADADA"}},s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null,"TOTAL:"),s.a.createElement("td",null,"$".concat(n.toFixed(2))),s.a.createElement("td",null,"$".concat(r.toFixed(2))),s.a.createElement("td",null,"$".concat(a.toFixed(2))))))))}}]),t}(r.Component),bd=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onSearch=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!localStorage.Token){n.next=5;break}return t={Token:localStorage.Token,Get:"ResponsibleAccountStatement",Params:{Username:e}},a.setState({Searching:!0}),n.next=5,O.a.awrap(tt(t).then((function(e){"Account statement found."===e.Message?a.setState({AccountStatement:e.AccountStatement,Searching:!1}):a.setState({AccountStatement:null,Searching:!1})})));case 5:case"end":return n.stop()}}))},a.state={AccountStatement:null,Searching:!1,Refreshing:!1},a.onSearch=a.onSearch.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.OnSearch(this.onSearch);case 1:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.AccountStatement,n=t.Searching;return n||!a?s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default",style:{height:"100vh"}},s.a.createElement("div",{className:"container"},n?s.a.createElement("div",{className:"text-center p-xxs"},s.a.createElement("div",{className:"type-h4 color-default"},"Searching"),s.a.createElement(en,null)):s.a.createElement("div",{className:"text-center p-xxs"},s.a.createElement("div",{className:"type-h4"},s.a.createElement("span",{className:"fas fa-exclamation-triangle m-r-xxs",style:{color:"#FFBF15"}}),"No account statement to display. Search the transport company by username to view its account statement."))))):s.a.createElement("section",null,s.a.createElement("div",{className:"text-right p-xxs",style:{backgroundColor:"#DDDDDD"}},s.a.createElement(Vr.a,{trigger:function(){return s.a.createElement("button",{className:"btn btn-primary m-t-n"},"Print")},content:function(){return e.ResponsibleAccountStatement}})),s.a.createElement(hd,{AccountStatement:a,ref:function(t){return e.ResponsibleAccountStatement=t}}))}}]),t}(r.Component),vd=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){e.preventDefault(),a.SearchAccountStatement(a.state.SearchString)},a.state={SearchString:""},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.SearchString;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-university m-r-xxs"}),"TC Responsible Account Statements"))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Account Statement"),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search Username",style:{maxWidth:"500px",width:"100%"},value:t,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),s.a.createElement(bd,{OnSearch:function(t){e.SearchAccountStatement=t}}))}}]),t}(r.Component),fd=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(vd,null))}}]),t}(r.Component),gd=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement("ul",{className:"nav nav-tabs tabs-light",role:"tablist"},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#trader-account-statements","aria-controls":"trader-account-statements",role:"tab","data-toggle":"tab"},"Trader Account Statements")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#driver-account-statements","aria-controls":"driver-account-statements",role:"tab","data-toggle":"tab"},"Driver Account Statements")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#responsible-account-statements","aria-controls":"responsible-account-statements",role:"tab","data-toggle":"tab"},"TC Responsible Account Statements"))),s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"trader-account-statements"},s.a.createElement(od,null)),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"driver-account-statements"},s.a.createElement(pd,null)),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"responsible-account-statements"},s.a.createElement(fd,null))))}}]),t}(r.Component),Nd=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.Transaction;return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("strong",null,"".concat(new Date(e.Created).toLocaleDateString()))),s.a.createElement("td",null,e.BillNumber),s.a.createElement("td",null,e.Payee),s.a.createElement("td",null,e.PayeeType),s.a.createElement("td",null,e.PaymentMethod),s.a.createElement("td",null,"$".concat(e.Amount.toFixed(2))))}}]),t}(r.Component),yd=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.AccountStatement,t=e.NaqelSettings;return s.a.createElement("section",null,s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),0===e.Transactions.length?s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default",style:{height:"100vh"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"text-center p-xxs"},s.a.createElement("div",{className:"type-h4"},s.a.createElement("span",{className:"fas fa-exclamation-triangle m-r-xxs",style:{color:"#FFBF15"}}),"No transactions found."))))):s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default back-color-light"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"type-t3",style:{fontWeight:"600"}},s.a.createElement("span",{className:"fas fa-route m-r-xxxs"}),"NAQEL"),s.a.createElement("div",{className:"p-t-xxs"},s.a.createElement("div",{className:"type-t8"},t.Street),s.a.createElement("div",{className:"type-t8"},"".concat(t.City,", ").concat(t.Country,".")),s.a.createElement("div",{className:"type-t8"},"ZIP ".concat(t.ZIPCode))),s.a.createElement("div",{className:"p-t-xxs"},s.a.createElement("div",{className:"type-t8"},t.PhoneNumber),s.a.createElement("div",{className:"type-t8"},t.Website),s.a.createElement("div",{className:"type-t8"},t.BusinessName)),s.a.createElement("div",{className:"p-t-xxs"},s.a.createElement("div",{className:"type-t8"},"BANK NAME"),s.a.createElement("div",{className:"type-t8"},t.BankName),s.a.createElement("div",{className:"type-t8 p-t-xxxs"},"ACCOUNT #"),s.a.createElement("div",{className:"type-t8"},t.AccountNumber)))),s.a.createElement("div",{class:"table-responsive back-color-gray",style:{borderTop:"4px solid #CCCCCC",height:"100vh"}},s.a.createElement("table",{class:"table table-striped"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"DATE"),s.a.createElement("th",null,"BILL NUMBER"),s.a.createElement("th",null,"PAYEE"),s.a.createElement("th",null,"PAYEE TYPE"),s.a.createElement("th",null,"PAY METHOD"),s.a.createElement("th",null,"AMOUNT"))),s.a.createElement("tbody",null,e.Transactions.map((function(e,t){return s.a.createElement(Nd,{key:t,Index:t,Transaction:e})})),s.a.createElement("tr",{style:{backgroundColor:"#DADADA"}},s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null,"TOTAL"),s.a.createElement("td",null,"$".concat(e.NetAmount.toFixed(2)))))))))}}]),t}(r.Component),xd=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"AccountStatement"},a.setState({Searching:!0}),t.next=5,O.a.awrap(tt(e).then((function(e){"Account statement found."===e.Message?a.setState({AccountStatement:e.AccountStatement,Searching:!1}):a.setState({AccountStatement:null,Searching:!1})})));case 5:case"end":return t.stop()}}))},a.state={AccountStatement:null,Searching:!1,Refreshing:!1},a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.AccountStatement,n=t.Searching;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-university m-r-xxs"}),"Naqel Account Statement"))))),n||!a?s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default",style:{height:"100vh"}},s.a.createElement("div",{className:"container"},n?s.a.createElement("div",{className:"text-center p-xxs"},s.a.createElement("div",{className:"type-h4 color-default"},"Searching"),s.a.createElement(en,null)):s.a.createElement("div",{className:"text-center p-xxs"},s.a.createElement("div",{className:"type-h4"},s.a.createElement("span",{className:"fas fa-exclamation-triangle m-r-xxs",style:{color:"#FFBF15"}}),"No account statement to display."))))):s.a.createElement("section",null,s.a.createElement("div",{className:"text-right p-xxs",style:{backgroundColor:"#DDDDDD"}},s.a.createElement(Vr.a,{trigger:function(){return s.a.createElement("button",{className:"btn btn-primary m-n"},"Print")},content:function(){return e.AccountStatement}})),s.a.createElement(yd,{AccountStatement:a,ref:function(t){return e.AccountStatement=t}})))}}]),t}(r.Component),Sd=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"FINANCIAL ACCOUNTS"}),s.a.createElement("ul",{className:"nav nav-tabs theme-alt",role:"tablist",style:{padding:"10px",backgroundColor:"#3A3A3C",width:"100%",margin:"0px"}},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#account-statement","aria-controls":"account-statement",role:"tab","data-toggle":"tab"},"Account Statement")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#bills","aria-controls":"bills",role:"tab","data-toggle":"tab"},"Bills")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#user-account-statements","aria-controls":"user-account-statements",role:"tab","data-toggle":"tab"},"User Account Statments"))),s.a.createElement("div",{class:"tab-content"},s.a.createElement("div",{role:"tabpanel",class:"tab-pane active",id:"account-statement"},s.a.createElement(xd,null)),s.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"bills"},s.a.createElement(nd,null)),s.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"user-account-statements"},s.a.createElement(gd,null))))}}]),t}(r.Component),Cd=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onCloseNavigation=function(){a.setState({Left:-400})},a.state={Left:-400},a.onCloseNavigation=a.onCloseNavigation.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return localStorage.Token?s.a.createElement("section",null,s.a.createElement("div",{className:"sidenav",style:{left:"".concat(this.state.Left,"px")}},s.a.createElement("a",{className:"closebtn",onClick:this.onCloseNavigation},"\xd7"),s.a.createElement("div",{class:"entity-list",role:"tablist"},s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#profile","aria-controls":"profile",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Profile")),s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#drivers","aria-controls":"drivers",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Drivers")),s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#traders","aria-controls":"traders",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Traders")),s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#jobs","aria-controls":"jobs",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Jobs")),s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#questions","aria-controls":"questions",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Questions")),s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#fee-rates","aria-controls":"fee-rates",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Fee Rates")),s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#financial-accounts","aria-controls":"settings",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Financial Accounts")))),s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"profile"},s.a.createElement(Ko,null)),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"drivers"},s.a.createElement(si,null)),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"traders"},s.a.createElement(vi,null)),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"jobs"},s.a.createElement(zi,null)),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"questions"},s.a.createElement(Tm,null)),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"fee-rates"},s.a.createElement(_m,null)),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"financial-accounts"},s.a.createElement(Sd,null))),s.a.createElement("div",{className:"side-nav-btn",onClick:function(){e.setState({Left:0})}},s.a.createElement("div",{className:"fas fa-bars",style:{fontSize:"x-large"}}))):s.a.createElement(E.a,{to:"/login"})}}]),t}(r.Component),Od=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,Type:a.state.Type,PhotoURL:a.state.PhotoURL},n.next=7,O.a.awrap(zt(t).then((function(e){a.setState({ShowPreloader:!1}),console.log(e),"Commercial register certificate is added."===e.Message&&(a.cancelButton.click(),a.props.OnOK(e.CommercialRegisterCertificate))})));case 7:case"end":return n.stop()}}))},a.state={PhotoURL:"./images/default_image.png",Type:"",ValidPhotoURL:!1,ValidType:!1,ValidForm:!1,ShowPreloader:!1,Errors:{PhotoURL:"",Type:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state,r=n.Errors,s=n.ValidType,l=n.ValidPhotoURL;switch(e){case"Type":s=""!==t,r.Type=s?"":"Certificate type is required.";break;case"PhotoURL":l=null!==t,r.PhotoURL=l?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:r,ValidType:s,ValidPhotoURL:l},(function(){a.setState({ValidForm:s&&l})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.Type,n=t.PhotoURL,r=t.ValidForm,l=t.ShowPreloader,c=t.Errors;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"add-commercial-register-certificate-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},l?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement(wa,{Source:n,OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",n)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)}})),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"type-h3 color-default p-t-xxs"},"Add Commercial Register Certificate"),s.a.createElement("div",{className:"type-sh4 text-danger"},c.PhotoURL),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Certificate Type"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"text",name:"Type",className:"form-control",autoComplete:"off",value:a,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},c.Type)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!r}))))))))))}}]),t}(r.Component),wd=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,Type:a.state.Type,PhotoURL:a.state.PhotoURL},n.next=7,O.a.awrap(Ht(t).then((function(e){a.setState({ShowPreloader:!1}),console.log(e),"Commercial register certificate is updated."===e.Message&&(a.cancelButton.click(),a.props.OnOK(Ht))})));case 7:case"end":return n.stop()}}))};var n=a.props.CommercialRegisterCertificate;return a.state={PhotoURL:n.PhotoURL,Type:n.Type,ValidPhotoURL:!0,ValidType:!0,ValidForm:!1,ShowPreloader:!1,Errors:{PhotoURL:"",Type:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state,r=n.Errors,s=n.ValidType,l=n.ValidPhotoURL;switch(e){case"Type":s=""!==t,r.Type=s?"":"Certificate type is required.";break;case"PhotoURL":l=null!==t,r.PhotoURL=l?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:r,ValidType:s,ValidPhotoURL:l},(function(){a.setState({ValidForm:s&&l})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.Type,n=t.PhotoURL,r=t.ValidForm,l=t.ShowPreloader,c=t.Errors;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"edit-commercial-register-certificate-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},l?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement(wa,{Source:n,OnImageUploaded:function(t){"Image uploaded successfully."===t.message?(e.setState({PhotoURL:t.imageUrl}),e.validateField("PhotoURL",n)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)}})),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"type-h3 color-default p-t-xxs"},"Edit Commercial Register Certificate"),s.a.createElement("div",{className:"type-sh4 text-danger"},c.PhotoURL),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Certificate Type"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"text",name:"Type",className:"form-control",autoComplete:"off",value:a,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},c.Type)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary",disabled:!r}))))))))))}}]),t}(r.Component),kd=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDelete=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({ShowPreloader:!0}),e={Token:localStorage.Token},t.next=4,O.a.awrap(Kt(e).then((function(e){a.setState({ShowPreloader:!1}),"Commercial register certificate is deleted."===e.Message&&a.props.OnCertificateDeleted()})));case 4:case"end":return t.stop()}}))},a.state={ShowPreloader:null},a.onDelete=a.onDelete.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.ShowPreloader,t=this.props.CommercialRegisterCertificate;return s.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#commercial-register-certificate-list-item"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon",style:{borderRadius:"50%"}},s.a.createElement("span",{className:"glyph glyph-add"}),s.a.createElement("span",{className:"glyph glyph-remove"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},s.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"1.")),s.a.createElement("div",{className:"content-text-secondary"},s.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"COMMERCIAL REGISTER CERTIFICATE")))))),s.a.createElement("div",{className:"collapse",id:"commercial-register-certificate-list-item"},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-6"},s.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:t.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),s.a.createElement("div",{className:"col-md-18"},s.a.createElement("div",{className:"type-h3 color-default p-t-xxs"},"Commercial Register Certificate"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-hashtag"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Certificate Number"),s.a.createElement("div",{className:"content-text-secondary"},t.Number)))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-cog"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Certificate Type"),s.a.createElement("div",{className:"content-text-secondary"},t.Type)))))))))),s.a.createElement("div",{className:"text-right back-color-gray p-xxs"},s.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#edit-commercial-register-certificate-dialog"},"Edit"),s.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.onDelete},"Delete"))),e?s.a.createElement(ca,null):null,s.a.createElement(wd,{CommercialRegisterCertificate:t,OnOK:this.props.OnCertificateUpdated}))}}]),t}(r.Component),Pd=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={CommercialRegisterCertificate:null,Searching:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=5;break}return e={Token:localStorage.Token,Get:"CommercialRegisterCertificate"},this.setState({Searching:!0}),a.next=5,O.a.awrap(_t(e).then((function(e){"Commercial register certificate found."===e.Message?t.setState({CommercialRegisterCertificate:e.CommercialRegisterCertificate,Searching:!1}):t.setState({CommercialRegisterCertificate:null,Searching:!1})})));case 5:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.CommercialRegisterCertificate,n=t.Searching;return s.a.createElement("section",null,s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 back-color-gray m-n p-xxs"},"Documents"),n?null:s.a.createElement("section",null,s.a.createElement("div",{className:"text-right back-color-gray p-xxs"},a?null:s.a.createElement("section",null,s.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#add-commercial-register-certificate-dialog"},"Add CR Certificate"),s.a.createElement(Od,{OnOK:function(t){e.setState({CommercialRegisterCertificate:t})}}))),s.a.createElement("ol",{className:"list-items m-n"},a?s.a.createElement(kd,{CommercialRegisterCertificate:a,OnCertificateDeleted:function(){e.setState({CommercialRegisterCertificate:null})},OnCertificateUpdated:function(t){var a=e.state.CommercialRegisterCertificate;a.Type=t.Type,a.PhotoURL=t.PhotoURL,e.setState({CommercialRegisterCertificate:a})}}):null)))}}]),t}(r.Component),jd=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={Name:"",Email:"",Username:"",InternalNumber:"",CommercialRegisterNumber:"",Active:!1},e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=4;break}return e={Token:localStorage.Token,Get:"TransportCompanyResponsible"},a.next=4,O.a.awrap(_t(e).then((function(e){if("Transport company responsible found."===e.Message){var a=e.TransportCompanyResponsible;t.setState({Name:a.Name,Email:a.Email,Username:a.Username,InternalNumber:a.InternalNumber,CommercialRegisterNumber:a.CommercialRegisterNumber,Active:a.Active})}else t.setState({Name:"",Email:"",Username:"",InternalNumber:"",CommercialRegisterNumber:"",Active:!1})})));case 4:case"end":return a.stop()}}))}},{key:"render",value:function(){var e=this.state,t=e.Name,a=e.Email,n=e.Username,r=e.InternalNumber,l=e.CommercialRegisterNumber,c=e.Active;return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"PROFILE"}),s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"type-h3 color-default p-t-xxs"},t),s.a.createElement("div",{className:"type-sh3"},s.a.createElement("span",{className:"fas fa-copyright m-r-xxxs",style:{color:"#606060"}}),"Transport Company"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-at"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Username"),s.a.createElement("div",{className:"content-text-secondary"},n)))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-envelope"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Email"),s.a.createElement("div",{className:"content-text-secondary"},a))))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-hashtag"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Internal Number"),s.a.createElement("div",{className:"content-text-secondary"},r)))),s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-hashtag"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Commercial Register Number"),s.a.createElement("div",{className:"content-text-secondary"},l)))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-globe-asia"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Active"),s.a.createElement("div",{className:"content-text-secondary"},c?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}))))))))),s.a.createElement(Pd,null))}}]),t}(r.Component),Td=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(w.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),e.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,Name:e.state.Name,PhoneNumber:e.state.PhoneNumber},e.setState({ShowPreloader:!0}),n.next=7,O.a.awrap(Yt(a).then((function(t){e.setState({ShowPreloader:!1}),"Transport company responsible is updated."===t.Message&&e.props.OnSettingsSaved()})));case 7:case"end":return n.stop()}}))},e.state={Name:"",PhoneNumber:"",ValidName:!0,ValidPhoneNumber:!0,ValidForm:!1,SettingsSaved:!1,ShowPreloader:!1,Errors:{FirstName:"",LastName:""}},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=4;break}return e={Token:localStorage.Token,Get:"TransportCompanyResponsible"},a.next=4,O.a.awrap(_t(e).then((function(e){if("Transport company responsible found."===e.Message){var a=e.TransportCompanyResponsible;t.setState({Name:a.Name,PhoneNumber:a.PhoneNumber})}else t.setState({Name:"",PhoneNumber:""})})));case 4:case"end":return a.stop()}}))}},{key:"validateField",value:function(e,t){var a=this,n=this.state,r=n.Errors,s=n.ValidName,l=n.ValidPhoneNumber;switch(e){case"Name":if(s=""!==t,r.Name=s?"":"Company name is required.",""!==r.Name)break;s=t.match(/^[a-zA-Z ]+$/),r.Name=s?"":"Company name is invalid.";break;case"PhoneNumber":if(l=""!==t,r.PhoneNumber=l?"":"Phone number is required.",""!==r.PhoneNumber)break;l=t.match(/^\+[0-9]?()[0-9](\s|\S)(\d[0-9]{9})$/),r.PhoneNumber=l?"":"Phone number is invalid."}this.setState({Errors:r,ValidName:s,ValidPhoneNumber:l},(function(){a.setState({ValidForm:s&&l})}))}},{key:"render",value:function(){var e=this.state,t=e.Name,a=(e.PhoneNumber,e.ShowPreloader),n=e.ValidForm,r=e.Errors;return s.a.createElement("section",null,s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"General Settings"),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"entity-list entity-list-expandable"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-comment"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"Name",autoComplete:"off",value:t,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Company Name"),s.a.createElement("div",{className:"text-danger"},r.Name))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-phone"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",className:"form-control",name:"PhoneNumber",autocomplete:"off",placeholder:"+XXXXXXXXXXXX",value:this.state.PhoneNumber,onChange:this.onChange,style:{width:"193px"}}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Phone Number"),s.a.createElement("div",{className:"text-danger"},r.PhoneNumber))),s.a.createElement("div",{className:"entity-list-item active"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-save"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Save Changes?"),s.a.createElement("div",{className:"content-text-secondary"},"This cannot be undone.")),s.a.createElement("div",{className:"item-content-expanded"},s.a.createElement("input",{type:"submit",value:"Save",className:"btn btn-primary",disabled:!n}))))),a?s.a.createElement(ca,null):null)}}]),t}(r.Component),Rd=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,Username:a.props.Username,Email:a.props.Email},n.next=7,O.a.awrap(ea(t).then((function(e){a.setState({ShowPreloader:!1}),"Transport company responsible is updated."===e.Message&&a.props.OnOK(a.cancelButton)})));case 7:case"end":return n.stop()}}))},a.state={ConfirmCode:"",ValidConfirmCode:!1,ValidForm:!1,ShowPreloader:!1,Errors:{ConfirmCode:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state,r=n.Errors,s=n.ValidConfirmCode;s="12345"===t,r.ConfirmCode=s?"":"Invalid code.",this.setState({Errors:r,ValidConfirmCode:s},(function(){a.setState({ValidForm:s})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.ConfirmCode,n=t.ValidForm,r=t.ShowPreloader,l=t.Errors;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal in",id:"code-confirmation-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true",style:{display:"block"}},r?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Email Confirmation"),s.a.createElement("div",{className:"type-sh3 m-b-xxs"},"We delivered a confirmation code to your email."),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Confirmation Code"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("input",{type:"text",name:"ConfirmCode",className:"form-control",autoComplete:"off",value:a,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},l.ConfirmCode)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Confirm",className:"btn btn-primary",disabled:!n}))))))))))}}]),t}(r.Component),Dd=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(w.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a,n,r,l,c;return O.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(t.preventDefault(),e.state.ValidForm){o.next=3;break}return o.abrupt("return");case 3:if(e.state.NewUsername!==e.state.Username||e.state.NewEmail!==e.state.Email){o.next=5;break}return o.abrupt("return");case 5:if(e.state.NewUsername===e.state.Username){o.next=14;break}return o.next=8,O.a.awrap($t(e.state.NewUsername));case 8:if("Username is unavailable."!==(a=o.sent).Message){o.next=14;break}return(n=e.state.Errors).NewUsername=a.Message,e.setState({Errors:n}),o.abrupt("return");case 14:if(e.state.NewEmail===e.state.Email){o.next=23;break}return o.next=17,O.a.awrap(Xt(e.state.NewEmail));case 17:if("Email is already taken."!==(r=o.sent).Message){o.next=23;break}return(l=e.state.Errors).NewEmail=r.Message,e.setState({Errors:l}),o.abrupt("return");case 23:if(e.setState({ShowPreloader:!0}),e.state.NewEmail!==e.state.Email){o.next=30;break}return c={Token:localStorage.Token,Username:e.state.NewUsername,Email:e.state.NewEmail},o.next=28,O.a.awrap(ea(c).then((function(t){e.setState({ShowPreloader:!1}),"Transport company responsible is updated."===t.Message&&e.props.OnSettingsSaved()})));case 28:o.next=32;break;case 30:return o.next=32,O.a.awrap(Zt(e.state.NewEmail).then((function(t){e.setState({ShowPreloader:!1}),"Code sent."===t.Message&&e.setState({CodeConfirmationDialog:s.a.createElement(Rd,{Code:t.Code,Username:e.state.NewUsername,Email:e.state.NewEmail,OnCancel:function(){e.setState({CodeConfirmationDialog:null})},OnOK:function(t){t.click(),e.props.OnSettingsSaved()}})})})));case 32:case"end":return o.stop()}}))},e.state={Username:"",NewUsername:"",Email:"",NewEmail:"",Code:"",ValidNewUsername:!0,ValidNewEmail:!0,ValidForm:!1,CodeConfirmationDialog:null,ShowPreloader:!1,Errors:{NewUsername:"",NewEmail:""},CodeConfirmation:""},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=4;break}return e={Token:localStorage.Token,Get:"TransportCompanyResponsible"},a.next=4,O.a.awrap(_t(e).then((function(e){if("Transport company responsible found."===e.Message){var a=e.TransportCompanyResponsible;t.setState({Username:a.Username,NewUsername:a.Username,Email:a.Email,NewEmail:a.Email})}else t.setState({Username:"",NewUsername:"",Email:"",NewEmail:""})})));case 4:case"end":return a.stop()}}))}},{key:"validateField",value:function(e,t){var a=this,n=this.state,r=n.Errors,s=n.ValidNewUsername,l=n.ValidNewEmail;switch(e){case"NewUsername":if(s=""!==t,r.NewUsername=s?"":"Username is required.",""!=r.NewUsername)break;s=t.match(/^[a-z0-9]+$/i),r.NewUsername=s?"":"Username is invalid.";break;case"NewEmail":if(l=""!==t,r.NewEmail=l?"":"Email is required.",""!=r.NewEmail)break;l=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),r.NewEmail=l?"":"Email is invalid."}this.setState({Errors:r,ValidNewUsername:s,ValidNewEmail:l},(function(){a.setState({ValidForm:s&&l})}))}},{key:"render",value:function(){var e=this.state,t=e.NewUsername,a=e.NewEmail,n=e.ValidForm,r=e.ShowPreloader,l=e.CodeConfirmationDialog,c=e.Errors;return s.a.createElement("section",null,s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Username and Emails"),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"entity-list entity-list-expandable"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-at"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"text",name:"NewUsername",className:"form-control",autocomplete:"off",value:t,onChange:this.onChange}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Username"),s.a.createElement("div",{className:"content-text-secondary text-danger"},c.NewUsername))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-envelope"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"email",name:"NewEmail",className:"form-control",placeholder:"someone@example.com",autocomplete:"off",value:a,onChange:this.onChange}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Email"),s.a.createElement("div",{className:"content-text-secondary text-danger"},c.NewEmail))),s.a.createElement("div",{className:"entity-list-item active"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-save"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Save Changes?"),s.a.createElement("div",{className:"content-text-secondary"},"This cannot be undone.")),s.a.createElement("div",{className:"item-content-expanded"},s.a.createElement("input",{type:"submit",value:"Save",className:"btn btn-primary",disabled:!n}))))),r?s.a.createElement(ca,null):null,l)}}]),t}(r.Component),Ad=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(w.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),e.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,Password:e.state.CurrentPassword},n.next=6,O.a.awrap(ta(a).then((function(t){var a,n;return O.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if("Invalid password."!==t.Message){r.next=7;break}e.validateField("CurrentPassword",t.Message),(a=e.state.Errors).CurrentPassword=t.Message,e.setState({Errors:a}),r.next=11;break;case 7:return e.setState({ShowPreloader:!0}),n={Token:localStorage.Token,Password:e.state.NewPassword},r.next=11,O.a.awrap(aa(n).then((function(t){e.setState({ShowPreloader:!1,CurrentPassword:"",NewPassword:"",ConfirmPassword:""}),"Transport company responsible is updated."===t.Message&&e.props.OnSettingsSaved()})));case 11:case"end":return r.stop()}}))})));case 6:case"end":return n.stop()}}))},e.state={CurrentPassword:"",NewPassword:"",ConfirmPassword:"",ValidCurrentPassword:!1,ValidNewPassword:!1,ValidConfirmPassword:!1,ValidForm:!1,ShowPreloader:!1,Errors:{CurrentPassword:"",NewPassword:"",ConfirmPassword:""}},e.onChange=e.onChange.bind(Object(h.a)(e)),e.onSubmit=e.onSubmit.bind(Object(h.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a,n,r,s,l,c=this;return O.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:a=this.state,n=a.Errors,r=a.ValidCurrentPassword,s=a.ValidNewPassword,l=a.ValidConfirmPassword,o.t0=e,o.next="CurrentPassword"===o.t0?4:"NewPassword"===o.t0?7:"ConfirmPassword"===o.t0?15:18;break;case 4:return r=""!==t,n.CurrentPassword=r?"":"Current password is required.",o.abrupt("break",19);case 7:if(s=t.length>=6,n.NewPassword=s?"":"Password is too short.",""===n.NewPassword){o.next=11;break}return o.abrupt("break",19);case 11:return l=t===this.state.ConfirmPassword,n.ConfirmPassword=l?"":"Passwords did not match.",o.abrupt("break",19);case 15:return l=t===this.state.NewPassword,n.ConfirmPassword=l?"":"Passwords did not match.",o.abrupt("break",19);case 18:return o.abrupt("break",19);case 19:this.setState({Errors:n,ValidCurrentPassword:r,ValidNewPassword:s,ValidConfirmPassword:l},(function(){c.setState({ValidForm:r&&s&&l})}));case 20:case"end":return o.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.CurrentPassword,a=e.NewPassword,n=e.ConfirmPassword,r=e.ShowPreloader,l=e.ValidForm,c=e.Errors;return s.a.createElement("section",null,s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Change Password"),s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"entity-list entity-list-expandable"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-key"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"password",name:"CurrentPassword",className:"form-control",autoComplete:"off",value:t,onChange:this.onChange}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Current Password"),s.a.createElement("div",{className:"text-danger"},c.CurrentPassword))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-key"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"password",name:"NewPassword",className:"form-control",autoComplete:"off",value:a,onChange:this.onChange}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"New Password"),s.a.createElement("div",{className:"text-danger"},c.NewPassword))),s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-key"})),s.a.createElement("div",{className:"item-content-secondary"},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"password",name:"ConfirmPassword",className:"form-control",autoComplete:"off",value:n,onChange:this.onChange}))),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Confirm Password"),s.a.createElement("div",{className:"text-danger"},c.ConfirmPassword))),s.a.createElement("div",{className:"entity-list-item active"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-save"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Save Changes?"),s.a.createElement("div",{className:"content-text-secondary"},"This cannot be undone.")),s.a.createElement("div",{className:"item-content-expanded"},s.a.createElement("input",{type:"submit",value:"Save",className:"btn btn-primary",disabled:!l}))))),r?s.a.createElement(ca,null):null)}}]),t}(r.Component),Fd=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"SETTINGS"}),s.a.createElement(Td,null),s.a.createElement(Dd,null),s.a.createElement(Ad,null))}}]),t}(r.Component),Ld=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={Trailers:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.Trailers,a=this.props,n=a.Index,r=a.DriverID,l=this.props.Index;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"truck-dialog-".concat(n),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal"},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("section",null,s.a.createElement("ul",{className:"nav nav-tabs tabs-light",role:"tablist"},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#truck-tab-".concat(n),"aria-controls":"truck-tab-".concat(n),role:"tab","data-toggle":"tab"},"Truck")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#trailers-tab-".concat(n),"aria-controls":"trailers-tab-".concat(n),role:"tab","data-toggle":"tab"},"Trailers"))),s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"truck-tab-".concat(l)},s.a.createElement(pl,{Refresh:this.props.Refresh,DriverID:r,OnTrailersFound:function(t){e.setState({Trailers:t})},TabView:!0})),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"trailers-tab-".concat(l)},s.a.createElement(Ml,{Trailers:t})))))))))}}]),t}(r.Component),Id=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.Index,a=e.DriverID,n=e.RefreshDocuments,r=e.RefreshDriver;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"driver-dialog-".concat(t),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal"},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("section",null,s.a.createElement("ul",{className:"nav nav-tabs tabs-light",role:"tablist"},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#driver-tab-".concat(t),"aria-controls":"driver-tab-".concat(t),role:"tab","data-toggle":"tab"},"Driver")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#documents-tab-".concat(t),"aria-controls":"documents-tab-".concat(t),role:"tab","data-toggle":"tab"},"Documents"))),s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"driver-tab-".concat(t)},s.a.createElement(cl,{Refresh:r,DriverID:a,TabView:!0})),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"documents-tab-".concat(t)},s.a.createElement(Il,{Refresh:n,DriverID:a})))))))))}}]),t}(r.Component),Ud=Object(Un.withScriptjs)(Object(Un.withGoogleMap)((function(e){var t=e.DriverLocation;return s.a.createElement(Un.GoogleMap,{defaultZoom:10,defaultCenter:{lat:t.Lat,lng:t.Lng}},s.a.createElement(Un.Marker,{key:1,position:{lat:t.Lat,lng:t.Lng},icon:{url:"./images/truck_marker.svg",scaledSize:new window.google.maps.Size(40,40)}}))}))),Vd=function(e){return s.a.createElement("div",{style:{width:"100%",height:"400px"}},s.a.createElement(Ud,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=".concat("AIzaSyD_U_2NzdPIL7TWb8ECBHWO1eROR2yrebI"),loadingElement:s.a.createElement("div",{style:{height:"100%"}}),containerElement:s.a.createElement("div",{style:{height:"100%"}}),mapElement:s.a.createElement("div",{style:{height:"100%"}}),DriverLocation:e.DriverLocation}))},Jd=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).locateTruck=function(){a.setState({Searching:!0}),a.Database.on("value",(function(e){var t=null,n=e.val();if(n){var r=n.latlong.split(",");t={Lat:parseFloat(r[0]),Lng:parseFloat(r[1])}}a.setState({DriverLocation:t,Searching:!1})}))},a.Database=Gn.database().ref().child("".concat(a.props.DriverID)),a.state={DriverLocation:null,Searching:!1},a.locateTruck=a.locateTruck.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.LocateTruck(this.locateTruck)}},{key:"render",value:function(){var e=this.state,t=e.DriverLocation,a=e.Searching,n=this.props.Index;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"locate-truck-dialog-".concat(n),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal"},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},a||!t?s.a.createElement(nn,{Searching:a,SearchingFor:"truck location"}):s.a.createElement(Vd,{DriverLocation:t}))))))}}]),t}(r.Component),Md=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.Index,n=t.Truck;return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("strong",null,a+1)),s.a.createElement("td",null,n.TruckNumber),s.a.createElement("td",null,n.Brand),s.a.createElement("td",null,n.Model),s.a.createElement("td",{className:"text-right"},s.a.createElement("button",{className:"btn btn-secondary m-t-n","data-toggle":"modal","data-target":"#truck-dialog-".concat(a)},"Details"),s.a.createElement("button",{className:"btn btn-secondary m-t-n","data-toggle":"modal","data-target":"#driver-dialog-".concat(a),onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.RefreshDriverContainer());case 2:return t.next=4,O.a.awrap(e.RefreshDocumentsContainer());case 4:case"end":return t.stop()}}))}},"Driver"),s.a.createElement("button",{className:"btn btn-primary m-t-n","data-toggle":"modal","data-target":"#locate-truck-dialog-".concat(a),onClick:function(){e.LocateTruck()}},"Locate"),s.a.createElement(Ld,{Index:a,DriverID:n.DriverID,Refresh:function(t){e.RefreshTruckContainer=t}}),s.a.createElement(Id,{Index:a,DriverID:n.DriverID,RefreshDriver:function(t){e.RefreshDriverContainer=t},RefreshDocuments:function(t){e.RefreshDocumentsContainer=t}}),s.a.createElement(Jd,{Index:a,DriverID:n.DriverID,LocateTruck:function(t){e.LocateTruck=t}})))}}]),t}(r.Component),Bd=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"Trucks"},a.setState({Searching:!0}),t.next=5,O.a.awrap(_t(e).then((function(e){"Trucks found."===e.Message?a.setState({Trucks:e.Trucks,Searching:!1}):a.setState({Trucks:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.state={Trucks:[],Searching:!1,Refreshing:!1},a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,t=e.Trucks,a=(e.SearchString,e.Searching),n=e.Refreshing;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-truck-moving m-r-xxs"}),"Trucks"))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Your Trucks",n?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),0===t.length?s.a.createElement(nn,{Searching:a,SearchingFor:"trucks"}):s.a.createElement("div",{class:"table-responsive back-color-gray",style:{height:"100vh"}},s.a.createElement("table",{class:"table table-striped"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"NUMBER"),s.a.createElement("th",null,"TRUCK NUMBER"),s.a.createElement("th",null,"BRAND"),s.a.createElement("th",null,"MODEL"),s.a.createElement("th",null))),s.a.createElement("tbody",null,t.map((function(e,t){return s.a.createElement(Md,{key:t,Index:t,Truck:e})}))))))}}]),t}(r.Component),qd=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Bd,null))}}]),t}(r.Component),Qd=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.DriverReview;return e?s.a.createElement("div",{class:"alert alert-info m-n",style:{backgroundColor:"#E5E5E5",borderTop:"2px solid #CCCCCC"}},s.a.createElement("div",{className:"type-h4 color-default p-t-xxxs"},"Driver's Review"),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-24"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-star"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"Rating"),s.a.createElement("div",{className:"content-text-secondary"},s.a.createElement(Ma,{Rating:e.Rating,Color:"",Size:"rating-small"})),s.a.createElement("div",{className:"content-text-primary"},"Review"),s.a.createElement("div",{className:"content-text-secondary"},e.Review))))))):s.a.createElement("div",{class:"alert alert-info m-n",style:{backgroundColor:"#E5E5E5",borderTop:"2px solid #CCCCCC"}},s.a.createElement("div",{className:"type-h4 color-default p-t-xxxs"},"Driver's Review"),s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-md-24"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("span",{className:"fas fa-star"})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"No Rating Found"),s.a.createElement("div",{className:"content-text-secondary"},"Driver's rating and review appears here.")))))))}}]),t}(r.Component),Wd=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.Driver,a=e.Trader;return s.a.createElement("div",{class:"alert alert-info m-n",style:{backgroundColor:"#E5E5E5",borderTop:"2px solid #CCCCCC"}},s.a.createElement("div",{className:"type-h4 color-default p-t-xxxs"},"Participants"),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("img",{src:t.PhotoURL?t.PhotoURL:"./images/defaultProfilePhoto.png",alt:"profile_photo.png",height:"34",width:"34",style:{height:"100%",width:"100%",margin:"0px",border:"3px solid #3A3A3C"}})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"".concat(t.FirstName," ").concat(t.LastName)),s.a.createElement("div",{className:"content-text-secondary color-default"},"@".concat(t.Username)),s.a.createElement("div",{className:"content-text-secondary"},"DRIVER"))))),s.a.createElement("div",{className:"col-md-12"},s.a.createElement("div",{className:"entity-list"},s.a.createElement("div",{className:"entity-list-item"},s.a.createElement("div",{className:"item-icon"},s.a.createElement("img",{src:a.PhotoURL?a.PhotoURL:"./images/defaultProfilePhoto.png",alt:"profile_photo.png",height:"34",width:"34",style:{height:"100%",width:"100%",margin:"0px",border:"3px solid #3A3A3C"}})),s.a.createElement("div",{className:"item-content-primary"},s.a.createElement("div",{className:"content-text-primary"},"".concat(a.FirstName," ").concat(a.LastName)),s.a.createElement("div",{className:"content-text-secondary color-default"},"@".concat(a.Username)),s.a.createElement("div",{className:"content-text-secondary"},a.Type.toUpperCase())))))))}}]),t}(r.Component),Gd=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.JobDetails;return s.a.createElement("section",null,s.a.createElement(Er,{CompletedJob:e}),s.a.createElement(Qd,{DriverReview:e.DriverReview}),s.a.createElement(Wd,{Driver:e.Driver,Trader:e.Trader}))}}]),t}(r.Component),_d=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).searchTruckJobDetails=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!localStorage.Token){n.next=5;break}return t={Token:localStorage.Token,Get:"TruckJobDetails",Params:{CompletedJobID:e}},a.setState({Searching:!0}),n.next=5,O.a.awrap(_t(t).then((function(e){"Truck job details found."===e.Message?a.setState({TruckJobDetails:e.TruckJobDetails,Searching:!1}):a.setState({TruckJobDetails:null,Searching:!1})})));case 5:case"end":return n.stop()}}))},a.state={TruckJobDetails:null,Searching:!1},a.searchTruckJobDetails=a.searchTruckJobDetails.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.SearchTruckJobDetails(this.searchTruckJobDetails);case 1:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.TruckJobDetails,n=t.Searching,r=this.props.Index;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"truck-job-details-dialog-".concat(r),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal"},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},n||!a?s.a.createElement(nn,{Searching:n,SearchingFor:"job details"}):s.a.createElement("section",null,s.a.createElement("div",{className:"text-right p-xxs",style:{backgroundColor:"#DDDDDD"}},s.a.createElement(Vr.a,{trigger:function(){return s.a.createElement("button",{className:"btn btn-primary m-t-n"},"Print")},content:function(){return e.JobDetails}})),s.a.createElement(Gd,{JobDetails:a,ref:function(t){return e.JobDetails=t}})))))))}}]),t}(r.Component),zd=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.Index,n=t.TruckJob;return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("strong",null,"".concat(a+1,"."))),s.a.createElement("td",null,n.JobNumber),s.a.createElement("td",null,n.LoadingPlace),s.a.createElement("td",null,n.UnloadingPlace),s.a.createElement("td",null,"$".concat(n.Price.toFixed(2))),s.a.createElement("td",null,n.TruckNumber),s.a.createElement("td",null,new Date(n.Created).toDateString()),s.a.createElement("td",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary m-t-n","data-toggle":"modal","data-target":"#truck-job-details-dialog-".concat(a),onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.SearchTruckJobDetails(n.CompletedJobID));case 2:case"end":return t.stop()}}))}},"Details"),s.a.createElement(_d,{Index:a,SearchTruckJobDetails:function(t){e.SearchTruckJobDetails=t}})))}}]),t}(r.Component),Hd=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.TruckJobs;return s.a.createElement("section",null,s.a.createElement("div",{class:"table-responsive back-color-gray",style:{borderTop:"4px solid #CCCCCC",height:"100vh"}},s.a.createElement("table",{class:"table table-striped"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"NUMBER"),s.a.createElement("th",null,"JOB NUMBER"),s.a.createElement("th",null,"SOURCE"),s.a.createElement("th",null,"DESTINATION"),s.a.createElement("th",null,"PRICE"),s.a.createElement("th",null,"TRUCK NUMBER"),s.a.createElement("th",null,"DATE"),s.a.createElement("th",null))),s.a.createElement("tbody",null,e.map((function(e,t){return s.a.createElement(zd,{key:t,Index:t,TruckJob:e})}))))))}}]),t}(r.Component),Kd=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSubmit=function(e){var t,n,r,s,l,c,o,i,m,d,u,p,E,h,b,v,f,g,N,y,x,S,C,w,k,P,j,T,R,D,A,F,L,I,U,V,J,M,B,q,Q,W,G,_,z,H,K,Y,$,X,Z,ee,te,ae,ne,re,se,le,ce,oe,ie,me,de,ue,pe,Ee,he,be;return O.a.async((function(O){for(;;)switch(O.prev=O.next){case 0:if(e.preventDefault(),t=a.state,n=t.JobNumber,r=t.StartDate,s=t.EndDate,l=t.StartPrice,c=t.EndPrice,console.log(n),console.log(r),console.log(s),console.log(l),console.log(c),o=a.props.TruckJobs,""===n){O.next=35;break}for(i=[],m=0,d=!0,u=!1,p=void 0,O.prev=14,E=o[Symbol.iterator]();!(d=(h=E.next()).done);d=!0)(b=h.value).JobNumber.includes(n)&&(i[m++]=b);O.next=22;break;case 18:O.prev=18,O.t0=O.catch(14),u=!0,p=O.t0;case 22:O.prev=22,O.prev=23,d||null==E.return||E.return();case 25:if(O.prev=25,!u){O.next=28;break}throw p;case 28:return O.finish(25);case 29:return O.finish(22);case 30:return a.cancelButton.click(),a.props.OnOK(i),O.abrupt("return");case 35:if(i=o.slice(),""===r){O.next=78;break}for(console.log("Hllo"),v=[],m=0,f=!0,g=!1,N=void 0,O.prev=43,y=i[Symbol.iterator]();!(f=(x=y.next()).done);f=!0)S=x.value,C=new Date(S.Created),w=new Date(r),C<w&&v.push(m),m++;O.next=51;break;case 47:O.prev=47,O.t1=O.catch(43),g=!0,N=O.t1;case 51:O.prev=51,O.prev=52,f||null==y.return||y.return();case 54:if(O.prev=54,!g){O.next=57;break}throw N;case 57:return O.finish(54);case 58:return O.finish(51);case 59:for(k=!0,P=!1,j=void 0,O.prev=62,T=v[Symbol.iterator]();!(k=(R=T.next()).done);k=!0)D=R.value,i.splice(D,1);O.next=70;break;case 66:O.prev=66,O.t2=O.catch(62),P=!0,j=O.t2;case 70:O.prev=70,O.prev=71,k||null==T.return||T.return();case 73:if(O.prev=73,!P){O.next=76;break}throw j;case 76:return O.finish(73);case 77:return O.finish(70);case 78:if(""===s){O.next=119;break}for(v=[],m=0,A=!0,F=!1,L=void 0,O.prev=84,I=i[Symbol.iterator]();!(A=(U=I.next()).done);A=!0)V=U.value,J=new Date(V.Created),M=new Date(s),J>M&&v.push(m),m++;O.next=92;break;case 88:O.prev=88,O.t3=O.catch(84),F=!0,L=O.t3;case 92:O.prev=92,O.prev=93,A||null==I.return||I.return();case 95:if(O.prev=95,!F){O.next=98;break}throw L;case 98:return O.finish(95);case 99:return O.finish(92);case 100:for(B=!0,q=!1,Q=void 0,O.prev=103,W=v[Symbol.iterator]();!(B=(G=W.next()).done);B=!0)_=G.value,i.splice(_,1);O.next=111;break;case 107:O.prev=107,O.t4=O.catch(103),q=!0,Q=O.t4;case 111:O.prev=111,O.prev=112,B||null==W.return||W.return();case 114:if(O.prev=114,!q){O.next=117;break}throw Q;case 117:return O.finish(114);case 118:return O.finish(111);case 119:if(""===l&&0===l){O.next=160;break}for(v=[],m=0,z=!0,H=!1,K=void 0,O.prev=125,Y=i[Symbol.iterator]();!(z=($=Y.next()).done);z=!0)X=$.value,parseFloat(X.Price)<parseFloat(l)&&v.push(m),m++;O.next=133;break;case 129:O.prev=129,O.t5=O.catch(125),H=!0,K=O.t5;case 133:O.prev=133,O.prev=134,z||null==Y.return||Y.return();case 136:if(O.prev=136,!H){O.next=139;break}throw K;case 139:return O.finish(136);case 140:return O.finish(133);case 141:for(Z=!0,ee=!1,te=void 0,O.prev=144,ae=v[Symbol.iterator]();!(Z=(ne=ae.next()).done);Z=!0)re=ne.value,i.splice(re,1);O.next=152;break;case 148:O.prev=148,O.t6=O.catch(144),ee=!0,te=O.t6;case 152:O.prev=152,O.prev=153,Z||null==ae.return||ae.return();case 155:if(O.prev=155,!ee){O.next=158;break}throw te;case 158:return O.finish(155);case 159:return O.finish(152);case 160:if(""===c&&0===parseFloat(c)){O.next=201;break}for(v=[],m=0,se=!0,le=!1,ce=void 0,O.prev=166,oe=i[Symbol.iterator]();!(se=(ie=oe.next()).done);se=!0)me=ie.value,parseFloat(me.Price)>parseFloat(c)&&v.push(m),m++;O.next=174;break;case 170:O.prev=170,O.t7=O.catch(166),le=!0,ce=O.t7;case 174:O.prev=174,O.prev=175,se||null==oe.return||oe.return();case 177:if(O.prev=177,!le){O.next=180;break}throw ce;case 180:return O.finish(177);case 181:return O.finish(174);case 182:for(de=!0,ue=!1,pe=void 0,O.prev=185,Ee=v[Symbol.iterator]();!(de=(he=Ee.next()).done);de=!0)be=he.value,i.splice(be,1);O.next=193;break;case 189:O.prev=189,O.t8=O.catch(185),ue=!0,pe=O.t8;case 193:O.prev=193,O.prev=194,de||null==Ee.return||Ee.return();case 196:if(O.prev=196,!ue){O.next=199;break}throw pe;case 199:return O.finish(196);case 200:return O.finish(193);case 201:a.cancelButton.click(),a.props.OnOK(i);case 203:case"end":return O.stop()}}),null,null,[[14,18,22,30],[23,,25,29],[43,47,51,59],[52,,54,58],[62,66,70,78],[71,,73,77],[84,88,92,100],[93,,95,99],[103,107,111,119],[112,,114,118],[125,129,133,141],[134,,136,140],[144,148,152,160],[153,,155,159],[166,170,174,182],[175,,177,181],[185,189,193,201],[194,,196,200]])},a.state={JobNumber:"",StartDate:"",EndDate:"",StartPrice:0,EndPrice:0},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.JobNumber,n=t.StartDate,r=t.EndDate,l=t.StartPrice,c=t.EndPrice;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"search-truck-jobs-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"type-h3 color-default p-t-xxs"},"Search Truck Jobs"),s.a.createElement("div",{className:"row p-t-xxs"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Job Number"),s.a.createElement("input",{type:"text",name:"JobNumber",className:"form-control",autoComplete:"off",value:a,onChange:this.onChange}))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Starting Date"),s.a.createElement("input",{type:"date",name:"StartDate",className:"form-control",autoComplete:"off",value:n,onChange:this.onChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Ending Date"),s.a.createElement("input",{type:"date",name:"EndDate",className:"form-control",autoComplete:"off",value:r,onChange:this.onChange}))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Staring Price (USD)"),s.a.createElement("input",{type:"number",min:"0.00",step:"0.01",name:"StartPrice",className:"form-control",autoComplete:"off",value:l,onChange:this.onChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Ending Price (USD)"),s.a.createElement("input",{type:"number",min:"0.00",step:"0.01",name:"EndPrice",className:"form-control",autoComplete:"off",value:c,onChange:this.onChange})))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Search Now",className:"btn btn-primary"}))))))))))}}]),t}(r.Component),Yd=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).searchTruckJobs=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!localStorage.Token){n.next=5;break}return t={Token:localStorage.Token,Get:"TruckJobs",Params:{TruckNumber:e}},a.setState({Searching:!0}),n.next=5,O.a.awrap(_t(t).then((function(e){"Truck jobs found."===e.Message?a.setState({AllTruckJobs:e.TruckJobs,TruckJobs:e.TruckJobs,Searching:!1}):a.setState({AllTruckJobs:[],TruckJobs:[],Searching:!1})})));case 5:case"end":return n.stop()}}))},a.state={AllTruckJobs:[],TruckJobs:[],Searching:!1,ShowingSearchResults:!1,Refreshing:!1},a.searchTruckJobs=a.searchTruckJobs.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.SearchTruckJobs(this.searchTruckJobs);case 1:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.AllTruckJobs,n=t.TruckJobs,r=t.Searching,l=t.ShowingSearchResults;return r||0===a.length?s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default",style:{width:"100%",height:"100vh"}},s.a.createElement("div",{className:"container"},r?s.a.createElement("div",{className:"text-center p-xxs"},s.a.createElement("div",{className:"type-h4 color-default"},"Searching"),s.a.createElement(en,null)):s.a.createElement("div",{className:"text-center p-xxs"},s.a.createElement("div",{className:"type-h4"},s.a.createElement("span",{className:"fas fa-exclamation-triangle m-r-xxs",style:{color:"#FFBF15"}}),"No truck jobs to display. Search the truck by number to view its jobs."))))):s.a.createElement("section",null,s.a.createElement("div",{className:"text-right p-xxs",style:{backgroundColor:"#DDDDDD"}},l?s.a.createElement("button",{className:"btn btn-secondary m-t-n",onClick:function(){e.setState({TruckJobs:a,ShowingSearchResults:!1})}},"Cancel Search"):s.a.createElement("button",{className:"btn btn-secondary m-t-n","data-toggle":"modal","data-target":"#search-truck-jobs-dialog"},"Search Jobs")),s.a.createElement(Kd,{TruckJobs:a,OnOK:function(t){e.setState({TruckJobs:t,ShowingSearchResults:!0})}}),0===n.length?s.a.createElement(nn,{Searching:!1,SearchingFor:"truck jobs"}):s.a.createElement(Hd,{TruckJobs:n}))}}]),t}(r.Component),$d=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){e.preventDefault(),a.SearchTruckJobs(a.state.SearchString)},a.state={SearchString:""},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.SearchString;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-briefcase m-r-xxs"}),"Truck Jobs"))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Truck Jobs"),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search Truck Number",style:{maxWidth:"500px",width:"100%"},value:t,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),s.a.createElement(Yd,{SearchTruckJobs:function(t){e.SearchTruckJobs=t}}))}}]),t}(r.Component),Xd=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement($d,null))}}]),t}(r.Component),Zd=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"TRUCKS"}),s.a.createElement("ul",{className:"nav nav-tabs theme-alt",role:"tablist",style:{padding:"10px",backgroundColor:"#3A3A3C",width:"100%",margin:"0px"}},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#truck-list","aria-controls":"truck-list",role:"tab","data-toggle":"tab"},"Truck List")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#truck-jobs","aria-controls":"truck-jobs",role:"tab","data-toggle":"tab"},"Truck Jobs"))),s.a.createElement("div",{class:"tab-content"},s.a.createElement("div",{role:"tabpanel",class:"tab-pane active",id:"truck-list"},s.a.createElement(qd,null)),s.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"truck-jobs"},s.a.createElement(Xd,null))))}}]),t}(r.Component),eu=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n),(function(){a.validateField(t,n)}))},a.onSubmit=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a.setState({ShowPreloader:!0}),t={Token:localStorage.Token,Question:a.state.Question},n.next=7,O.a.awrap(na(t).then((function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.setState({ShowPreloader:!1}),"Question is added."===e.Message&&(a.cancelButton.click(),a.props.OnOK());case 2:case"end":return t.stop()}}))})));case 7:case"end":return n.stop()}}))},a.state={Question:"",ValidQuestion:!1,ValidForm:!1,ShowPreloader:!1,Errors:{Question:""}},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a.validateField=a.validateField.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidQuestion;switch(e){case"Question":r=""!==t,n.Question=r?"":"Question is required."}this.setState({Errors:n,ValidQuestion:r},(function(){a.setState({ValidForm:a.state.ValidQuestion})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.Question,n=t.ShowPreloader,r=t.ValidForm,l=t.Errors;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"ask-question-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},n?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Ask a New Question"),s.a.createElement("div",{class:"form-group"},s.a.createElement("label",{className:"control-label"},"Question"),s.a.createElement("span",{className:"text-danger m-l-xxxs"},"*"),s.a.createElement("textarea",{rows:"6",class:"form-control",name:"Question",style:{maxWidth:"100%"},value:a,onChange:this.onChange}),s.a.createElement("span",{className:"text-danger"},l.Question)))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Post",className:"btn btn-primary",disabled:!r}))))))))))}}]),t}(r.Component),tu=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onDelete=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return a.setState({ShowPreloader:!0}),e={Token:localStorage.Token,ResponsibleQuestionID:a.props.ResponsibleQuestionID},t.next=4,O.a.awrap(ra(e).then((function(e){a.setState({ShowPreloader:!1}),"Question is deleted."===e.Message&&(a.cancelButton.click(),a.props.OnOK())})));case 4:case"end":return t.stop()}}))},a.state={ShowPreloader:!1},a.onDelete=a.onDelete.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.ShowPreloader,a=this.props,n=a.Index,r=a.QuestionNumber;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"delete-responsible-question-dialog-".concat(n),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},t?s.a.createElement(ca,null):null,s.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md-24"},s.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Delete Question"),s.a.createElement("div",{className:"type-sh3 m-b-xxs"},"Are you sure you want to delete question with ID",s.a.createElement("span",{className:"color-default"}," ".concat(r,"."))))),s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",onClick:this.onDelete},"Delete")))))))))}}]),t}(r.Component),au=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.Index,a=e.Question;return s.a.createElement("section",null,s.a.createElement(gm,{Index:t,Question:a}),s.a.createElement("div",{className:"text-right p-xxs",style:{backgroundColor:"#DDDDDD"}},s.a.createElement("button",{className:"btn btn-danger m-t-n","data-toggle":"modal","data-target":"#delete-responsible-question-dialog-".concat(t)},"Delete")),s.a.createElement(tu,{Index:t,ResponsibleQuestionID:a.ResponsibleQuestionID,QuestionNumber:a.QuestionNumber,OnOK:this.props.OnQuestionDeleted}))}}]),t}(r.Component),nu=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"Questions"},a.setState({Searching:!0}),t.next=5,O.a.awrap(_t(e).then((function(e){"Questions found."===e.Message?a.setState({AllQuestions:e.Questions,Questions:e.Questions,Searching:!1}):a.setState({AllQuestions:[],Questions:[],Searching:!1})})));case 5:case"end":return t.stop()}}))},a.onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){e.preventDefault();var t=a.state.SearchString;if(""!==t){var n=a.state.AllQuestions,r=[],s=0,l=!0,c=!1,o=void 0;try{for(var i,m=n[Symbol.iterator]();!(l=(i=m.next()).done);l=!0){var d=i.value;(d.Question.includes(t)||d.QuestionNumber.includes(t)||d.Class.includes(t))&&(r[s++]=d)}}catch(u){c=!0,o=u}finally{try{l||null==m.return||m.return()}finally{if(c)throw o}}a.setState({Questions:r})}else a.setState({Questions:a.state.AllQuestions})},a.state={AllQuestions:[],Questions:[],SearchString:"",Searching:!1,Refreshing:!1},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.Questions,n=t.SearchString,r=t.Searching,l=t.Refreshing;return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"QUESTIONS"}),s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-question-circle m-r-xxs"}),"Questions"),s.a.createElement("p",{className:"color-light"},"If you are facing any issues, then post a question. Naqel team will answer them as soon as possible."),s.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#ask-question-dialog"},"Ask a Question"))))),s.a.createElement(eu,{OnOK:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.onComponentUpdated());case 2:case"end":return t.stop()}}))}}),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Your Questions",l?s.a.createElement("span",{className:"m-l-xxs"},s.a.createElement(rn,null)):null),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search Questions",style:{maxWidth:"500px",width:"100%"},value:n,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===a.length?s.a.createElement(nn,{Searching:r,SearchingFor:"questions"}):s.a.createElement("ol",{className:"list-items m-n"},a.map((function(t,a){return s.a.createElement("li",{key:a,className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},s.a.createElement(au,{Index:a,Question:t,OnQuestionDeleted:e.onComponentUpdated}))}))))}}]),t}(r.Component),ru=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(nu,null))}}]),t}(r.Component),su=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.Transaction;return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("strong",null,"".concat(new Date(e.Date).toLocaleDateString()))),s.a.createElement("td",null,e.TruckNumber),s.a.createElement("td",null,e.JobNumber),s.a.createElement("td",null,e.TraderBillNumber),s.a.createElement("td",null,e.TraderBillPaid?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}})),s.a.createElement("td",null,e.TraderPaymentMethod),s.a.createElement("td",null,e.DriverBillNumber),s.a.createElement("td",null,e.DriverBillPaid?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}})),s.a.createElement("td",null,e.DriverPaymentMethod),s.a.createElement("td",null,"".concat(e.FeeRate,"%")),s.a.createElement("td",null,"$".concat(e.Earned.toFixed(2))),s.a.createElement("td",null,"$".concat(e.Charged.toFixed(2))),s.a.createElement("td",null,"$".concat(e.Amount.toFixed(2))))}}]),t}(r.Component),lu=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.AccountStatement,t=e.TransportCompany,a=0,n=0,r=0,l=!0,c=!1,o=void 0;try{for(var i,m=e.Transactions[Symbol.iterator]();!(l=(i=m.next()).done);l=!0){var d=i.value;a+=d.Amount,n+=d.Earned,r+=d.Charged}}catch(u){c=!0,o=u}finally{try{l||null==m.return||m.return()}finally{if(c)throw o}}return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default back-color-light"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"type-t3",style:{fontWeight:"600"}},s.a.createElement("span",{className:"fas fa-route m-r-xxxs"}),"NAQEL"),s.a.createElement("div",{className:"p-t-xxs"},s.a.createElement("div",{className:"type-t8 m-b-xxs"},"TRANSPORT COMPANY DETAILS"),s.a.createElement("div",{className:"type-t8"},"Company Name: ".concat(t.Name)),s.a.createElement("div",{className:"type-t8"},"Username: ".concat(t.Username)),s.a.createElement("div",{className:"type-t8"},"Internal Number: ".concat(t.InternalNumber)),s.a.createElement("div",{className:"type-t8"},"Commercial Register Number: ".concat(t.CommercialRegisterNumber))))),0===e.Transactions.length?s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default",style:{height:"100vh"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"text-center p-xxs"},s.a.createElement("div",{className:"type-h4"},s.a.createElement("span",{className:"fas fa-exclamation-triangle m-r-xxs",style:{color:"#FFBF15"}}),"No transactions found."))))):s.a.createElement("div",{class:"table-responsive back-color-gray",style:{borderTop:"4px solid #CCCCCC",height:"100vh"}},s.a.createElement("table",{class:"table table-striped"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"DATE"),s.a.createElement("th",null,"TRUCK NUMBER"),s.a.createElement("th",null,"JOB NUMBER"),s.a.createElement("th",null,"TRADER BILL NUMBER"),s.a.createElement("th",null,"TRADER BILL PAID?"),s.a.createElement("th",null,"TRADER PAY METHOD"),s.a.createElement("th",null,"DRIVER BILL NUMBER"),s.a.createElement("th",null,"DRIVER BILL PAID?"),s.a.createElement("th",null,"DRIVER PAY METHOD"),s.a.createElement("th",null,"FEE RATE"),s.a.createElement("th",null,"EARNED"),s.a.createElement("th",null,"CHARGED"),s.a.createElement("th",null,"TOTAL AMOUNT"))),s.a.createElement("tbody",null,e.Transactions.map((function(e,t){return s.a.createElement(su,{key:t,Index:t,Transaction:e})})),s.a.createElement("tr",{style:{backgroundColor:"#DADADA"}},s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null,"TOTAL:"),s.a.createElement("td",null,"$".concat(n.toFixed(2))),s.a.createElement("td",null,"$".concat(r.toFixed(2))),s.a.createElement("td",null,"$".concat(a.toFixed(2))))))))}}]),t}(r.Component),cu=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=5;break}return e={Token:localStorage.Token,Get:"AccountStatement"},a.setState({Searching:!0}),t.next=5,O.a.awrap(_t(e).then((function(e){"Account statement found."===e.Message?a.setState({AccountStatement:e.AccountStatement,Searching:!1}):a.setState({AccountStatement:null,Searching:!1})})));case 5:case"end":return t.stop()}}))},a.state={AccountStatement:null,Searching:!1,Refreshing:!1},a.onComponentUpdated=a.onComponentUpdated.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.AccountStatement,n=t.Searching;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-university m-r-xxs"}),"Transport Company's Account Statements"))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Account Statement"),n||!a?s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default",style:{height:"100vh"}},s.a.createElement("div",{className:"container"},n?s.a.createElement("div",{className:"text-center p-xxs"},s.a.createElement("div",{className:"type-h4 color-default"},"Searching"),s.a.createElement(en,null)):s.a.createElement("div",{className:"text-center p-xxs"},s.a.createElement("div",{className:"type-h4"},s.a.createElement("span",{className:"fas fa-exclamation-triangle m-r-xxs",style:{color:"#FFBF15"}}),"No account statement to display."))))):s.a.createElement("section",null,s.a.createElement("div",{className:"text-right p-xxs",style:{backgroundColor:"#DDDDDD"}},s.a.createElement(Vr.a,{trigger:function(){return s.a.createElement("button",{className:"btn btn-primary m-t-n"},"Print")},content:function(){return e.TCResponsibleAccountStatement}})),s.a.createElement(lu,{AccountStatement:a,ref:function(t){return e.TCResponsibleAccountStatement=t}})))}}]),t}(r.Component),ou=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.Transaction;return s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("strong",null,"".concat(new Date(e.Date).toLocaleDateString()))),s.a.createElement("td",null,e.JobNumber),s.a.createElement("td",null,e.TraderBillNumber),s.a.createElement("td",null,e.TraderBillPaid?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}})),s.a.createElement("td",null,e.TraderPaymentMethod),s.a.createElement("td",null,e.DriverBillNumber),s.a.createElement("td",null,e.DriverBillPaid?s.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):s.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}})),s.a.createElement("td",null,e.DriverPaymentMethod),s.a.createElement("td",null,"".concat(e.FeeRate,"%")),s.a.createElement("td",null,"$".concat(e.Earned.toFixed(2))),s.a.createElement("td",null,"$".concat(e.Charged.toFixed(2))),s.a.createElement("td",null,"$".concat(e.Amount.toFixed(2))))}}]),t}(r.Component),iu=function(e){function t(e){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.AccountStatement,t=e.Truck,a=0,n=0,r=0,l=!0,c=!1,o=void 0;try{for(var i,m=e.Transactions[Symbol.iterator]();!(l=(i=m.next()).done);l=!0){var d=i.value;a+=d.Amount,n+=d.Earned,r+=d.Charged}}catch(u){c=!0,o=u}finally{try{l||null==m.return||m.return()}finally{if(c)throw o}}return s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default back-color-light"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"type-t3",style:{fontWeight:"600"}},s.a.createElement("span",{className:"fas fa-route m-r-xxxs"}),"NAQEL"),s.a.createElement("div",{className:"p-t-xxs"},s.a.createElement("div",{className:"type-t8 m-b-xxs"},"TRUCK DETAILS"),s.a.createElement("div",{className:"type-t8"},"Make and Model: ".concat(t.Brand," ").concat(t.Model)),s.a.createElement("div",{className:"type-t8"},"Production Year: ".concat(t.ProductionYear)),s.a.createElement("div",{className:"type-t8"},"Truck Type: ".concat(t.Type)),s.a.createElement("div",{className:"type-t8"},"Truck Number: ".concat(t.TruckNumber))))),0===e.Transactions.length?s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default",style:{height:"100vh"}},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"text-center p-xxs"},s.a.createElement("div",{className:"type-h4"},s.a.createElement("span",{className:"fas fa-exclamation-triangle m-r-xxs",style:{color:"#FFBF15"}}),"No transactions found."))))):s.a.createElement("div",{class:"table-responsive back-color-gray",style:{borderTop:"4px solid #CCCCCC",height:"100vh"}},s.a.createElement("table",{class:"table table-striped"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"DATE"),s.a.createElement("th",null,"JOB NUMBER"),s.a.createElement("th",null,"TRADER BILL NUMBER"),s.a.createElement("th",null,"TRADER BILL PAID?"),s.a.createElement("th",null,"TRADER PAY METHOD"),s.a.createElement("th",null,"DRIVER BILL NUMBER"),s.a.createElement("th",null,"DRIVER BILL PAID?"),s.a.createElement("th",null,"DRIVER PAY METHOD"),s.a.createElement("th",null,"FEE RATE"),s.a.createElement("th",null,"EARNED"),s.a.createElement("th",null,"CHARGED"),s.a.createElement("th",null,"TOTAL AMOUNT"))),s.a.createElement("tbody",null,e.Transactions.map((function(e,t){return s.a.createElement(ou,{key:t,Index:t,Transaction:e})})),s.a.createElement("tr",{style:{backgroundColor:"#DADADA"}},s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null),s.a.createElement("td",null,"TOTAL:"),s.a.createElement("td",null,"$".concat(n.toFixed(2))),s.a.createElement("td",null,"$".concat(r.toFixed(2))),s.a.createElement("td",null,"$".concat(a.toFixed(2))))))))}}]),t}(r.Component),mu=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSubmit=function(e){var t,n,r,s,l,c,o,i,m,d,u,p,E,h,b,v,f,g,N,y,x,S,C,w,k,P,j,T,R,D,A,F,L,I,U,V,J,M,B,q,Q,W,G,_,z,H,K,Y,$,X,Z,ee,te,ae,ne,re,se,le,ce,oe,ie,me,de,ue,pe,Ee,he,be;return O.a.async((function(O){for(;;)switch(O.prev=O.next){case 0:if(e.preventDefault(),t=a.state,n=t.JobNumber,r=t.StartDate,s=t.EndDate,l=t.StartPrice,c=t.EndPrice,console.log(n),console.log(r),console.log(s),console.log(l),console.log(c),o=a.props.Transactions,""===n){O.next=35;break}for(i=[],m=0,d=!0,u=!1,p=void 0,O.prev=14,E=o[Symbol.iterator]();!(d=(h=E.next()).done);d=!0)(b=h.value).JobNumber.includes(n)&&(i[m++]=b);O.next=22;break;case 18:O.prev=18,O.t0=O.catch(14),u=!0,p=O.t0;case 22:O.prev=22,O.prev=23,d||null==E.return||E.return();case 25:if(O.prev=25,!u){O.next=28;break}throw p;case 28:return O.finish(25);case 29:return O.finish(22);case 30:return a.cancelButton.click(),a.props.OnOK(i),O.abrupt("return");case 35:if(i=o.slice(),""===r){O.next=78;break}for(console.log("Hllo"),v=[],m=0,f=!0,g=!1,N=void 0,O.prev=43,y=i[Symbol.iterator]();!(f=(x=y.next()).done);f=!0)S=x.value,C=new Date(S.Date),w=new Date(r),C<w&&v.push(m),m++;O.next=51;break;case 47:O.prev=47,O.t1=O.catch(43),g=!0,N=O.t1;case 51:O.prev=51,O.prev=52,f||null==y.return||y.return();case 54:if(O.prev=54,!g){O.next=57;break}throw N;case 57:return O.finish(54);case 58:return O.finish(51);case 59:for(k=!0,P=!1,j=void 0,O.prev=62,T=v[Symbol.iterator]();!(k=(R=T.next()).done);k=!0)D=R.value,i.splice(D,1);O.next=70;break;case 66:O.prev=66,O.t2=O.catch(62),P=!0,j=O.t2;case 70:O.prev=70,O.prev=71,k||null==T.return||T.return();case 73:if(O.prev=73,!P){O.next=76;break}throw j;case 76:return O.finish(73);case 77:return O.finish(70);case 78:if(""===s){O.next=119;break}for(v=[],m=0,A=!0,F=!1,L=void 0,O.prev=84,I=i[Symbol.iterator]();!(A=(U=I.next()).done);A=!0)V=U.value,J=new Date(V.Date),M=new Date(s),J>M&&v.push(m),m++;O.next=92;break;case 88:O.prev=88,O.t3=O.catch(84),F=!0,L=O.t3;case 92:O.prev=92,O.prev=93,A||null==I.return||I.return();case 95:if(O.prev=95,!F){O.next=98;break}throw L;case 98:return O.finish(95);case 99:return O.finish(92);case 100:for(B=!0,q=!1,Q=void 0,O.prev=103,W=v[Symbol.iterator]();!(B=(G=W.next()).done);B=!0)_=G.value,i.splice(_,1);O.next=111;break;case 107:O.prev=107,O.t4=O.catch(103),q=!0,Q=O.t4;case 111:O.prev=111,O.prev=112,B||null==W.return||W.return();case 114:if(O.prev=114,!q){O.next=117;break}throw Q;case 117:return O.finish(114);case 118:return O.finish(111);case 119:if(""===l&&0===l){O.next=160;break}for(v=[],m=0,z=!0,H=!1,K=void 0,O.prev=125,Y=i[Symbol.iterator]();!(z=($=Y.next()).done);z=!0)X=$.value,parseFloat(X.Amount)<parseFloat(l)&&v.push(m),m++;O.next=133;break;case 129:O.prev=129,O.t5=O.catch(125),H=!0,K=O.t5;case 133:O.prev=133,O.prev=134,z||null==Y.return||Y.return();case 136:if(O.prev=136,!H){O.next=139;break}throw K;case 139:return O.finish(136);case 140:return O.finish(133);case 141:for(Z=!0,ee=!1,te=void 0,O.prev=144,ae=v[Symbol.iterator]();!(Z=(ne=ae.next()).done);Z=!0)re=ne.value,i.splice(re,1);O.next=152;break;case 148:O.prev=148,O.t6=O.catch(144),ee=!0,te=O.t6;case 152:O.prev=152,O.prev=153,Z||null==ae.return||ae.return();case 155:if(O.prev=155,!ee){O.next=158;break}throw te;case 158:return O.finish(155);case 159:return O.finish(152);case 160:if(""===c&&0===parseFloat(c)){O.next=201;break}for(v=[],m=0,se=!0,le=!1,ce=void 0,O.prev=166,oe=i[Symbol.iterator]();!(se=(ie=oe.next()).done);se=!0)me=ie.value,parseFloat(me.Amount)>parseFloat(c)&&v.push(m),m++;O.next=174;break;case 170:O.prev=170,O.t7=O.catch(166),le=!0,ce=O.t7;case 174:O.prev=174,O.prev=175,se||null==oe.return||oe.return();case 177:if(O.prev=177,!le){O.next=180;break}throw ce;case 180:return O.finish(177);case 181:return O.finish(174);case 182:for(de=!0,ue=!1,pe=void 0,O.prev=185,Ee=v[Symbol.iterator]();!(de=(he=Ee.next()).done);de=!0)be=he.value,i.splice(be,1);O.next=193;break;case 189:O.prev=189,O.t8=O.catch(185),ue=!0,pe=O.t8;case 193:O.prev=193,O.prev=194,de||null==Ee.return||Ee.return();case 196:if(O.prev=196,!ue){O.next=199;break}throw pe;case 199:return O.finish(196);case 200:return O.finish(193);case 201:a.cancelButton.click(),a.props.OnOK(i);case 203:case"end":return O.stop()}}),null,null,[[14,18,22,30],[23,,25,29],[43,47,51,59],[52,,54,58],[62,66,70,78],[71,,73,77],[84,88,92,100],[93,,95,99],[103,107,111,119],[112,,114,118],[125,129,133,141],[134,,136,140],[144,148,152,160],[153,,155,159],[166,170,174,182],[175,,177,181],[185,189,193,201],[194,,196,200]])},a.state={JobNumber:"",StartDate:"",EndDate:"",StartPrice:0,EndPrice:0},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSubmit=a.onSubmit.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.JobNumber,n=t.StartDate,r=t.EndDate,l=t.StartPrice,c=t.EndPrice;return s.a.createElement("section",null,s.a.createElement("div",{className:"modal modal-center-vertical",id:"search-transactions-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog",style:{width:"100%",maxWidth:"95%"}},s.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},s.a.createElement("div",{className:"modal-header"},s.a.createElement("div",{className:"text-right"},s.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal",ref:function(t){return e.cancelButton=t}},s.a.createElement("span",{className:"fas fa-times"})))),s.a.createElement("div",{className:"modal-body"},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},s.a.createElement("div",{className:"jumbotron theme-default"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"type-h3 color-default p-t-xxs"},"Search Transactions"),s.a.createElement("div",{className:"row p-t-xxs"},s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Job Number"),s.a.createElement("input",{type:"text",name:"JobNumber",className:"form-control",autoComplete:"off",value:a,onChange:this.onChange}))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Starting Date"),s.a.createElement("input",{type:"date",name:"StartDate",className:"form-control",autoComplete:"off",value:n,onChange:this.onChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Ending Date"),s.a.createElement("input",{type:"date",name:"EndDate",className:"form-control",autoComplete:"off",value:r,onChange:this.onChange}))),s.a.createElement("div",{className:"col-md-8"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Staring Amount (USD)"),s.a.createElement("input",{type:"number",min:"0.00",step:"0.01",name:"StartPrice",className:"form-control",autoComplete:"off",value:l,onChange:this.onChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"control-label"},"Ending Amount (USD)"),s.a.createElement("input",{type:"number",min:"0.00",step:"0.01",name:"EndPrice",className:"form-control",autoComplete:"off",value:c,onChange:this.onChange})))),s.a.createElement("div",{className:"text-right"},s.a.createElement("input",{type:"submit",value:"Search Now",className:"btn btn-primary"}))))))))))}}]),t}(r.Component),du=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).searchTruckAccountStatement=function(e){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!localStorage.Token){n.next=5;break}return t={Token:localStorage.Token,Get:"TruckAccountStatement",Params:{TruckNumber:e}},a.setState({Searching:!0}),n.next=5,O.a.awrap(_t(t).then((function(e){"Account statement found."===e.Message?a.setState({AccountStatement:e.AccountStatement,AllTransactions:e.AccountStatement.Transactions,Searching:!1}):a.setState({AccountStatement:null,AllTransactions:null,Searching:!1})})));case 5:case"end":return n.stop()}}))},a.state={AccountStatement:null,AllTransactions:[],Searching:!1,ShowingSearchResults:!1,Refreshing:!1},a.searchTruckAccountStatement=a.searchTruckAccountStatement.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.SearchTruckAccountStatement(this.searchTruckAccountStatement);case 1:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t=this.state,a=t.AccountStatement,n=t.AllTransactions,r=t.Searching,l=t.ShowingSearchResults;return r||!a?s.a.createElement("section",null,s.a.createElement("div",{className:"jumbotron theme-default",style:{height:"100vh"}},s.a.createElement("div",{className:"container"},r?s.a.createElement("div",{className:"text-center p-xxs"},s.a.createElement("div",{className:"type-h4 color-default"},"Searching"),s.a.createElement(en,null)):s.a.createElement("div",{className:"text-center p-xxs"},s.a.createElement("div",{className:"type-h4"},s.a.createElement("span",{className:"fas fa-exclamation-triangle m-r-xxs",style:{color:"#FFBF15"}}),"No account statement to display. Search the truck by number to view its account statement."))))):s.a.createElement("section",null,s.a.createElement("div",{className:"text-right p-xxs",style:{backgroundColor:"#DDDDDD"}},s.a.createElement(Vr.a,{trigger:function(){return s.a.createElement("button",{className:"btn btn-primary m-t-n"},"Print")},content:function(){return e.TruckAccountStatement}}),l?s.a.createElement("button",{className:"btn btn-secondary m-t-n",onClick:function(){var t=e.state,a=t.AccountStatement,n=t.AllTransactions;a.Transactions=n,e.setState({AccountStatement:a,ShowingSearchResults:!1})}},"Cancel Search"):s.a.createElement("button",{className:"btn btn-secondary m-t-n","data-toggle":"modal","data-target":"#search-transactions-dialog"},"Search Transactions")),l?null:s.a.createElement(mu,{Transactions:n,OnOK:function(t){var a=e.state.AccountStatement;a.Transactions=t,e.setState({AccountStatement:a,ShowingSearchResults:!0})}}),s.a.createElement(iu,{AccountStatement:a,ref:function(t){return e.TruckAccountStatement=t}}))}}]),t}(r.Component),uu=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(w.a)({},t,n))},a.onSearch=function(e){e.preventDefault(),a.SearchTruckAccountStatement(a.state.SearchString)},a.state={SearchString:""},a.onChange=a.onChange.bind(Object(h.a)(a)),a.onSearch=a.onSearch.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.SearchString;return s.a.createElement("section",null,s.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},s.a.createElement("div",{class:"container p-b-xxs m-b-xxs"},s.a.createElement("div",{class:"row"},s.a.createElement("div",{class:"col-xs-18"},s.a.createElement("div",{className:"type-h3 color-light"},s.a.createElement("span",{className:"fas fa-university m-r-xxs"}),"Trucks' Account Statements"))))),s.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),s.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Account Statement"),s.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},s.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},s.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},s.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},s.a.createElement("div",{className:"putbox",style:{margin:"0px"}},s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search Truck Number",style:{maxWidth:"500px",width:"100%"},value:t,onChange:this.onChange})),s.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),s.a.createElement(du,{SearchTruckAccountStatement:function(t){e.SearchTruckAccountStatement=t}}))}}]),t}(r.Component),pu=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(uu,null))}}]),t}(r.Component),Eu=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("section",null,s.a.createElement(Ba,{Heading:"FINANCIAL ACCOUNTS"}),s.a.createElement("ul",{className:"nav nav-tabs theme-alt",role:"tablist",style:{padding:"10px",backgroundColor:"#3A3A3C",width:"100%",margin:"0px"}},s.a.createElement("li",{role:"presentation",className:"active"},s.a.createElement("a",{href:"#account-statement","aria-controls":"account-statement",role:"tab","data-toggle":"tab"},"Account Statement")),s.a.createElement("li",{role:"presentation"},s.a.createElement("a",{href:"#trucks-account-statement","aria-controls":"trucks-account-statement",role:"tab","data-toggle":"tab"},"Trucks' Account Statement"))),s.a.createElement("div",{class:"tab-content"},s.a.createElement("div",{role:"tabpanel",class:"tab-pane active",id:"account-statement"},s.a.createElement(cu,null)),s.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"trucks-account-statement"},s.a.createElement(pu,null))))}}]),t}(r.Component),hu=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).onCloseNavigation=function(){a.setState({Left:-400})},a.state={Left:-400},a.onCloseNavigation=a.onCloseNavigation.bind(Object(h.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return localStorage.Token?s.a.createElement("section",null,s.a.createElement("div",{className:"sidenav",style:{left:"".concat(this.state.Left,"px")}},s.a.createElement("a",{className:"closebtn",onClick:this.onCloseNavigation},"\xd7"),s.a.createElement("div",{class:"entity-list",role:"tablist"},s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#profile","aria-controls":"profile",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Profile")),s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#trucks","aria-controls":"trucks",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Trucks")),s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#financial-accounts","aria-controls":"financial-accounts",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Financial Accounts")),s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#questions","aria-controls":"questions",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Questions")),s.a.createElement("div",{class:"entity-list-item",role:"presentation"},s.a.createElement("a",{href:"#settings","aria-controls":"settings",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Settings")))),s.a.createElement("div",{className:"tab-content"},s.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"profile"},s.a.createElement(jd,null)),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"trucks"},s.a.createElement(Zd,null)),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"financial-accounts"},s.a.createElement(Eu,null)),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"questions"},s.a.createElement(ru,null)),s.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"settings"},s.a.createElement(Fd,null))),s.a.createElement("div",{className:"side-nav-btn",onClick:function(){e.setState({Left:0})}},s.a.createElement("div",{className:"fas fa-bars",style:{fontSize:"x-large"}}))):s.a.createElement(E.a,{to:"/login"})}}]),t}(r.Component),bu=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("a",{id:"up",href:"#top",className:"back-to-top",style:{position:"fixed",right:"20px",bottom:"20px"}},s.a.createElement("i",{className:"glyph glyph-up",style:{color:"#008575"}}),s.a.createElement("span",{className:"sr-only"},"Back to top"))}}]),t}(r.Component),vu=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("footer",{className:"border-top footer theme-default color-bg-light-neutral-high text-light"},s.a.createElement("div",{className:"container"},"\xa9 ",(new Date).getFullYear()," - Core Infinite - ",s.a.createElement("a",{"asp-area":"","asp-controller":"Home","asp-action":"Privacy"},"Privacy")))}}]),t}(r.Component),fu=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(p.a,{basename:"/"},s.a.createElement("div",{className:"App"},s.a.createElement(y,null),s.a.createElement(E.b,{exact:!0,path:"/",component:S}),s.a.createElement(E.b,{exact:!0,path:"/register",component:ga}),s.a.createElement(E.b,{exact:!0,path:"/emailConfirmation",component:Na}),s.a.createElement(E.b,{exact:!0,path:"/setupAccount",component:ya}),s.a.createElement(E.b,{exact:!0,path:"/setupAdministratorAccount",component:xa}),s.a.createElement(E.b,{exact:!0,path:"/setupTransportCompanyResponsibleAccount",component:Sa}),s.a.createElement(E.b,{exact:!0,path:"/congratulations",component:Ca}),s.a.createElement(E.b,{exact:!0,path:"/login",component:fa}),s.a.createElement(E.b,{exact:!0,path:"/drivers",component:js}),s.a.createElement(E.b,{exact:!0,path:"/traders",component:Ao}),s.a.createElement(E.b,{exact:!0,path:"/administrators",component:Cd}),s.a.createElement(E.b,{exact:!0,path:"/transportCompanyResponsibles",component:hu}),s.a.createElement(bu,null),s.a.createElement(vu,null)))}}]),t}(r.Component);c.a.render(s.a.createElement(fu,null),document.getElementById("root"))},8:function(e,t){e.exports={APP_NAME:"Naqel",USER_TOKEN:"userToken",USER_NOT_FOUND:"Username not found.",INVALID_PASSWORD:"Invalid password.",USERNAME_OR_EMAIL_TAKEN:"Username or email is already taken.",NAQEL_SERVER:"https://naqel-server.azurewebsites.net/",IMAGE_UPLOADER:"https://us-central1-naqel-transport-jobs.cloudfunctions.net/uploadImage",STRIPE_PUBLISHABLE_KEY:"pk_test_Wjc5dIC6ytMmH3g1roSUOYcm00FaTN1yBn",STRIPE_SECRET_KEY:"sk_test_RVhdSfOgg0jQHCYLYH8Z05JM00bkPnPBVg"}}},[[185,1,2]]]);
//# sourceMappingURL=main.4f2061e7.chunk.js.map