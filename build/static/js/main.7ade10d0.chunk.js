(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{11:function(e,t){e.exports={APP_NAME:"Naqel",USER_TOKEN:"userToken",USER_NOT_FOUND:"Username not found.",INVALID_PASSWORD:"Invalid password.",USERNAME_OR_EMAIL_TAKEN:"Username or email is already taken.",NAQEL_SERVER:"http://localhost:1337/",IMAGE_UPLOADER:"https://us-central1-naqel-transport-jobs.cloudfunctions.net/uploadImage"}},126:function(e,t,a){e.exports=a(257)},131:function(e,t,a){},160:function(e,t){},162:function(e,t){},199:function(e,t){},200:function(e,t){},257:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(67),l=a.n(s),i=(a(131),a(1)),o=a(2),c=a(4),m=a(3),d=a(5),u=a(14),p=a(29),E=a(6),h=a(8),g=a.n(h),v=a(11),b=a.n(v),f=function(e){function t(){var e;if(Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).logOut=function(t){t.preventDefault(),localStorage.removeItem("userToken"),e.props.history.push("/login")},localStorage.userToken){var a=g()(localStorage.userToken);e.state={Username:a.Username}}else e.state={Username:"User"};return e.logOut=e.logOut.bind(Object(E.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=r.a.createElement("ul",{class:"nav navbar-nav navbar-right"},r.a.createElement("li",null,r.a.createElement(u.b,{to:"/register"},"Register")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/login"},"Login"))),t=r.a.createElement("ul",{class:"nav navbar-nav navbar-right"},r.a.createElement("li",null,r.a.createElement(u.b,{to:"/dashboard"},this.state.Username)),r.a.createElement("li",null,r.a.createElement(u.b,{to:"",onClick:this.logOut.bind(this)},"Logout")));return r.a.createElement("header",null,r.a.createElement("nav",{class:"navbar navbar-default"},r.a.createElement("div",{class:"navbar-local color-accent theme-dark"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"navbar-header"},r.a.createElement("button",{type:"button",class:"navbar-toggle collapsed","data-toggle":"collapse","data-target":"#bs-example-navbar-collapse-2"},r.a.createElement("span",{class:"sr-only"},"Toggle navigation"),r.a.createElement("i",{class:"glyph glyph-hamburger"})),r.a.createElement(u.b,{to:"/",class:"navbar-brand"},b.a.APP_NAME.toUpperCase())),r.a.createElement("div",{class:"collapse navbar-collapse",id:"bs-example-navbar-collapse-2"},r.a.createElement("ul",{class:"nav navbar-nav"}),localStorage.userToken?t:e)))))}}]),t}(n.Component),y=Object(p.e)(f),w=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{id:"slider"},r.a.createElement("div",{class:"jumbotron theme-alt",style:{width:"100%",backgroundColor:"#202020"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"truck.png",src:"./images/truck.png","data-source-index":"2"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3",style:{color:"#008575"}},"Weclome to Naqel"),r.a.createElement("div",{class:"type-sh3",style:{color:"#949496"}},"Transport Services On-The-Go"),r.a.createElement("p",{style:{color:"#D1D2D4"}},"Welcome to Naqel! If you are a trader or a broker, and you want to publish job opportunities for drivers nearby, well, you are on the right place. Naqel is a mediator among traders, brokers and drivers, and provides intuitive and secure way to get transport services."),r.a.createElement("p",{style:{color:"#D1D2D4"}},"Not a Trader or a Broker? No worries! Naqel provides services for drivers too. If you are a driver, and you are searching for job opportunities, you are just one step away. Create your account on our Web Service, and we will notify you job oppprtunities on your personal account."))))),r.a.createElement("div",{class:"jumbotron theme-alt",style:{width:"100%",backgroundColor:"#16171F"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"oath.png",src:"./images/oath.png","data-source-index":"2"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3",style:{color:"#008575"}},"Privacy"),r.a.createElement("div",{class:"type-sh3",style:{color:"#949496"}},"Your Privacy is Important to Us"),r.a.createElement("p",{style:{color:"#D1D2D4"}},"Naqel's Privacy Statement describes the types of data we collect from you, how we use your data, and the legal bases we have to process your data. The Privacy Statement also describes how Naqel uses your content, which is information submitted by you to Naqel via the Services."),r.a.createElement("p",{style:{color:"#D1D2D4"}},"Where processing is based on consent and to the extent permitted by law, by agreeing to these Terms, you consent to Naqel's collection, use and disclosure of your content and data as described in the privacy statement."))))),r.a.createElement("div",{class:"jumbotron theme-alt",style:{width:"100%",backgroundColor:"#00201C"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"account.png",src:"./images/account.png","data-source-index":"2"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3",style:{color:"#008575"}},"User Accounts"),r.a.createElement("div",{class:"type-sh3",style:{color:"#949496"}},"Signup and/or Login"),r.a.createElement("p",{style:{color:"#D1D2D4"}},"Do you want to use our services right now? No Worries! Just signup by filling up precise forms and/or login to your profile. Drivers can view job opprotunities on their dashboards. Traders and/or Brokers can post job requests for freight from thier accounts."),r.a.createElement("div",{class:"btn-group"},r.a.createElement(u.b,{to:"/register",class:"btn btn-secondary"},"Signup"),r.a.createElement(u.b,{to:"/login",class:"btn btn-primary"},"Login"))))))),r.a.createElement("div",{class:"jumbotron theme-dark",style:{backgroundColor:"#202020"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-24 text-center"},r.a.createElement("div",{class:"row section-gallery"},r.a.createElement("div",{class:"col-md-8"},r.a.createElement("h4",{style:{fontWeight:"bold"}},"LOCATION"),r.a.createElement("div",{class:"type-p1 text-center"},"Wah",r.a.createElement("br",null),"Punjab, Pakistan")),r.a.createElement("div",{class:"col-md-8"},r.a.createElement("h4",{style:{fontWeight:"bold"}},"AROUND THE GLOBE"),r.a.createElement("div",{class:"type-p1 text-center text-light",style:{color:"#25AAE1"}},r.a.createElement("a",{class:"fa",href:"#"},r.a.createElement("i",{class:"fab fa-fw fa-facebook-f"})),r.a.createElement("a",{class:"fa",href:"#"},r.a.createElement("i",{class:"fab fa-fw fa-instagram"})),r.a.createElement("a",{class:"fa",href:"#"},r.a.createElement("i",{class:"fab fa-fw fa-twitter"})))),r.a.createElement("div",{class:"col-md-8"},r.a.createElement("h4",{style:{fontWeight:"bold"}},"CONTACT US"),r.a.createElement("div",{class:"type-p1 text-center"},"Naqel is created by Core Infinite. For more information, visit ",r.a.createElement("a",{style:{textDecoration:"none",color:"#008575"},href:"#",class:"color-type-accent"},"coreinfinte.com")))))))))}}]),t}(n.Component),x=a(13),k=a(7),N=a.n(k),P=a(9),C=a.n(P),S=function(e){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.awrap(C.a.post("".concat(b.a.NAQEL_SERVER,"users/dashboard/usernameAndEmailSettings"),{DriverID:e.DriverID,Username:e.Username,Email:e.Email}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},O=function(e){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.awrap(C.a.post("".concat(b.a.NAQEL_SERVER,"users/dashboard/passwordSettings"),{DriverID:e.DriverID,Password:e.Password}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},T=function(e){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.awrap(C.a.post("".concat(b.a.NAQEL_SERVER,"users/uploadDriverProfilePhoto"),{DriverID:e.DriverID,URL:e.URL,FileName:e.FileName}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},U=function(e){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.awrap(C.a.post("".concat(b.a.NAQEL_SERVER,"users/dashboard/addTruck"),{Token:e.Token,PlateNumber:e.PlateNumber,Owner:e.Owner,ProductionYear:e.ProductionYear,Brand:e.Brand,Model:e.Model,Type:e.Type,MaximumWeight:e.MaximumWeight,PhotoURL:e.PhotoURL}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},I=function(e){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.awrap(C.a.post("".concat(b.a.NAQEL_SERVER,"users/dashboard/updateTruckPhoto"),{Token:e.Token,PhotoURL:e.PhotoURL}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},j=function(e){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.awrap(C.a.post("".concat(b.a.NAQEL_SERVER,"users/dashboard/updateTruck"),{Token:e.Token,PlateNumber:e.PlateNumber,Owner:e.Owner,ProductionYear:e.ProductionYear,Brand:e.Brand,Model:e.Model,Type:e.Type,MaximumWeight:e.MaximumWeight}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},D=function(e){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.awrap(C.a.post("".concat(b.a.NAQEL_SERVER,"users/dashboard/addTrailer"),{Token:e.Token,MaximumWeight:e.MaximumWeight,PhotoURL:e.PhotoURL,Type:e.Type}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},A=function(e){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.awrap(C.a.post("".concat(b.a.NAQEL_SERVER,"users/dashboard/deleteTrailer"),{Token:e.Token,TrailerID:e.TrailerID}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},V=function(e){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.awrap(C.a.post("".concat(b.a.NAQEL_SERVER,"users/dashboard/updateTrailer"),{Token:e.Token,TrailerID:e.TrailerID,MaximumWeight:e.MaximumWeight,PhotoURL:e.PhotoURL,Type:e.Type}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},M=function(e){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.awrap(C.a.post("".concat(b.a.NAQEL_SERVER,"users/dashboard/tbusernameAndEmailSettings"),{TraderID:e.TraderID,UserName:e.UserName,Email:e.Email}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},F=function(e){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.awrap(C.a.post("".concat(b.a.NAQEL_SERVER,"users/dashboard/tbpasswordSettings"),{TraderID:e.TraderID,Password:e.Password}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},R=function(e){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.awrap(C.a.post("".concat(b.a.NAQEL_SERVER,"users/uploadTraderBrokerProfilePhoto"),{TraderID:e.TraderID,URL:e.URL,FileName:e.FileName}).then((function(e){return e.data})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},L={paddingLeft:"5px",fontWeight:"bold"},B={background:"rgba(0, 0, 0, 0.8)",position:"fixed",zIndex:"10",top:"0px",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},W=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:B},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("img",{src:"./images/preloader.gif",alt:"preloader.gif",height:"200"})))}}]),t}(n.Component),G={backgroundImage:"url(/images/login_back.jpg)",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover"},_={backgroundImage:"url(/images/signup_back.jpg)",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover"},Y={backgroundImage:"url(/images/passcode_back.jpg)",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover"},X={backgroundImage:"url(/images/create_account_back.jpg)",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover"},q={backgroundImage:"url(/images/congrats_back.jpg)",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover"},Q={backgroundColor:"rgba(229, 229, 229, 0.8)",height:"auto",width:"350px",padding:"30px",alignContent:"center",boxShadow:"0 6px 6px rgba(0, 0, 0, 0.6)"},z={backgroundColor:"rgba(229, 229, 229, 0.8)",height:"auto",padding:"30px",alignContent:"center",boxShadow:"0 6px 6px rgba(0, 0, 0, 0.6)"},$={backgroundColor:"rgba(229, 229, 229, 0.8)",height:"auto",width:"60%",margin:"50px",boxShadow:"0 6px 6px rgba(0, 0, 0, 0.6)"},H={width:"100%"},J={paddingTop:"10px"},K=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){e.setState(Object(x.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){if(t.preventDefault(),""!=e.state.EmailOrUsername&&""!=e.state.Password){e.setState({Preloader:r.a.createElement(W,null)});var a={EmailOrUsername:e.state.EmailOrUsername,Password:e.state.Password,SignInAs:e.state.SignInAs};"Driver"==e.state.SignInAs?function(e){return C.a.post("".concat(b.a.NAQEL_SERVER,"users/login"),{EmailOrUsername:e.EmailOrUsername,Password:e.Password,SignInAs:e.SignInAs}).then((function(e){return 0==e.data.localeCompare(b.a.USER_NOT_FOUND)||0==e.data.localeCompare(b.a.INVALID_PASSWORD)?e.data:(localStorage.setItem("userToken",e.data),e.data)})).catch((function(e){console.log(e)}))}(a).then((function(t){t&&localStorage.userToken?e.props.history.push("/dashboard"):e.setState({NullError:!1,InvalidUsernameOrPassword:!0,Preloader:null})})):function(e){return C.a.post("".concat(b.a.NAQEL_SERVER,"users/traderbrokerlogin"),{EmailOrUsername:e.EmailOrUsername,Password:e.Password,SignInAs:e.SignInAs}).then((function(e){return 0==e.data.localeCompare(b.a.USER_NOT_FOUND)||0==e.data.localeCompare(b.a.INVALID_PASSWORD)?e.data:(localStorage.setItem("userToken",e.data),e.data)})).catch((function(e){console.log(e)}))}(a).then((function(t){t&&localStorage.userToken?e.props.history.push("/traderdashboard"):e.setState({NullError:!1,InvalidUsernameOrPassword:!0,Preloader:null})}))}else e.setState({NullError:!0,InvalidUsernameOrPassword:!1})},e.state={EmailOrUsername:"",Password:"",SignInAs:"Driver",NullError:!1,InvalidUsernameOrPassword:!1,Preloader:null,Errors:{}},e.onChange=e.onChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return localStorage.userToken?(this.props.history.push("/dashboard"),r.a.createElement("a",null)):r.a.createElement("div",null,r.a.createElement("div",{className:"middle",style:G},r.a.createElement("div",{className:"theme-default animated fadeIn",style:Q},r.a.createElement("div",{style:H},r.a.createElement("img",{src:"./images/login.png",alt:"Login.png",height:"60"}),r.a.createElement("div",{class:"type-h3",style:J},"Sign In"),r.a.createElement("br",null),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"EmailOrUsername",class:"control-label"},"Email or Username"),r.a.createElement("input",{type:"email",class:"form-control",name:"EmailOrUsername",placeholder:"someone@provider.com",value:this.state.EmailOrUsername,onChange:this.onChange})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"Password",class:"control-label"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",name:"Password",placeholder:"Password",value:this.state.Password,onChange:this.onChange})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Sign In As"),r.a.createElement("div",{class:"dropdown",style:{width:"100%"}},r.a.createElement("button",{id:"example-dropdown",class:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.SignInAs),r.a.createElement("span",{class:"caret"})),r.a.createElement("ul",{class:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement(u.b,{onClick:function(t){e.state.SignInAs="Driver"},onChange:this.onChange},"Driver")),r.a.createElement("li",null,r.a.createElement(u.b,{onClick:function(t){e.state.SignInAs="Trader"},onChange:this.onChange},"Trader")),r.a.createElement("li",null,r.a.createElement(u.b,{onClick:function(t){e.state.SignInAs="Broker"},onChange:this.onChange},"Broker"))))),r.a.createElement("div",{class:"form-group"},this.state.NullError&&r.a.createElement("div",null,r.a.createElement("label",{class:"control-label text-danger"},"Email/Username and password is required."),r.a.createElement("br",null)),this.state.InvalidUsernameOrPassword&&r.a.createElement("div",null,r.a.createElement("label",{class:"control-label text-danger"},"Invalid username or password."),r.a.createElement("br",null)),r.a.createElement("label",{class:"control-label"},r.a.createElement(u.b,{to:"/"},"Forgot password")),r.a.createElement("br",null),r.a.createElement("label",{class:"control-label"},"No account? ",r.a.createElement("span",null,r.a.createElement(u.b,{to:"/register"},"Register now")))),r.a.createElement("div",null,r.a.createElement("input",{type:"submit",value:"Sign In",class:"btn btn-primary"})))))),this.state.Preloader)}}]),t}(n.Component),Z=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(x.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){if(t.preventDefault(),""!==e.state.Username&&""!==e.state.Email&&""!==e.state.Password&&""!==e.state.ConfirmPassword){var a={Username:e.state.Username,Password:e.state.Password,Email:e.state.Email,RegisterAs:e.state.RegisterAs};"Driver"==a.RegisterAs?function(e){return C.a.post("".concat(b.a.NAQEL_SERVER,"users/register"),{Username:e.Username,Email:e.Email,Password:e.Password,RegisterAs:e.RegisterAs}).then((function(e){return 0==e.data.localeCompare(b.a.USERNAME_OR_EMAIL_TAKEN)?e.data:(localStorage.setItem("newCredentialsToken",e.data),e.data)}))}(a).then((function(t){t&&localStorage.newCredentialsToken?e.props.history.push("/emailConfirmation"):e.setState({NullError:!1,UsernameOrEmailTaken:!0})})):"Trader"!=a.RegisterAs&&"Broker"!=a.RegisterAs||function(e){return C.a.post("".concat(b.a.NAQEL_SERVER,"users/traderRegister"),{Username:e.Username,Email:e.Email,Password:e.Password,RegisterAs:e.RegisterAs}).then((function(e){return 0==e.data.localeCompare(b.a.USERNAME_OR_EMAIL_TAKEN)?e.data:(localStorage.setItem("newCredentialsToken",e.data),e.data)}))}(a).then((function(t){t&&localStorage.newCredentialsToken?e.props.history.push("/emailConfirmation"):e.setState({NullError:!1,UsernameOrEmailTaken:!0})}))}else e.setState({NullError:!0,UsernameOrEmailTaken:!1})},e.state={Username:"",Email:"",Password:"",ConfirmPassword:"",RegisterAs:"Driver",NullError:!1,PasswordsMatched:!1,UsernameOrEmailTaken:!1,ValidEmail:!1,ValidPassword:!1,ValidForm:!1,Agreed:!1,Errors:{Email:"",Password:"",ConfirmPassword:"",Agreed:""}},e.onChange=e.onChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateField",value:function(e,t){var a=this.state.Errors,n=this.state.ValidEmail,r=this.state.ValidPassword,s=this.state.PasswordsMatched,l=this.state.Agreed;switch(e){case"Email":n=t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),a.Email=n?"":"Email is invalid.";break;case"Password":r=t.length>=6,a.Password=r?"":"Password is too short.";break;case"ConfirmPassword":s=this.state.Password===t,a.ConfirmPassword=s?"":"Passwords did not match.";break;case"IsAgree":l=this.refs.agreementCheckBox.checked}this.setState({Errors:a,ValidEmail:n,ValidPassword:r,PasswordsMatched:s,Agreed:l},this.validateForm)}},{key:"validateForm",value:function(){this.setState({ValidForm:this.state.ValidEmail&&this.state.ValidPassword&&this.state.PasswordsMatched&&this.state.Agreed})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{class:"middle",style:_},r.a.createElement("div",{class:"theme-default animated fadeIn",style:Q},r.a.createElement("div",{style:H},r.a.createElement("img",{src:"./images/signup.png",alt:"signup.png",height:"60"}),r.a.createElement("div",{class:"type-h3",style:J},"Sign Up"),r.a.createElement("br",null),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"Username",class:"control-label"},"Username"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("input",{htmlFor:"Username",type:"text",name:"Username",class:"form-control",autocomplete:"off",value:this.state.Username,onChange:this.onChange,required:!0})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"Email",class:"control-label"},"Email"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("input",{htmlFor:"Email",type:"email",name:"Email",class:"form-control",placeholder:"someone@example.com",autocomplete:"off",value:this.state.Email,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Email)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"Password",class:"control-label"},"Password"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("input",{htmlFor:"Password",type:"password",name:"Password",class:"form-control",value:this.state.Password,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Password)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"ConfirmPassword",class:"control-label"},"Confirm Password"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("input",{htmlFor:"ConfirmPassword",type:"password",name:"ConfirmPassword",class:"form-control",value:this.state.ConfirmPassword,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.ConfirmPassword)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Register As"),r.a.createElement("div",{class:"dropdown",style:{width:"100%",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",class:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.RegisterAs),r.a.createElement("span",{class:"caret"})),r.a.createElement("ul",{class:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement(u.b,{onClick:function(t){e.state.RegisterAs="Driver"},onChange:this.onChange},"Driver")),r.a.createElement("li",null,r.a.createElement(u.b,{onClick:function(t){e.state.RegisterAs="Trader"},onChange:this.onChange},"Trader")),r.a.createElement("li",null,r.a.createElement(u.b,{onClick:function(t){e.state.RegisterAs="Broker"},onChange:this.onChange},"Broker"))))),r.a.createElement("div",null,r.a.createElement("div",{class:"checkbox"},r.a.createElement("label",{class:"control-label"},r.a.createElement("input",{ref:"agreementCheckBox",type:"checkbox",name:"IsAgree",value:"",onChange:this.onChange}),r.a.createElement("span",null,"Agree with our "),r.a.createElement("span",null,r.a.createElement(u.b,{"data-toggle":"modal","data-target":"#terms"},"Terms and Conditions"))))),r.a.createElement("div",{class:"form-group"},this.state.NullError&&r.a.createElement("div",null,r.a.createElement("label",{class:"control-label text-danger"},"All fields are required."),r.a.createElement("br",null)),this.state.UsernameOrEmailTaken&&r.a.createElement("div",null,r.a.createElement("label",{class:"control-label text-danger"},"Username or email is already taken."),r.a.createElement("br",null)),this.state.AgreementError&&r.a.createElement("div",null,r.a.createElement("label",{class:"control-label text-danger"},"You must agree to our terms and conditions."),r.a.createElement("br",null)),r.a.createElement("label",{class:"control-label"},"Have an account? ",r.a.createElement("span",null,r.a.createElement(u.b,{to:"/login"},"Sign In Now!")))),r.a.createElement("input",{type:"submit",value:"Next",class:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{class:"modal",id:"terms",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content animated fadeIn"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h4",{class:"modal-title",id:"modal-sample-label"},"Terms of Use")),r.a.createElement("div",{class:"modal-body text-justify"},"Your privacy is important to us. ",r.a.createElement("span",null,b.a.APP_NAME),"'s Privacy Statement describes the types of data we collect from you, how we use your Data, and the legal bases we have to process your Data. The Privacy Statement also describes how ",String.APP_NAME," uses your content, which is information submitted by you to ",b.a.APP_NAME," via the Services. Where processing is based on consent and to the extent permitted by law, by agreeing to these Terms, you consent to ",b.a.APP_NAME,"\ufffd collection, use and disclosure of your content and data as described in the privacy statement. In some cases, we will provide separate notice and request your consent as referenced in the privacy statement."),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-info","data-dismiss":"modal"},"Ok"))))))}}]),t}(n.Component),ee=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){e.setState(Object(x.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a=g()(localStorage.newCredentialsToken).Code;""!==e.state.ConfirmationCode?e.state.ConfirmationCode==a?(localStorage.setItem("verifiedCredentialsToken",localStorage.newCredentialsToken),localStorage.removeItem("newCredentialsToken"),e.props.history.push("/accountSetup")):e.setState({NullError:!1,InvalidCodeError:!0}):e.setState({NullError:!0,InvalidCodeError:!1})},e.state={ConfirmationCode:0,NullError:!1,InvalidCodeError:!1,Errors:{}},e.onChange=e.onChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return localStorage.newCredentialsToken?r.a.createElement("div",{class:"middle",style:Y},r.a.createElement("div",{class:"theme-default animated fadeIn",style:Q},r.a.createElement("div",{style:H},r.a.createElement("img",{src:"./images/passcode.png",alt:"passcode.png",height:"60"}),r.a.createElement("div",{class:"type-h3",style:J},"Email Confirmation"),r.a.createElement("div",{class:"type-sh3"},"We delivered a confirmation code to your email."),r.a.createElement("br",null),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"ConfirmationCode",class:"control-label"},"Confirmation Code"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("input",{htmlFor:"ConfirmationCode",type:"text",name:"ConfirmationCode",class:"form-control",value:this.state.ConfirmationCode,onChange:this.onChange})),r.a.createElement("div",{class:"form-group"},this.state.NullError&&r.a.createElement("div",null,r.a.createElement("label",{class:"control-label text-danger"},"Confirmation code is required."),r.a.createElement("br",null)),this.state.InvalidCodeError&&r.a.createElement("div",null,r.a.createElement("label",{class:"control-label text-danger"},"Invalid code."),r.a.createElement("br",null))),r.a.createElement("input",{type:"submit",value:"Next",class:"btn btn-primary"}))))):(this.props.history.push("/register"),r.a.createElement("a",null))}}]),t}(n.Component),te=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){e.setState(Object(x.a)({},t.target.name,t.target.value))},e.onSubmit=function(t){if(t.preventDefault(),""!==e.state.FirstName&&""!==e.state.LastName&&""!==e.state.DateOfBirth&&""!==e.state.Nationality&&""!==e.state.Address&&""!==e.state.PhoneNumber){if(localStorage.verifiedCredentialsToken){var a=g()(localStorage.verifiedCredentialsToken);e.state.Username=a.Username,e.state.Email=a.Email,e.state.Password=a.Password,e.state.RegisterAs=a.RegisterAs}var n={Username:e.state.Username,Email:e.state.Email,Password:e.state.Password,RegisterAs:e.state.RegisterAs,FirstName:e.state.FirstName,LastName:e.state.LastName,DateOfBirth:e.state.DateOfBirth,Gender:e.refs.Gender.value,Address:e.state.Address,PhoneNumber:e.state.PhoneNumber,Nationality:e.state.Nationality};"Driver"==n.RegisterAs&&function(e){return C.a.post("".concat(b.a.NAQEL_SERVER,"users/accountSetup"),{Username:e.Username,Email:e.Email,Password:e.Password,RegisterAs:e.RegisterAs,FirstName:e.FirstName,LastName:e.LastName,DateOfBirth:e.DateOfBirth,Gender:e.Gender,Address:e.Address,PhoneNumber:e.PhoneNumber,Nationality:e.Nationality}).then((function(e){console.log(e.data)}))}(n).then((function(t){localStorage.removeItem("verifiedCredentialsToken"),localStorage.setItem("IsCreatedSuccessfully",!0),e.props.history.push("/congratulations")})),"Trader"!=n.RegisterAs&&"Broker"!=n.RegisterAs||function(e){return C.a.post("".concat(b.a.NAQEL_SERVER,"users/accountSetup"),{Username:e.Username,Email:e.Email,Password:e.Password,RegisterAs:e.RegisterAs,FirstName:e.FirstName,LastName:e.LastName,DateOfBirth:e.DateOfBirth,Gender:e.Gender,Address:e.Address,PhoneNumber:e.PhoneNumber,Nationality:e.Nationality}).then((function(e){console.log(e.data)}))}(n).then((function(t){localStorage.removeItem("verifiedCredentialsToken"),localStorage.setItem("IsCreatedSuccessfully",!0),e.props.history.push("/congratulations")}))}else e.setState({NullError:!0})},e.state={Username:"",Email:"",Password:"",RegisterAs:"",FirstName:"",LastName:"",DateOfBirth:"",Nationality:"",Address:"",PhoneNumber:"",NullError:!1,Errors:{}},e.onChange=e.onChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return localStorage.verifiedCredentialsToken?r.a.createElement("div",{class:"middle",style:X},r.a.createElement("div",{class:"theme-default animated fadeIn",style:z},r.a.createElement("div",{style:H},r.a.createElement("img",{src:"./images/create_account.png",atl:"create_account.png",height:"60"}),r.a.createElement("div",{class:"type-h3",style:J},"Create Account"),r.a.createElement("div",{class:"type-sh3"},"Just one more step, and you're done!"),r.a.createElement("br",null),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-8"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"FirstName",class:"control-label"},"First Name"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("input",{type:"text",className:"form-control",name:"FirstName",autocomplete:"off",value:this.state.FirstName,onChange:this.onChange})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"LastName",class:"control-label"},"Last Name"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("input",{type:"text",className:"form-control",name:"LastName",autocomplete:"off",value:this.state.LastName,onChange:this.onChange})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"DateOfBirth",class:"control-label"},"Date of Birth"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("input",{type:"date",class:"form-control",name:"DateOfBirth",autocomplete:"off",value:this.state.DateOfBirth,onChange:this.onChange}))),r.a.createElement("div",{class:"col-md-8"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"Gender",class:"control-label"},"Gender"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("select",{ref:"Gender",htmlFor:"Gender",class:"form-control"},r.a.createElement("option",{value:"Male",selected:!0},"Male"),r.a.createElement("option",{value:"Female"},"Female"))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"Nationality",class:"control-label"},"Nationality"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("input",{type:"text",className:"form-control",name:"Nationality",autocomplete:"off",value:this.state.Nationality,onChange:this.onChange})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"PhoneNumber",class:"control-label"},"Phone Number"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("input",{type:"text",className:"form-control",name:"PhoneNumber",placeholder:"+XXXXXXXXXXXX",value:this.state.PhoneNumber,onChange:this.onChange}))),r.a.createElement("div",{class:"col-md-8"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"Address",class:"control-label"},"Address"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("textarea",{class:"form-control",rows:"5",name:"Address",autocomplete:"off",value:this.state.Address,onChange:this.onChange})))),r.a.createElement("div",{class:"form-group"},this.state.NullError&&r.a.createElement("div",null,r.a.createElement("label",{class:"control-label text-danger"},"All fields are required."),r.a.createElement("br",null))),r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"submit",value:"Create",class:"btn btn-primary"})))))):(this.props.history.push("/register"),r.a.createElement("a",null))}}]),t}(n.Component),ae=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onSubmit=function(t){t.preventDefault(),localStorage.removeItem("IsCreatedSuccessfully"),e.props.history.push("/login")},e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return localStorage.IsCreatedSuccessfully?r.a.createElement("div",{class:"middle",style:q},r.a.createElement("div",{class:"jumbotron theme-default animated fadeIn",style:$},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"congrats.png",src:"./images/congrats.png","data-source-index":"2"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3"},"Congratulations"),r.a.createElement("div",{class:"type-sh3"},"Your account has been created successfully."),r.a.createElement("br",null),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("input",{type:"submit",value:"Sign In",class:"btn btn-primary"}))))))):(this.props.history.push("/register"),r.a.createElement("a",null))}}]),t}(n.Component),ne={padding:"10px",backgroundColor:"#3A3A3C",width:"100%",margin:"0px"},re=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onImageUpload=function(e){a.state.Image=e.target.files[0],console.log(a.state.Image);var t=new FormData;try{t.append("DriverID",a.state.DriverID),t.append("ImageCategory",a.state.ImageCategory),t.append("Image",a.state.Image,a.state.Image.name)}catch(n){return void a.setState({UploadProgress:null})}C.a.post(b.a.IMAGE_UPLOADER,t,{onUploadProgress:function(e){a.setState({UploadProgress:r.a.createElement("div",{class:"progress-bar"},r.a.createElement("div",{class:"progress-circle"}),r.a.createElement("div",{class:"progress-circle"}),r.a.createElement("div",{class:"progress-circle"}),r.a.createElement("div",{class:"progress-circle"}),r.a.createElement("div",{class:"progress-circle"}))})}}).then((function(e){var t;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=e.data,console.log(e),"Image uploaded successfully."!==e.message){n.next=6;break}return t={DriverID:a.state.DriverID,URL:e.imageUrl,FileName:e.filename},n.next=6,N.a.awrap(T(t).then((function(t){"Driver's profile photo is updated."!==t&&"Driver's profile photo is added."!==t||a.setState({ImageURL:e.imageUrl,UploadProgress:null})})));case 6:case"end":return n.stop()}}))})).catch((function(){a.props.OnImageUploaded("Invalid Image."),a.setState({ImageURL:"./images/defaultProfilePhoto.png",UploadProgress:null})}))},a.onSubmit=function(e){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault();case 1:case"end":return t.stop()}}))},a.state={Image:null,ImageURL:"./images/defaultProfilePhoto.png",DriverID:null,ImageCategory:"ProfilePicture",UploadProgress:null},a.onImageUpload=a.onImageUpload.bind(Object(E.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=g()(localStorage.userToken);this.setState({ImageURL:e.ProfilePhotoURL}),this.setState({DriverID:e.DriverID})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:this.onImageUpload,style:{display:"none"},ref:function(t){return e.fileInput=t}}),r.a.createElement("figure",{class:"media"},r.a.createElement("div",{class:"media-img media-img-has-play ratio-movie",style:Object(x.a)({width:"200px",height:"200px",border:"0px",padding:"0px"},"border","5px solid #3A3A3C")},r.a.createElement("a",{href:"#",onClick:function(){return e.fileInput.click()}},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:this.state.ImageURL,alt:"ProfilePhoto.png"}),r.a.createElement("i",{class:"glyph glyph-edit"})))),this.state.UploadProgress)}}]),t}(n.Component),se=function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"alert alert-warning alert-dismissible fade in",role:"alert",style:{marginBottom:"0px"}},r.a.createElement("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close",onClick:this.props.OnClose(null)},r.a.createElement("span",{"aria-hidden":"true"},r.a.createElement("i",{class:"glyph glyph-cancel"}))),r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xs-24"},r.a.createElement("p",null,this.props.Message)))))}}]),t}(n.Component),le=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onImageUploaded=function(t){t?e.setState({WarningAlert:r.a.createElement(se,{Message:t,OnClose:e.onImageUploaded})}):e.setState({WarningAlert:null})},e.state={Username:"",Password:"",Email:"",FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:"",WarningAlert:null,Errors:{}},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=g()(localStorage.userToken);this.setState({Username:e.Username,Password:e.Password,Email:e.Email,FirstName:e.FirstName,LastName:e.LastName,DateOfBirth:e.DateOfBirth,Gender:e.Gender,Address:e.Address,PhoneNumber:e.PhoneNumber,Nationality:e.Nationality})}else this.setState({Username:"",Password:"",Email:"",FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:""})}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.WarningAlert,r.a.createElement("div",{class:"jumbotron theme-default"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",{class:"form-group",style:{marginBottom:"5px"}},r.a.createElement(re,{OnImageUploaded:this.onImageUploaded}))),r.a.createElement("div",{class:"col-md-18"},r.a.createElement("div",{class:"type-h3",style:{color:"#008575",paddingTop:"0px"}},this.state.FirstName+" "+this.state.LastName),r.a.createElement("div",{class:"type-sh3"},r.a.createElement("span",{class:"fa fa-car"}),"   Driver"),r.a.createElement("div",null,r.a.createElement("ol",{class:"list-items theme-alt"},r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fa fa-at",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("a",{style:{textDecoration:"none"}},"Username:")),r.a.createElement("div",{class:"col-md-6"},this.state.Username))),r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fa fa-envelope",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("a",{style:{textDecoration:"none"}},"Email:")),r.a.createElement("div",{class:"col-md-6"},this.state.Email))),r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fa fa-phone",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("a",{style:{textDecoration:"none"}},"Phone Number:")),r.a.createElement("div",{class:"col-md-6"},this.state.PhoneNumber))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{class:"btn btn-primary",href:"#"},"Driving Licence"),r.a.createElement("button",{class:"btn btn-primary",href:"#"},"Exit/Entry"),r.a.createElement("button",{class:"btn btn-primary",href:"#"},"Identity Card"),r.a.createElement("button",{class:"btn btn-primary",href:"#"},"Permit Licence"))))),r.a.createElement("div",{class:"jumbotron theme-dark",style:{backgroundColor:"#161616"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col"},r.a.createElement("div",{class:"type-h3",style:{paddingTop:"10px"}},"Details"),r.a.createElement("ol",{class:"list-items theme-alt"},r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fa fa-at",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("a",{style:{textDecoration:"none"}},"Username:")),r.a.createElement("div",{class:"col-md-4"},this.state.Username))),r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fa fa-envelope",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("a",{style:{textDecoration:"none"}},"Email:")),r.a.createElement("div",{class:"col-md-4"},this.state.Email))),r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fa fa-birthday-cake",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("a",{style:{textDecoration:"none"}},"Date of Birth:")),r.a.createElement("div",{class:"col-md-4"},this.state.DateOfBirth))),r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},"Male"===this.state.Gender&&r.a.createElement("strong",null,r.a.createElement("span",{class:"fa fa-male",style:{color:"#008575"}})),"Female"===this.state.Gender&&r.a.createElement("strong",null,r.a.createElement("span",{class:"fa fa-female",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("a",{style:{textDecoration:"none"}},"Gender:")),r.a.createElement("div",{class:"col-md-4"},this.state.Gender))),r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fa fa-flag",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("a",{style:{textDecoration:"none"}},"Nationality:")),r.a.createElement("div",{class:"col-md-4"},this.state.Nationality))),r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fa fa-phone",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("a",{style:{textDecoration:"none"}},"Phone Number:")),r.a.createElement("div",{class:"col-md-4"},this.state.PhoneNumber))),r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fa fa-map-marker",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("a",{style:{textDecoration:"none"}},"Address:")),r.a.createElement("div",{class:"col-md-4"},this.state.Address)))))))))}}]),t}(n.Component),ie=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onImageUpload=function(e){if((a.state.Image=e.target.files[0],a.state.Image)&&!a.state.Image.type.startsWith("image"))return void a.props.OnInvalidImageSelected();var t=new FormData;try{t.append("DriverID",a.state.DriverID),t.append("ImageCategory",a.props.ImageCategory),t.append("Image",a.state.Image,a.state.Image.name)}catch(n){return void a.setState({UploadProgress:null})}C.a.post(b.a.IMAGE_UPLOADER,t,{onUploadProgress:function(e){a.setState({UploadProgress:r.a.createElement("div",{class:"progress-bar"},r.a.createElement("div",{class:"progress-circle"}),r.a.createElement("div",{class:"progress-circle"}),r.a.createElement("div",{class:"progress-circle"}),r.a.createElement("div",{class:"progress-circle"}),r.a.createElement("div",{class:"progress-circle"}))})}}).then((function(e){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:a.props.OnImageUploaded(e.data),a.setState({UploadProgress:null});case 2:case"end":return t.stop()}}))})).catch((function(e){a.props.OnImageUploaded(e),a.setState({UploadProgress:null})}))},a.onSubmit=function(e){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault();case 1:case"end":return t.stop()}}))},a.state={Image:null,DriverID:null,UploadProgress:null},a.onImageUpload=a.onImageUpload.bind(Object(E.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=g()(localStorage.userToken);this.setState({DriverID:e.DriverID})}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:this.onImageUpload,style:{display:"none"},ref:function(t){return e.fileInput=t}}),r.a.createElement("figure",{class:"media"},r.a.createElement("div",{class:"media-img media-img-has-play ratio-movie",style:Object(x.a)({width:this.props.Width,height:this.props.Height,border:"0px",padding:"0px"},"border","5px solid #3A3A3C")},r.a.createElement("a",{onClick:function(){return e.fileInput.click()}},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:this.props.Source,alt:"dafault-image.png"}),r.a.createElement("i",{class:"glyph glyph-edit"})))),this.state.UploadProgress)}}]),t}(n.Component),oe=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(x.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),e.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.getItem("userToken"),PlateNumber:e.state.PlateNumber,Owner:e.state.Owner,ProductionYear:e.state.ProductionYear,Brand:e.state.Brand,Model:e.state.Model,Type:e.state.Type,MaximumWeight:e.state.MaximumWeight},e.setState({Preloader:r.a.createElement(W,null)}),n.next=7,N.a.awrap(j(a).then((function(t){"Truck is updated in database."===t.Message&&(localStorage.setItem("userToken",t.Token),e.setState({Preloader:null}),e.props.OnTruckSettingsUpdated())})));case 7:case"end":return n.stop()}}))},e.state={PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:"",ValidPlateNumber:!0,ValidOwner:!0,ValidProductionYear:!0,ValidBrand:!0,ValidModel:!0,ValidType:!0,ValidMaximumWeight:!0,ValidForm:!1,Preloader:null,Errors:{PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:""}},e.onChange=e.onChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=g()(localStorage.userToken).Truck;this.setState({PlateNumber:e.PlateNumber,Owner:e.Owner,ProductionYear:e.ProductionYear,Brand:e.Brand,Model:e.Model,Type:e.Type,MaximumWeight:e.MaximumWeight})}else this.setState({PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:""})}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidPlateNumber,s=this.state.ValidOwner,l=this.state.ValidProductionYear,i=this.state.ValidBrand,o=this.state.ValidModel,c=this.state.ValidType,m=this.state.MaximumWeight;switch(e){case"PlateNumber":r=""!==t&&t>=1&&t<=999,n.PlateNumber=r?"":"Plate Number must be between 001 and 999.";break;case"Owner":s=""!==t,n.Owner=s?"":"Owner is required.";break;case"ProductionYear":var d=(new Date).getFullYear();l=""!==t&&t>=2e3&&t<=d,n.ProductionYear=l?"":"Production Year must be between 2000 and ".concat(d);break;case"Brand":i=""!==t,n.Brand=i?"":"Brand is required.";break;case"Model":o=""!==t,n.Model=o?"":"Model is required.";break;case"Type":c=""!==t,n.Type=c?"":"Type is required";break;case"MaximumWeight":m=""!==t,n.MaximumWeight=m?"":"Maximum Weight is required."}this.setState({Errors:n,ValidPlateNumber:r,ValidOwner:s,ValidProductionYear:l,ValidBrand:i,ValidModel:o,ValidType:c,ValidMaximumWeight:m},(function(){a.setState({ValidForm:a.state.ValidPlateNumber&&a.state.ValidOwner&&a.state.ValidProductionYear&&a.state.ValidBrand&&a.state.ValidModel&&a.state.ValidType&&a.state.MaximumWeight})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),r.a.createElement("div",{class:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Truck Settings"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"entity-list entity-list-expandable"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-list-ol"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"number",name:"PlateNumber",class:"form-control",autocomplete:"off",value:this.state.PlateNumber,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Plate Number"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.PlateNumber))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-user"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",name:"Owner",class:"form-control",autocomplete:"off",value:this.state.Owner,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Owner"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.Owner))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-calendar-day"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"number",name:"ProductionYear",class:"form-control",autocomplete:"off",value:this.state.ProductionYear,onChange:this.onChange,placeholder:"XXXX"}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Production Year"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.ProductionYear))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-copyright"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",name:"Brand",class:"form-control",autocomplete:"off",value:this.state.Brand,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Brand"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.Brand))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-list-ol"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",name:"Model",class:"form-control",autocomplete:"off",value:this.state.Model,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Truck Model"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.Model))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-cog"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",name:"Type",class:"form-control",autocomplete:"off",value:this.state.Type,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Truck Type"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.Type))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-weight"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"number",name:"MaximumWeight",class:"form-control",autocomplete:"off",value:this.state.MaximumWeight,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Maximum Weight (GVW)"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.MaximumWeight))),r.a.createElement("div",{class:"entity-list-item active"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-save"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Save Changes?"),r.a.createElement("div",{class:"content-text-secondary"},"This cannot be undone.")),r.a.createElement("div",{class:"item-content-expanded"},r.a.createElement("input",{type:"submit",value:"Save",class:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.Preloader)}}]),t}(n.Component),ce=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(x.a)({},t,n),(function(){a.validateField(t,n)}))},a.onInvalidImageSelected=function(){a.validateField("PhotoURL",null)},a.onImageUploaded=function(e){"Image uploaded successfully."===e.message?(a.setState({PhotoURL:e.imageUrl}),a.validateField("PhotoURL",a.state.PhotoURL)):a.validateField("PhotoURL",null)},a.onSubmit=function(e){var t;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.getItem("userToken"),MaximumWeight:a.state.MaximumWeight,PhotoURL:a.state.PhotoURL,Type:a.state.Type},console.log("Going to add the trailer."),a.setState({Preloader:r.a.createElement(W,null)}),n.next=8,N.a.awrap(D(t).then((function(e){"Trailer is added."===e.Message&&(localStorage.setItem("userToken",e.Token),a.props.OnTrailerAdded(a.cancelButton)),a.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},a.state={MaximumWeight:"",PhotoURL:"./images/default_image.png",ImageCategory:"Trailer-1",Type:"",ValidMaximumWeight:!1,ValidPhotoURL:!1,ValidType:!1,ValidForm:!1,Preloader:null,Errors:{MaximumWeight:"",PhotoURL:"",Type:""}},a.onChange=a.onChange.bind(Object(E.a)(a)),a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a.validateField=a.validateField.bind(Object(E.a)(a)),a.onInvalidImageSelected=a.onInvalidImageSelected.bind(Object(E.a)(a)),a.onImageUploaded=a.onImageUploaded.bind(Object(E.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=g()(localStorage.userToken).Truck.Trailers;e?this.setState({ImageCategory:"Trailer-".concat(e.length+1)}):this.setState({ImageCategory:"Trailer-1"})}}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidMaximumWeight,s=this.state.ValidPhotoURL,l=this.state.ValidType;switch(e){case"MaximumWeight":r=""!==t,n.MaximumWeight=r?"":"Maximum Weight is required.";break;case"PhotoURL":s=null!==t,n.PhotoURL=s?"":"Invalid Image. Please upload a correct one.";break;case"Type":l=""!==t,n.Type=l?"":"Type is required."}this.setState({Errors:n,ValidMaximumWeight:r,ValidPhotoURL:s,ValidType:l},(function(){a.setState({ValidForm:a.state.ValidMaximumWeight&&a.state.ValidPhotoURL&&a.state.ValidType})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{class:"modal",id:"add-trailer-dialog",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"modal-header"},r.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),r.a.createElement("div",{class:"type-h3"},"New Trailer")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement(ie,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:this.onImageUploaded,OnInvalidImageSelected:this.onInvalidImageSelected,ImageCategory:this.state.ImageCategory})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Maximum Weight (GVW)"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("input",{type:"number",name:"MaximumWeight",class:"form-control",autocomplete:"off",value:this.state.MaximumWeight,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.MaximumWeight)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Trailer Type"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("input",{type:"text",name:"Type",class:"form-control",autocomplete:"off",value:this.state.Type,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Type))))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{class:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnAddTrailerDialogRemove,ref:function(t){return e.cancelButton=t}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Add",class:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(n.Component),me=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onAddTrailerDialogCreate=function(){a.setState({AddTrailerDialog:r.a.createElement(ce,{OnAddTrailerDialogRemove:a.onAddTruckDialogRemove,OnTrailerAdded:a.onTrailerAdded})})},a.onAddTrailerDialogRemove=function(){a.setState({AddTrailerDialog:null})},a.onTrailerAdded=function(e){e.click(),a.props.OnTruckUpdated()},a.state={AddTrailerDialog:null},a.onAddTrailerDialogCreate=a.onAddTrailerDialogCreate.bind(Object(E.a)(a)),a.onAddTrailerDialogRemove=a.onAddTrailerDialogRemove.bind(Object(E.a)(a)),a.onTrailerAdded=a.onTrailerAdded.bind(Object(E.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{class:"jumbotron theme-dark"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-24 text-center"},r.a.createElement("img",{src:"./images/trailer.png",alt:"trailer.png",height:"50"}),r.a.createElement("h3",{style:{paddingTop:"5px"}},"Trailers"),r.a.createElement("div",{class:"type-sh3"},"Your Truck is All Set Up"),r.a.createElement("div",{class:"col-md-12 col-md-offset-6"},r.a.createElement("div",{class:"type-p3"},"RECOMMENDED: Since your truck is all set up, you're good to go for adding up to TWO trailers to it."),r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",class:"btn btn-secondary","data-toggle":"modal","data-target":"#add-trailer-dialog",onMouseDown:this.onAddTrailerDialogCreate},"Add Trailer")))))),this.state.AddTrailerDialog)}}]),t}(n.Component),de=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(x.a)({},t,n),(function(){a.validateField(t,n)}))},a.onInvalidImageSelected=function(){a.validateField("PhotoURL",null)},a.onImageUploaded=function(e){"Image uploaded successfully."===e.message?(a.setState({PhotoURL:e.imageUrl}),a.validateField("PhotoURL",a.state.PhotoURL)):a.validateField("PhotoURL",null)},a.onSubmit=function(e){var t;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.getItem("userToken"),TrailerID:a.props.Trailer.TrailerID,MaximumWeight:a.state.MaximumWeight,PhotoURL:a.state.PhotoURL,Type:a.state.Type},console.log(t),console.log("Updating trailer now."),a.setState({Preloader:r.a.createElement(W,null)}),n.next=9,N.a.awrap(V(t).then((function(e){"Trailer is updated."===e.Message&&(localStorage.setItem("userToken",e.Token),a.props.OnTrailerUpdated(a.cancelButton)),a.setState({Preloader:null})})));case 9:case"end":return n.stop()}}))},a.state={MaximumWeight:a.props.Trailer.MaximumWeight,PhotoURL:a.props.Trailer.PhotoURL,Type:a.props.Trailer.Type,ImageCategory:"Trailer-".concat(a.props.dialogID+1),ValidMaximumWeight:!0,ValidPhotoURL:!0,ValidType:!0,ValidForm:!1,Preloader:null,Errors:{MaximumWeight:"",PhotoURL:"",Type:""}},a.onChange=a.onChange.bind(Object(E.a)(a)),a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a.validateField=a.validateField.bind(Object(E.a)(a)),a.onInvalidImageSelected=a.onInvalidImageSelected.bind(Object(E.a)(a)),a.onImageUploaded=a.onImageUploaded.bind(Object(E.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidMaximumWeight,s=this.state.ValidPhotoURL,l=this.state.ValidType;switch(e){case"MaximumWeight":r=""!==t,n.MaximumWeight=r?"":"Maximum Weight is required.";break;case"PhotoURL":s=null!==t,n.PhotoURL=s?"":"Invalid Image. Please upload a correct one.";break;case"Type":l=""!==t,n.Type=l?"":"Type is required."}this.setState({Errors:n,ValidMaximumWeight:r,ValidPhotoURL:s,ValidType:l},(function(){a.setState({ValidForm:a.state.ValidMaximumWeight&&a.state.ValidPhotoURL&&a.state.ValidType})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{class:"modal",id:"edit-trailer-dialog".concat(this.props.dialogID),tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"modal-header"},r.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),r.a.createElement("div",{class:"type-h3"},"Edit Trailer")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement(ie,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:this.onImageUploaded,OnInvalidImageSelected:this.onInvalidImageSelected,ImageCategory:this.state.ImageCategory})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Maximum Weight (GVW)"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("input",{type:"number",name:"MaximumWeight",class:"form-control",autocomplete:"off",value:this.state.MaximumWeight,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.MaximumWeight)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Trailer Type"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("input",{type:"text",name:"Type",class:"form-control",autocomplete:"off",value:this.state.Type,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Type))))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{class:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnEditTrailerDialogRemove,ref:function(t){return e.cancelButton=t}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Update",class:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),t}(n.Component),ue=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onDelete=function(e){var t;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a.setState({Preloader:r.a.createElement(W,null)}),t={Token:localStorage.getItem("userToken"),TrailerID:a.state.Trailers[e].TrailerID},console.log("Going to delete Trailers[".concat(e,"]")),n.next=5,N.a.awrap(A(t).then((function(e){"Trailer is deleted."===e.Message&&(localStorage.setItem("userToken",e.Token),a.props.OnTrailersUpdated()),a.setState({Preloader:null})})));case 5:case"end":return n.stop()}}))},a.state={Trailers:[],EditTrailerDialogs:[],Preloader:null},a.onDelete=a.onDelete.bind(Object(E.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=g()(localStorage.userToken).Truck.Trailers;console.log(e),this.setState({Trailers:e})}else this.setState({Trailers:[]})}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{class:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Trailers"),r.a.createElement("ol",{class:"list-items",style:{margin:"0px"}},this.state.Trailers.map((function(t,a){return r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#".concat(t.TrailerID)},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("i",{class:"glyph glyph-add"}),r.a.createElement("i",{class:"glyph glyph-remove"}),r.a.createElement("strong",null,a+1)),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("img",{class:"img-responsive visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:t.PhotoURL,alt:"trailer.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Maximum Weight (GVM):")," ",t.MaximumWeight),r.a.createElement("div",null,r.a.createElement("span",{style:{fontWeight:"bold",color:"#404040"}},"Trailer Type:")," ",t.Type)),r.a.createElement("div",{class:"col-md-6"}))),r.a.createElement("div",{class:"collapse",id:t.TrailerID},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-18 col-md-offset-2"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block",src:t.PhotoURL,alt:"trailer.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{class:"col-md-4 text-right"},r.a.createElement("button",{type:"button",class:"btn btn-primary","data-toggle":"modal","data-target":"#edit-trailer-dialog".concat(a),onMouseDown:function(){var n=e.state.EditTrailerDialogs;n[a]=r.a.createElement(de,{dialogID:a,Trailer:t,OnEditTrailerDialogRemove:function(){var t=e.state.EditTrailerDialogs;t[a]=null,e.setState({EditTrailerDialogs:t})},OnTrailerUpdated:function(t){t.click(),e.props.OnTrailersUpdated()}}),e.setState({EditTrailerDialogs:n})}},"Edit"),r.a.createElement("button",{type:"button",class:"btn btn-danger",onClick:function(t){e.onDelete(a)}},"Delete")))),e.state.EditTrailerDialogs[a])}))),this.state.Preloader)}}]),t}(n.Component),pe=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onInvalidImageSelected=function(){},e.onImageUploaded=function(t){var a;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("Image uploaded successfully."!==t.message){n.next=4;break}return a={Token:localStorage.getItem("userToken"),PhotoURL:t.imageUrl},n.next=4,N.a.awrap(I(a).then((function(t){"Truck photo updated."===t.Message&&(localStorage.setItem("userToken",t.Token),e.props.OnTruckUpdated())})));case 4:case"end":return n.stop()}}))},e.onTrailersUpdated=function(){var t=g()(localStorage.userToken).Truck.Trailers;e.setState({AddTrailer:null,TrailersList:null}),t.length<2&&e.setState({AddTrailer:r.a.createElement(me,{OnTruckUpdated:e.props.OnTruckUpdated})}),t.length>0&&e.setState({TrailersList:r.a.createElement(ue,{OnTrailerDeleted:e.onTrailerDeleted})})},e.state={PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:"",PhotoURL:"./images/default_image.png",AddTrailer:null,TrailersList:null},e.onInvalidImageSelected=e.onInvalidImageSelected.bind(Object(E.a)(e)),e.onImageUploaded=e.onImageUploaded.bind(Object(E.a)(e)),e.onTrailersUpdated=e.onTrailersUpdated.bind(Object(E.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=g()(localStorage.userToken).Truck;this.setState({PlateNumber:e.PlateNumber,Owner:e.Owner,ProductionYear:e.ProductionYear,Brand:e.Brand,Model:e.Model,Type:e.Type,MaximumWeight:e.MaximumWeight,PhotoURL:e.PhotoURL}),e.Trailers.length<2&&this.setState({AddTrailer:r.a.createElement(me,{OnTruckUpdated:this.props.OnTruckUpdated})}),e.Trailers.length>0&&this.setState({TrailersList:r.a.createElement(ue,{OnTrailersUpdated:this.onTrailersUpdated})})}else this.setState({PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:"",PhotoURL:"./images/default_image.png",AddTrailer:null,TrailersList:null})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"jumbotron theme-default"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement(ie,{Source:this.state.PhotoURL,Height:"200px",Width:"200px",OnImageUploaded:this.onImageUploaded,OnInvalidImageSelected:this.onInvalidImageSelected,ImageCategory:"Truck"})),r.a.createElement("div",{class:"col-md-18"},r.a.createElement("div",{class:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"".concat(this.state.Brand," ").concat(this.state.Model)),r.a.createElement("div",{class:"type-sh3"},r.a.createElement("span",{class:"fas fa-truck"}),"   ",this.state.Type),r.a.createElement("div",null,r.a.createElement("ol",{class:"list-items theme-alt"},r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fas fa-list-ol",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("a",{style:{textDecoration:"none"}},"Plate Number:")),r.a.createElement("div",{class:"col-md-6"},this.state.PlateNumber))),r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fas fa-calendar-day",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("a",{style:{textDecoration:"none"}},"Production Year:")),r.a.createElement("div",{class:"col-md-6"},this.state.ProductionYear))),r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fas fa-weight",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("a",{style:{textDecoration:"none"}},"Maximum Weight:")),r.a.createElement("div",{class:"col-md-6"},"".concat(this.state.MaximumWeight," GVW")))))))))),r.a.createElement(oe,{OnTruckSettingsUpdated:this.props.OnTruckUpdated}),this.state.AddTrailer,this.state.TrailersList)}}]),t}(n.Component),Ee=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={Show:a.props.Show,Message:a.props.Message},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"modal in",style:this.state.Show?{display:"block",paddingRight:"17px"}:{display:"none",paddingRight:"17px"}},r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content animated fadeIn"},r.a.createElement("div",{class:"modal-body text-justify"},this.state.Message),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-info",onClick:function(t){e.setState({Show:!1})}},"Ok")))))}}]),t}(n.Component),he=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(x.a)({},t,n),(function(){a.validateField(t,n)}))},a.onInvalidImageSelected=function(){a.validateField("PhotoURL",null)},a.onImageUploaded=function(e){"Image uploaded successfully."===e.message?(a.setState({PhotoURL:e.imageUrl}),a.validateField("PhotoURL",a.state.PhotoURL)):a.validateField("PhotoURL",null)},a.onSubmit=function(e){var t;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),a.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.getItem("userToken"),PlateNumber:a.state.PlateNumber,Owner:a.state.Owner,ProductionYear:a.state.ProductionYear,Brand:a.state.Brand,Model:a.state.Model,Type:a.state.Type,MaximumWeight:a.state.MaximumWeight,PhotoURL:a.state.PhotoURL},n.next=6,N.a.awrap(U(t).then((function(e){"Driver's truck is added."===e.Message?(localStorage.setItem("userToken",e.Token),a.props.OnAddTruckDialogRemove()):a.setState({MessageBox:r.a.createElement(Ee,{Message:"Truck Not Added.",Show:!0})})})));case 6:case"end":return n.stop()}}))},a.state={PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:"",PhotoURL:"./images/default_image.png",ValidPlateNumber:!1,ValidOwner:!1,ValidProductionYear:!1,ValidBrand:!1,ValidModel:!1,ValidType:!1,ValidMaximumWeight:!1,ValidPhotoURL:!1,ValidForm:!1,MessageBox:null,Errors:{PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:"",PhotoURL:""}},a.onChange=a.onChange.bind(Object(E.a)(a)),a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a.validateField=a.validateField.bind(Object(E.a)(a)),a.onInvalidImageSelected=a.onInvalidImageSelected.bind(Object(E.a)(a)),a.onImageUploaded=a.onImageUploaded.bind(Object(E.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidPlateNumber,s=this.state.ValidOwner,l=this.state.ValidProductionYear,i=this.state.ValidBrand,o=this.state.ValidModel,c=this.state.ValidType,m=this.state.ValidMaximumWeight,d=this.state.ValidPhotoURL;switch(e){case"PlateNumber":r=""!==t&&t>=1&&t<=999,n.PlateNumber=r?"":"Plate Number must be between 001 and 999.";break;case"Owner":s=""!==t,n.Owner=s?"":"Owner is required.";break;case"ProductionYear":var u=(new Date).getFullYear();l=""!==t&&t>=2e3&&t<=u,n.ProductionYear=l?"":"Production Year must be between 2000 and ".concat(u);break;case"Brand":i=""!==t,n.Brand=i?"":"Brand is required.";break;case"Model":o=""!==t,n.Model=o?"":"Model is required.";break;case"Type":c=""!==t,n.Type=c?"":"Type is required";break;case"MaximumWeight":m=""!==t,n.MaximumWeight=m?"":"Maximum Weight is required.";break;case"PhotoURL":d=null!==t,n.PhotoURL=d?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidPlateNumber:r,ValidOwner:s,ValidProductionYear:l,ValidBrand:i,ValidModel:o,ValidType:c,ValidMaximumWeight:m,ValidPhotoURL:d},(function(){a.setState({ValidForm:a.state.ValidPlateNumber&&a.state.ValidOwner&&a.state.ValidProductionYear&&a.state.ValidBrand&&a.state.ValidModel&&a.state.ValidType&&a.state.ValidMaximumWeight&&a.state.ValidPhotoURL})}))}},{key:"render",value:function(){return r.a.createElement("div",{class:"modal",id:"add-truck-dialog",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content"},r.a.createElement("p",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"modal-header"},r.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),r.a.createElement("div",{class:"type-h3"},"New Truck"),r.a.createElement("div",{class:"type-sh3"},"These detials will be displayed on your profile.")),r.a.createElement("div",{class:"modal-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement(ie,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:this.onImageUploaded,OnInvalidImageSelected:this.onInvalidImageSelected,ImageCategory:"Truck"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{class:"col-md-12"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Plate Number"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("input",{type:"number",name:"PlateNumber",class:"form-control",autocomplete:"off",value:this.state.PlateNumber,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.PlateNumber)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Owner"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("input",{type:"text",name:"Owner",class:"form-control",autocomplete:"off",value:this.state.Owner,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Owner)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Production Year"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("input",{type:"number",name:"ProductionYear",class:"form-control",autocomplete:"off",value:this.state.ProductionYear,onChange:this.onChange,placeholder:"XXXX"}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.ProductionYear)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Brand"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("input",{type:"text",name:"Brand",class:"form-control",autocomplete:"off",value:this.state.Brand,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Brand)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Truck Model"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("input",{type:"text",name:"Model",class:"form-control",autocomplete:"off",value:this.state.Model,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Model)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Truck Type"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("input",{type:"text",name:"Type",class:"form-control",autocomplete:"off",value:this.state.Type,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Type)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Maximum Weight (GVW)"),r.a.createElement("span",{class:"text-danger",style:L},"*"),r.a.createElement("input",{type:"number",name:"MaximumWeight",class:"form-control",autocomplete:"off",value:this.state.MaximumWeight,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.MaximumWeight))))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{class:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnAddTruckDialogRemove},"Cancel"),r.a.createElement("input",{type:"submit",value:"Add",class:"btn btn-primary",disabled:!this.state.ValidForm})))))),this.state.MessageBox)}}]),t}(n.Component),ge=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onAddTruckDialogRemove=function(){e.setState({AddTruck:null})},e.onAddTruckDialogCreate=function(){e.setState({AddTruck:r.a.createElement(he,{Show:!0,OnAddTruckDialogRemove:e.onAddTruckDialogRemove})})},e.state={AddTruck:null},e.onAddTruckDialogCreate=e.onAddTruckDialogCreate.bind(Object(E.a)(e)),e.onAddTruckDialogRemove=e.onAddTruckDialogRemove.bind(Object(E.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(){g()(localStorage.userToken).Truck&&this.props.OnTruckUpdated()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"jumbotron theme-alt",style:{width:"100%",backgroundColor:"#202020"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"add_truck.png",src:"./images/add_truck.png","data-source-index":"2"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3"},"Truck Management"),r.a.createElement("div",{class:"type-sh3"},"You have not added any truck yet."),r.a.createElement("p",null,"Adding your truck will let the Traders or Brokers see details about your truck. Valid and complete details of your truck make more chances for you to receive job requests."),r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{type:"button",class:"btn btn-primary btn-lg","data-toggle":"modal","data-target":"#add-truck-dialog",onMouseDown:this.onAddTruckDialogCreate},"Add Now")))))),this.state.AddTruck)}}]),t}(n.Component),ve=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onTruckUpdated=function(){g()(localStorage.userToken).Truck?(a.setState({Truck:null}),a.setState({Truck:r.a.createElement(pe,{OnTruckUpdated:a.onTruckUpdated})})):(a.setState({Truck:null}),a.setState({Truck:r.a.createElement(ge,{OnTruckUpdated:a.onTruckUpdated})}))},a.state={Truck:r.a.createElement(ge,{OnTruckUpdated:a.onTruckUpdated})},a.onTruckUpdated=a.onTruckUpdated.bind(Object(E.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){localStorage.userToken&&(g()(localStorage.userToken).Truck&&this.setState({Truck:r.a.createElement(pe,{OnTruckUpdated:this.onTruckUpdated})}))}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.Truck)}}]),t}(n.Component),be=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"jumbotron",style:{width:"100%",backgroundColor:"#202020"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"tools.png",src:"./images/tools.png",style:{borderRadius:"50%"},"data-source-index":"1"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3",style:{color:"#008575"}},"Permits"),r.a.createElement("div",{class:"type-sh3",style:{color:"#949496"}},"Under-Construction"))))))}}]),t}(n.Component),fe=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"jumbotron",style:{width:"100%",backgroundColor:"#202020"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"tools.png",src:"./images/tools.png",style:{borderRadius:"50%"},"data-source-index":"1"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3",style:{color:"#008575"}},"Financial Affairs"),r.a.createElement("div",{class:"type-sh3",style:{color:"#949496"}},"Under-Construction"))))))}}]),t}(n.Component),ye=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"jumbotron",style:{width:"100%",backgroundColor:"#202020"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"tools.png",src:"./images/tools.png",style:{borderRadius:"50%"},"data-source-index":"1"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3",style:{color:"#008575"}},"Jobs"),r.a.createElement("div",{class:"type-sh3",style:{color:"#949496"}},"Under-Construction"))))))}}]),t}(n.Component),we=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"jumbotron",style:{width:"100%",backgroundColor:"#202020"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"tools.png",src:"./images/tools.png",style:{borderRadius:"50%"},"data-source-index":"1"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3",style:{color:"#008575"}},"Payments"),r.a.createElement("div",{class:"type-sh3",style:{color:"#949496"}},"Under-Construction"))))))}}]),t}(n.Component),xe=a(18),ke=a.n(xe),Ne=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(x.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){t.preventDefault(),function(e){return C.a.post("".concat(b.a.NAQEL_SERVER,"users/dashboard/generalSettings"),{DriverID:e.DriverID,FirstName:e.FirstName,LastName:e.LastName,Address:e.Address,PhoneNumber:e.PhoneNumber,Gender:e.Gender,Nationality:e.Nationality,DateOfBirth:e.DateOfBirth}).then((function(e){console.log(e.data)}))}({DriverID:g()(localStorage.userToken).DriverID,FirstName:e.state.FirstName,LastName:e.state.LastName,Address:e.state.Address,PhoneNumber:e.state.PhoneNumber,Gender:e.state.Gender,Nationality:e.state.Nationality,DateOfBirth:e.state.DateOfBirth}).then((function(t){var a=g()(localStorage.userToken);a.FirstName=e.state.FirstName,a.LastName=e.state.LastName,a.Address=e.state.Address,a.PhoneNumber=e.state.PhoneNumber,a.Gender=e.state.Gender,a.Nationality=e.state.Nationality,a.DateOfBirth=e.state.DateOfBirth;var n=ke.a.sign(a,"mysecret");localStorage.setItem("userToken",n),e.setState({SettingsSaved:!0})}))},e.state={FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:"",ValidFirstName:!0,ValidLastName:!0,ValidPhoneNumber:!0,ValidForm:!0,SettingsSaved:!1,Errors:{FirstName:"",LastName:"",PhoneNumber:""}},e.onChange=e.onChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=g()(localStorage.userToken);this.setState({FirstName:e.FirstName,LastName:e.LastName,DateOfBirth:e.DateOfBirth,Gender:e.Gender,Address:e.Address,PhoneNumber:e.PhoneNumber,Nationality:e.Nationality})}else this.setState({FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:""})}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidFirstName,s=this.state.ValidLastName,l=this.state.ValidPhoneNumber;switch(e){case"FirstName":r=t.match(/^[a-zA-Z ]+$/),n.FirstName=r?"":"First name is invalid.";break;case"LastName":s=t.match(/^[a-zA-Z ]+$/),n.LastName=s?"":"Last name is invalid.";break;case"PhoneNumber":l=t.match(/^\+[0-9]?()[0-9](\s|\S)(\d[0-9]{9})$/),n.PhoneNumber=l?"":"Phone number is invalid."}this.setState({Errors:n,ValidFirstName:r,ValidLastName:s,ValidPhoneNumber:l},(function(){a.setState({ValidForm:a.state.ValidFirstName&&a.state.ValidLastName&&a.state.ValidPhoneNumber})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement(Ee,{Message:"Settings saved successfully.",Show:!0});return r.a.createElement("div",null,r.a.createElement("div",{class:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"General Settings"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"entity-list entity-list-expandable"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-signature"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"FirstName",autoComplete:"off",value:this.state.FirstName,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"First Name"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.FirstName))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-signature"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"LastName",autoComplete:"off",value:this.state.LastName,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Last Name"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.LastName))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-birthday-cake"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"date",class:"form-control",name:"DateOfBirth",autocomplete:"off",value:this.state.DateOfBirth,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Date of Birth"))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"Male"===this.state.Gender?"fa fa-male":"fa fa-female"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"dropdown",style:{width:"193px",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",class:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.Gender),r.a.createElement("span",{class:"caret"})),r.a.createElement("ul",{class:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(t){e.state.Gender="Male"},onChange:this.onChange},"Male")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(t){e.state.Gender="Female"},onChange:this.onChange},"Female"))))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Gender"))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-flag"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"Nationality",autocomplete:"off",value:this.state.Nationality,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Nationality"))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-phone"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"PhoneNumber",autocomplete:"off",placeholder:"+XXXXXXXXXXXX",value:this.state.PhoneNumber,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Phone Number"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.PhoneNumber))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-location-arrow"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"Address",autocomplete:"off",value:this.state.Address,onChange:this.onChange,style:{width:"393px"}}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Address"))),r.a.createElement("div",{class:"entity-list-item active"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-save"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Save Changes?"),r.a.createElement("div",{class:"content-text-secondary"},"This cannot be undone.")),r.a.createElement("div",{class:"item-content-expanded"},r.a.createElement("input",{type:"submit",value:"Save",class:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.SettingsSaved&&t)}}]),t}(n.Component),Pe=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(x.a)({},t,n),(function(){a.validateField(n)}))},a.onSubmit=function(e){var t;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),a.state.Show&&(t={DriverID:g()(localStorage.userToken).DriverID,Username:a.state.Username,Email:a.state.Email},S(t).then((function(e){if("Driver is updated."===e){var t=g()(localStorage.userToken);t.Username=a.state.Username,t.Email=a.state.Email;var n=ke.a.sign(t,"mysecret");localStorage.setItem("userToken",n),a.setState({MessageBox:r.a.createElement(Ee,{Message:"Settings saved successfully.",Show:!0})})}else a.setState({MessageBox:r.a.createElement(Ee,{Message:"Settings could not be saved. Please try later.",Show:!0})});a.setState({Show:!1})})));case 2:case"end":return n.stop()}}))},a.state={Show:a.props.Show,Code:a.props.Code,ConfirmCode:"",Username:a.props.Username,Email:a.props.Email,ValidConfirmCode:!1,ValidForm:!1,MessageBox:"",Errors:{ConfirmCode:""}},a.onChange=a.onChange.bind(Object(E.a)(a)),a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"validateField",value:function(e){var t=this,a=this.state.Errors,n=this.state.ValidConfirmCode;n=e===this.state.Code,a.ConfirmCode=n?"":"Invalid code.",this.setState({Errors:a,ValidConfirmCode:n},(function(){t.setState({ValidForm:t.state.ValidConfirmCode})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{class:"modal in",style:this.state.Show?{display:"block",paddingRight:"17px"}:{display:"none",paddingRight:"17px"}},r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content animated fadeIn"},r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",null,r.a.createElement("img",{src:"./images/passcode.png",height:"60"}),r.a.createElement("div",{class:"type-h3"},"Email Confirmation"),r.a.createElement("div",{class:"type-sh3"},"We delivered a confirmation code to your email."),r.a.createElement("br",null),r.a.createElement("div",{"asp-validation-summary":"ModelOnly",class:"text-danger"}),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Confirmation Code"),r.a.createElement("input",{type:"text",name:"ConfirmCode",class:"form-control",autocomplete:"off",value:this.state.ConfirmCode,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.ConfirmCode))),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{class:"btn btn-default",onClick:function(t){e.setState({Show:!1})}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Confirm",class:"btn btn-primary",disabled:!this.state.ValidForm})))))),this.state.MessageBox)}}]),t}(n.Component),Ce=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(x.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),e.state.NewUsername!==e.state.Username||e.state.NewEmail!==e.state.Email){n.next=3;break}return n.abrupt("return");case 3:if(e.state.NewEmail!==e.state.Email){n.next=8;break}a={DriverID:g()(localStorage.userToken).DriverID,Username:e.state.NewUsername,Email:e.state.NewEmail},S(a).then((function(t){if("Driver is updated."===t){var a=g()(localStorage.userToken);a.Username=e.state.NewUsername,a.Email=e.state.NewEmail;var n=ke.a.sign(a,"mysecret");localStorage.setItem("userToken",n),e.setState({MessageBox:r.a.createElement(Ee,{Message:"Username is updated successfully.",Show:!0})})}else e.setState({MessageBox:r.a.createElement(Ee,{Message:"Settings could not be saved. Please try later.",Show:!0})})})),n.next=10;break;case 8:return n.next=10,N.a.awrap(C.a.post("users/sendCode",{Email:e.state.NewEmail}).then((function(t){t&&e.setState({CodeConfirmation:r.a.createElement(Pe,{Code:t.data,Show:!0,Username:e.state.NewUsername,Email:e.state.NewEmail})})})));case 10:case"end":return n.stop()}}))},e.state={Username:"",NewUsername:"",Email:"",NewEmail:"",Code:"",ValidNewUsername:!0,ValidNewEmail:!0,ValidForm:!0,MessageBox:"",Errors:{NewUsername:"",NewEmail:""},CodeConfirmation:""},e.onChange=e.onChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=g()(localStorage.userToken);this.setState({Username:e.Username,NewUsername:e.Username,Email:e.Email,NewEmail:e.Email})}else this.setState({Username:"",NewUsername:"",Email:"",NewEmail:""})}},{key:"validateField",value:function(e,t){var a,n,r,s=this;return N.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:a=this.state.Errors,n=this.state.ValidNewUsername,r=this.state.ValidNewEmail,l.t0=e,l.next="NewUsername"===l.t0?6:"NewEmail"===l.t0?21:36;break;case 6:if(""!==t){l.next=10;break}return n=!1,a.NewUsername="Username is required.",l.abrupt("break",37);case 10:if(t.match(/^[a-z0-9]+$/i)){l.next=14;break}return n=!1,a.NewUsername="Username is invalid.",l.abrupt("break",37);case 14:if(t!==this.state.Username){l.next=18;break}return n=!0,a.NewUsername="",l.abrupt("break",37);case 18:return l.next=20,N.a.awrap(C.a.post("https://naqelserver.azurewebsites.net/users/validateUsername",{Username:t}).then((function(e){"Username is available."===e.data?(n=!0,a.NewUsername=""):(n=!1,a.NewUsername=e.data)})));case 20:return l.abrupt("break",37);case 21:if(""!==t){l.next=25;break}return r=!1,a.NewEmail="Email is required.",l.abrupt("break",37);case 25:if(t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)){l.next=29;break}return r=!1,a.NewEmail="Email is invalid.",l.abrupt("break",37);case 29:if(t!==this.state.Email){l.next=33;break}return r=!0,a.NewEmail="",l.abrupt("break",37);case 33:return l.next=35,N.a.awrap(C.a.post("https://naqelserver.azurewebsites.net/users/validateEmail",{Email:t}).then((function(e){"Email is already taken."===e.data?(r=!1,a.NewEmail=e.data):(r=!0,a.NewEmail="")})));case 35:case 36:return l.abrupt("break",37);case 37:this.setState({Errors:a,ValidNewUsername:n,ValidNewEmail:r},(function(){s.setState({ValidForm:s.state.ValidNewUsername&&s.state.ValidNewEmail})}));case 38:case"end":return l.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Username and Emails"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"entity-list entity-list-expandable"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-at"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",name:"NewUsername",class:"form-control",autocomplete:"off",value:this.state.NewUsername,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Username"),r.a.createElement("div",{class:"content-text-secondary text-danger"},this.state.Errors.NewUsername))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-envelope"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"email",name:"NewEmail",class:"form-control",placeholder:"someone@example.com",autocomplete:"off",value:this.state.NewEmail,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Email"),r.a.createElement("div",{class:"content-text-secondary text-danger"},this.state.Errors.NewEmail))),r.a.createElement("div",{class:"entity-list-item active"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-save"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Save Changes?"),r.a.createElement("div",{class:"content-text-secondary"},"This cannot be undone.")),r.a.createElement("div",{class:"item-content-expanded"},r.a.createElement("input",{type:"submit",value:"Save",class:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.CodeConfirmation,this.state.MessageBox)}}]),t}(n.Component),Se=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(x.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),a={DriverID:g()(localStorage.userToken).DriverID,Password:e.state.NewPassword},n.next=4,N.a.awrap(O(a).then((function(t){if("Driver is updated."===t){var a=g()(localStorage.userToken);a.Password=e.state.Password;var n=ke.a.sign(a,"mysecret");localStorage.setItem("userToken",n),e.setState({MessageBox:r.a.createElement(Ee,{Message:"Settings saved successfully.",Show:!0})})}})));case 4:case"end":return n.stop()}}))},e.state={Password:"",CurrentPassword:"",NewPassword:"",ConfirmPassword:"",ValidCurrentPassword:!1,ValidNewPassword:!1,ValidConfirmPassword:!1,ValidForm:!0,MessageBox:"",Errors:{CurrentPassword:"",NewPassword:"",ConfirmPassword:""}},e.onChange=e.onChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=g()(localStorage.userToken);this.setState({Password:e.Password})}}},{key:"validateField",value:function(e,t){var a,n,r,s,l=this;return N.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:a=this.state.Errors,n=this.state.ValidCurrentPassword,r=this.state.ValidNewPassword,s=this.state.ValidConfirmPassword,i.t0=e,i.next="CurrentPassword"===i.t0?7:"NewPassword"===i.t0?11:"ConfirmPassword"===i.t0?14:17;break;case 7:return i.next=9,N.a.awrap(C.a.post("https://naqelserver.azurewebsites.net/users/validatePassword",{DriverID:g()(localStorage.userToken).DriverID,Password:t}).then((function(e){n="Valid password."===e.data})));case 9:return a.CurrentPassword=n?"":"Current password is invalid.",i.abrupt("break",18);case 11:return r=t.length>=6,a.NewPassword=r?"":"Password is too short.",i.abrupt("break",18);case 14:return s=t===this.state.NewPassword,a.ConfirmPassword=s?"":"Passwords did not match.",i.abrupt("break",18);case 17:return i.abrupt("break",18);case 18:this.setState({Errors:a,ValidCurrentPassword:n,ValidNewPassword:r,ValidConfirmPassword:s},(function(){l.setState({ValidForm:l.state.ValidCurrentPassword&&l.state.ValidNewPassword&&l.state.ValidConfirmPassword})}));case 19:case"end":return i.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Change Password"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"entity-list entity-list-expandable"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-key"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"password",name:"CurrentPassword",class:"form-control",autocomplete:"off",value:this.state.CurrentPassword,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Current Password"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.CurrentPassword))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-key"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"password",name:"NewPassword",class:"form-control",autocomplete:"off",value:this.state.NewPassword,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"New Password"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.NewPassword))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-key"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"password",name:"ConfirmPassword",class:"form-control",autocomplete:"off",value:this.state.ConfirmPassword,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Confirm Password"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.ConfirmPassword))),r.a.createElement("div",{class:"entity-list-item active"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-save"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Save Changes?"),r.a.createElement("div",{class:"content-text-secondary"},"This cannot be undone.")),r.a.createElement("div",{class:"item-content-expanded"},r.a.createElement("input",{type:"submit",value:"Save",class:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.MessageBox)}}]),t}(n.Component),Oe=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Ne,null),r.a.createElement(Ce,null),r.a.createElement(Se,null))}}]),t}(n.Component),Te=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return localStorage.userToken?r.a.createElement("div",null,r.a.createElement("ul",{class:"nav nav-tabs theme-alt",role:"tablist",style:ne},r.a.createElement("li",{role:"presentation",class:"active"},r.a.createElement("a",{href:"#profile","aria-controls":"prfile",role:"tab","data-toggle":"tab"},"Profile")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#trucks","aria-controls":"trucks",role:"tab","data-toggle":"tab"},"Trucks")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#permits","aria-controls":"permits",role:"tab","data-toggle":"tab"},"Permits")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#financialAffairs","aria-controls":"financialAffairs",role:"tab","data-toggle":"tab"},"Financial Affairs")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#jobs","aria-controls":"jobs",role:"tab","data-toggle":"tab"},"Jobs")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#payments","aria-controls":"payments",role:"tab","data-toggle":"tab"},"Payments")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#settings","aria-controls":"settings",role:"tab","data-toggle":"tab"},"Settings"))),r.a.createElement("div",{class:"tab-content"},r.a.createElement("div",{role:"tabpanel",class:"tab-pane active",id:"profile"},r.a.createElement(le,null)),r.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"trucks"},r.a.createElement(ve,null)),r.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"permits"},r.a.createElement(be,null)),r.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"financialAffairs"},r.a.createElement(fe,null)),r.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"jobs"},r.a.createElement(ye,null)),r.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"payments"},r.a.createElement(we,null)),r.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"settings"},r.a.createElement(Oe,null)))):(this.props.history.push("/login"),r.a.createElement("a",null))}}]),t}(n.Component),Ue=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).onImageUpload=function(e){a.state.Image=e.target.files[0],console.log(a.state.Image);var t=new FormData;try{t.append("TraderID",a.state.TraderID),t.append("ImageCategory",a.state.ImageCategory),t.append("Image",a.state.Image,a.state.Image.name)}catch(n){return void a.setState({UploadProgress:null})}C.a.post(b.a.IMAGE_UPLOADER,t,{onUploadProgress:function(e){a.setState({UploadProgress:r.a.createElement("div",{class:"progress-bar"},r.a.createElement("div",{class:"progress-circle"}),r.a.createElement("div",{class:"progress-circle"}),r.a.createElement("div",{class:"progress-circle"}),r.a.createElement("div",{class:"progress-circle"}),r.a.createElement("div",{class:"progress-circle"}))})}}).then((function(e){var t;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e=e.data,console.log(e),"Image uploaded successfully."!==e.message){n.next=6;break}return t={TraderID:a.state.TraderID,URL:e.imageUrl,FileName:e.filename},n.next=6,N.a.awrap(R(t).then((function(t){"Trader/broker profile photo is updated."!==t&&"Trader/broker profile photo is added."!==t||a.setState({ImageURL:e.imageUrl,UploadProgress:null})})));case 6:case"end":return n.stop()}}))})).catch((function(){a.props.OnImageUploaded("Invalid Image."),a.setState({ImageURL:"./images/defaultProfilePhoto.png",UploadProgress:null})}))},a.onSubmit=function(e){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault();case 1:case"end":return t.stop()}}))},a.state={Image:null,ImageURL:"./images/defaultProfilePhoto.png",TraderID:null,ImageCategory:"ProfilePicture",UploadProgress:null},a.onImageUpload=a.onImageUpload.bind(Object(E.a)(a)),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=g()(localStorage.userToken);this.setState({ImageURL:e.ProfilePhotoURL}),this.setState({TraderID:e.TraderID})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:this.onImageUpload,style:{display:"none"},ref:function(t){return e.fileInput=t}}),r.a.createElement("figure",{class:"media"},r.a.createElement("div",{class:"media-img media-img-has-play ratio-movie",style:Object(x.a)({width:"200px",height:"200px",border:"0px",padding:"0px"},"border","5px solid #3A3A3C")},r.a.createElement("a",{href:"#",onClick:function(){return e.fileInput.click()}},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:this.state.ImageURL,alt:"ProfilePhoto.png"}),r.a.createElement("i",{class:"glyph glyph-edit"})))),this.state.UploadProgress)}}]),t}(n.Component),Ie=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onImageUploaded=function(t){t?e.setState({WarningAlert:r.a.createElement(se,{Message:t,OnClose:e.onImageUploaded})}):e.setState({WarningAlert:null})},e.state={Username:"",Password:"",Email:"",FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:"",WarningAlert:null,Errors:{}},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=g()(localStorage.userToken);this.setState({Username:e.UserName,Password:e.Password,Email:e.EmailAdrs,FirstName:e.FName,LastName:e.LName,DateOfBirth:e.BirthDate,Gender:e.Gender,Address:e.Address,PhoneNumber:e.MobileNum,Nationality:e.Nationality})}else this.setState({Username:"",Password:"",Email:"",FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:""})}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.WarningAlert,r.a.createElement("div",{class:"jumbotron theme-default"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-6"},r.a.createElement(Ue,{OnImageUploaded:this.onImageUploaded})),r.a.createElement("div",{class:"col-md-18"},r.a.createElement("div",{class:"type-h3",style:{color:"#008575",paddingTop:"0px"}},this.state.FirstName+" "+this.state.LastName),r.a.createElement("div",{class:"type-sh3"},r.a.createElement("span",{class:"fa fa-car"}),"   Trader"),r.a.createElement("div",null,r.a.createElement("ol",{class:"list-items theme-alt"},r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fa fa-id-card",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("a",{style:{textDecoration:"none"}},"Username:")),r.a.createElement("div",{class:"col-md-6"},this.state.Username))),r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fa fa-envelope",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("a",{style:{textDecoration:"none"}},"Email:")),r.a.createElement("div",{class:"col-md-6"},this.state.Email))),r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fa fa-phone",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-6"},r.a.createElement("a",{style:{textDecoration:"none"}},"Phone Number:")),r.a.createElement("div",{class:"col-md-6"},this.state.PhoneNumber))))))),r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"btn-group"},r.a.createElement("button",{class:"btn btn-primary",href:"#"},"Identity Card"),r.a.createElement("button",{class:"btn btn-primary",href:"#"},"CR Certificate"))))),r.a.createElement("div",{class:"jumbotron theme-dark",style:{backgroundColor:"#161616"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col"},r.a.createElement("div",{class:"type-h3",style:{paddingTop:"10px"}},"Details"),r.a.createElement("ol",{class:"list-items theme-alt"},r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fa fa-id-card",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("a",{style:{textDecoration:"none"}},"Username:")),r.a.createElement("div",{class:"col-md-4"},this.state.Username))),r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fa fa-envelope",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("a",{style:{textDecoration:"none"}},"Email:")),r.a.createElement("div",{class:"col-md-4"},this.state.Email))),r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fa fa-birthday-cake",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("a",{style:{textDecoration:"none"}},"Date of Birth:")),r.a.createElement("div",{class:"col-md-4"},this.state.DateOfBirth))),r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},"Male"===this.state.Gender&&r.a.createElement("strong",null,r.a.createElement("span",{class:"fa fa-male",style:{color:"#008575"}})),"Female"===this.state.Gender&&r.a.createElement("strong",null,r.a.createElement("span",{class:"fa fa-female",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("a",{style:{textDecoration:"none"}},"Gender:")),r.a.createElement("div",{class:"col-md-4"},this.state.Gender))),r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fa fa-flag",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("a",{style:{textDecoration:"none"}},"Nationality:")),r.a.createElement("div",{class:"col-md-4"},this.state.Nationality))),r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fa fa-phone",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("a",{style:{textDecoration:"none"}},"Phone Number:")),r.a.createElement("div",{class:"col-md-4"},this.state.PhoneNumber))),r.a.createElement("li",{class:"list-items-row"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-2"},r.a.createElement("strong",null,r.a.createElement("span",{class:"fa fa-map-marker",style:{color:"#008575"}}))),r.a.createElement("div",{class:"col-md-4"},r.a.createElement("a",{style:{textDecoration:"none"}},"Address:")),r.a.createElement("div",{class:"col-md-4"},this.state.Address)))))))))}}]),t}(n.Component),je=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(x.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){t.preventDefault(),function(e){return C.a.post("".concat(b.a.NAQEL_SERVER,"users/dashboard/tbgeneralSettings"),{TraderID:e.TraderID,FName:e.FName,LName:e.LName,Address:e.Address,MobileNum:e.MobileNum,Gender:e.Gender,Nationality:e.Nationality,BirthDate:e.BirthDate}).then((function(e){console.log(e.data)}))}({TraderID:g()(localStorage.userToken).TraderID,FName:e.state.FirstName,LName:e.state.LastName,Address:e.state.Address,MobileNum:e.state.PhoneNumber,Gender:e.state.Gender,Nationality:e.state.Nationality,BirthDate:e.state.DateOfBirth}).then((function(t){var a=g()(localStorage.userToken);a.FName=e.state.FirstName,a.LName=e.state.LastName,a.Address=e.state.Address,a.MobileNum=e.state.PhoneNumber,a.Gender=e.state.Gender,a.Nationality=e.state.Nationality,a.BirthDate=e.state.DateOfBirth;var n=ke.a.sign(a,"mysecret");localStorage.setItem("userToken",n),e.setState({SettingsSaved:!0})}))},e.state={FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:"",ValidFirstName:!0,ValidLastName:!0,ValidPhoneNumber:!0,ValidForm:!0,SettingsSaved:!1,Errors:{FirstName:"",LastName:"",PhoneNumber:""}},e.onChange=e.onChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=g()(localStorage.userToken);this.setState({FirstName:e.FName,LastName:e.LName,DateOfBirth:e.BirthDate,Gender:e.Gender,Address:e.Address,PhoneNumber:e.MobileNum,Nationality:e.Nationality})}else this.setState({FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:""})}},{key:"validateField",value:function(e,t){var a=this,n=this.state.Errors,r=this.state.ValidFirstName,s=this.state.ValidLastName,l=this.state.ValidPhoneNumber;switch(e){case"FirstName":r=t.match(/^[a-zA-Z ]+$/),n.FirstName=r?"":"First name is invalid.";break;case"LastName":s=t.match(/^[a-zA-Z ]+$/),n.LastName=s?"":"Last name is invalid.";break;case"PhoneNumber":l=t.match(/^\+[0-9]?()[0-9](\s|\S)(\d[0-9]{9})$/),n.PhoneNumber=l?"":"Phone number is invalid."}this.setState({Errors:n,ValidFirstName:r,ValidLastName:s,ValidPhoneNumber:l},(function(){a.setState({ValidForm:a.state.ValidFirstName&&a.state.ValidLastName&&a.state.ValidPhoneNumber})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement(Ee,{Message:"Settings saved successfully.",Show:!0});return r.a.createElement("div",null,r.a.createElement("div",{class:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"General Settings"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"entity-list entity-list-expandable"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-signature"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"FirstName",autocomplete:"off",value:this.state.FirstName,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"First Name"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.FirstName))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-signature"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"LastName",autocomplete:"off",value:this.state.LastName,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Last Name"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.LastName))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-birthday-cake"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"date",class:"form-control",name:"DateOfBirth",autocomplete:"off",value:this.state.DateOfBirth,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Date of Birth"))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"Male"===this.state.Gender?"fa fa-male":"fa fa-female"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"dropdown",style:{width:"193px",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",class:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.Gender),r.a.createElement("span",{class:"caret"})),r.a.createElement("ul",{class:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement(u.b,{onClick:function(t){e.state.Gender="Male"},onChange:this.onChange},"Male")),r.a.createElement("li",null,r.a.createElement(u.b,{onClick:function(t){e.state.Gender="Female"},onChange:this.onChange},"Female"))))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Gender"))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-flag"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"Nationality",autocomplete:"off",value:this.state.Nationality,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Nationality"))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-phone"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"PhoneNumber",autocomplete:"off",placeholder:"+XXXXXXXXXXXX",value:this.state.PhoneNumber,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Phone Number"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.PhoneNumber))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-location-arrow"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"Address",autocomplete:"off",value:this.state.Address,onChange:this.onChange,style:{width:"393px"}}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Address"))),r.a.createElement("div",{class:"entity-list-item active"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-save"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Save Changes?"),r.a.createElement("div",{class:"content-text-secondary"},"This cannot be undone.")),r.a.createElement("div",{class:"item-content-expanded"},r.a.createElement("input",{type:"submit",value:"Save",class:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.SettingsSaved&&t)}}]),t}(n.Component),De=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(x.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),e.state.NewUsername!==e.state.Username||e.state.NewEmail!==e.state.Email){n.next=3;break}return n.abrupt("return");case 3:if(e.state.NewEmail!==e.state.Email){n.next=8;break}a={TraderID:g()(localStorage.userToken).TraderID,UserName:e.state.NewUsername,EmailAdrs:e.state.NewEmail},M(a).then((function(t){if("Trader is updated."===t){var a=g()(localStorage.userToken);a.UserName=e.state.NewUsername,a.EmailAdrs=e.state.NewEmail;var n=ke.a.sign(a,"mysecret");localStorage.setItem("userToken",n),e.setState({MessageBox:r.a.createElement(Ee,{Message:"Username is updated successfully.",Show:!0})})}else e.setState({MessageBox:r.a.createElement(Ee,{Message:"Settings could not be saved. Please try later.",Show:!0})})})),n.next=10;break;case 8:return n.next=10,N.a.awrap(C.a.post("users/sendCode",{Email:e.state.NewEmail}).then((function(t){t&&e.setState({CodeConfirmation:r.a.createElement(Pe,{Code:t.data,Show:!0,Username:e.state.NewUsername,Email:e.state.NewEmail})})})));case 10:case"end":return n.stop()}}))},e.state={Username:"",NewUsername:"",Email:"",NewEmail:"",Code:"",ValidNewUsername:!0,ValidNewEmail:!0,ValidForm:!0,MessageBox:"",Errors:{NewUsername:"",NewEmail:""},CodeConfirmation:""},e.onChange=e.onChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=g()(localStorage.userToken);this.setState({Username:e.UserName,NewUsername:e.UserName,Email:e.EmailAdrs,NewEmail:e.EmailAdrs})}else this.setState({Username:"",NewUsername:"",Email:"",NewEmail:""})}},{key:"validateField",value:function(e,t){var a,n,r,s=this;return N.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:a=this.state.Errors,n=this.state.ValidNewUsername,r=this.state.ValidNewEmail,l.t0=e,l.next="NewUsername"===l.t0?6:"NewEmail"===l.t0?21:36;break;case 6:if(""!==t){l.next=10;break}return n=!1,a.NewUsername="Username is required.",l.abrupt("break",37);case 10:if(t.match(/^[a-z0-9]+$/i)){l.next=14;break}return n=!1,a.NewUsername="Username is invalid.",l.abrupt("break",37);case 14:if(t!==this.state.Username){l.next=18;break}return n=!0,a.NewUsername="",l.abrupt("break",37);case 18:return l.next=20,N.a.awrap(C.a.post("https://naqelserver.azurewebsites.net/users/validateUsername",{Username:t}).then((function(e){"Username is available."===e.data?(n=!0,a.NewUsername=""):(n=!1,a.NewUsername=e.data)})));case 20:return l.abrupt("break",37);case 21:if(""!==t){l.next=25;break}return r=!1,a.NewEmail="Email is required.",l.abrupt("break",37);case 25:if(t.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i)){l.next=29;break}return r=!1,a.NewEmail="Email is invalid.",l.abrupt("break",37);case 29:if(t!==this.state.Email){l.next=33;break}return r=!0,a.NewEmail="",l.abrupt("break",37);case 33:return l.next=35,N.a.awrap(C.a.post("https://naqelserver.azurewebsites.net/users/validateEmail",{Email:t}).then((function(e){"Email is already taken."===e.data?(r=!1,a.NewEmail=e.data):(r=!0,a.NewEmail="")})));case 35:case 36:return l.abrupt("break",37);case 37:this.setState({Errors:a,ValidNewUsername:n,ValidNewEmail:r},(function(){s.setState({ValidForm:s.state.ValidNewUsername&&s.state.ValidNewEmail})}));case 38:case"end":return l.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Username and Emails"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"entity-list entity-list-expandable"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-at"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",name:"NewUsername",class:"form-control",autocomplete:"off",value:this.state.NewUsername,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Username"),r.a.createElement("div",{class:"content-text-secondary text-danger"},this.state.Errors.NewUsername))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-envelope"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"email",name:"NewEmail",class:"form-control",placeholder:"someone@example.com",autocomplete:"off",value:this.state.NewEmail,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Email"),r.a.createElement("div",{class:"content-text-secondary text-danger"},this.state.Errors.NewEmail))),r.a.createElement("div",{class:"entity-list-item active"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-save"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Save Changes?"),r.a.createElement("div",{class:"content-text-secondary"},"This cannot be undone.")),r.a.createElement("div",{class:"item-content-expanded"},r.a.createElement("input",{type:"submit",value:"Save",class:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.CodeConfirmation,this.state.MessageBox)}}]),t}(n.Component),Ae=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).onChange=function(t){var a=t.target.name,n=t.target.value;e.setState(Object(x.a)({},a,n),(function(){e.validateField(a,n)}))},e.onSubmit=function(t){var a;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.preventDefault(),a={TraderID:g()(localStorage.userToken).TraderID,Password:e.state.NewPassword},n.next=4,N.a.awrap(F(a).then((function(t){if("Trader/Broker is updated."===t){var a=g()(localStorage.userToken);a.Password=e.state.Password;var n=ke.a.sign(a,"mysecret");localStorage.setItem("userToken",n),e.setState({MessageBox:r.a.createElement(Ee,{Message:"Settings saved successfully.",Show:!0})})}})));case 4:case"end":return n.stop()}}))},e.state={Password:"",CurrentPassword:"",NewPassword:"",ConfirmPassword:"",ValidCurrentPassword:!1,ValidNewPassword:!1,ValidConfirmPassword:!1,ValidForm:!0,MessageBox:"",Errors:{CurrentPassword:"",NewPassword:"",ConfirmPassword:""}},e.onChange=e.onChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.userToken){var e=g()(localStorage.userToken);this.setState({Password:e.Password})}}},{key:"validateField",value:function(e,t){var a,n,r,s,l=this;return N.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:a=this.state.Errors,n=this.state.ValidCurrentPassword,r=this.state.ValidNewPassword,s=this.state.ValidConfirmPassword,i.t0=e,i.next="CurrentPassword"===i.t0?7:"NewPassword"===i.t0?11:"ConfirmPassword"===i.t0?14:17;break;case 7:return i.next=9,N.a.awrap(C.a.post("https://naqelserver.azurewebsites.net/users/validatePassword",{TraderID:g()(localStorage.userToken).TraderID,Password:t}).then((function(e){n="Valid password."===e.data})));case 9:return a.CurrentPassword=n?"":"Current password is invalid.",i.abrupt("break",18);case 11:return r=t.length>=6,a.NewPassword=r?"":"Password is too short.",i.abrupt("break",18);case 14:return s=t===this.state.NewPassword,a.ConfirmPassword=s?"":"Passwords did not match.",i.abrupt("break",18);case 17:return i.abrupt("break",18);case 18:this.setState({Errors:a,ValidCurrentPassword:n,ValidNewPassword:r,ValidConfirmPassword:s},(function(){l.setState({ValidForm:l.state.ValidCurrentPassword&&l.state.ValidNewPassword&&l.state.ValidConfirmPassword})}));case 19:case"end":return i.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Change Password"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"entity-list entity-list-expandable"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-key"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"password",name:"CurrentPassword",class:"form-control",autocomplete:"off",value:this.state.CurrentPassword,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Current Password"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.CurrentPassword))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-key"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"password",name:"NewPassword",class:"form-control",autocomplete:"off",value:this.state.NewPassword,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"New Password"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.NewPassword))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-key"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"password",name:"ConfirmPassword",class:"form-control",autocomplete:"off",value:this.state.ConfirmPassword,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Confirm Password"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.ConfirmPassword))),r.a.createElement("div",{class:"entity-list-item active"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fa fa-save"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Save Changes?"),r.a.createElement("div",{class:"content-text-secondary"},"This cannot be undone.")),r.a.createElement("div",{class:"item-content-expanded"},r.a.createElement("input",{type:"submit",value:"Save",class:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.MessageBox)}}]),t}(n.Component),Ve=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(je,null),r.a.createElement(De,null),r.a.createElement(Ae,null))}}]),t}(n.Component),Me=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return localStorage.userToken?r.a.createElement("div",null,r.a.createElement("ul",{class:"nav nav-tabs theme-alt",role:"tablist",style:ne},r.a.createElement("li",{role:"presentation",class:"active"},r.a.createElement("a",{href:"#profile","aria-controls":"prfile",role:"tab","data-toggle":"tab"},"Profile")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#financialAffairs","aria-controls":"financialAffairs",role:"tab","data-toggle":"tab"},"Financial Affairs")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#jobs","aria-controls":"jobs",role:"tab","data-toggle":"tab"},"Jobs")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#payments","aria-controls":"payments",role:"tab","data-toggle":"tab"},"Payments")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#settings","aria-controls":"settings",role:"tab","data-toggle":"tab"},"Settings"))),r.a.createElement("div",{class:"tab-content"},r.a.createElement("div",{role:"tabpanel",class:"tab-pane active",id:"profile"},r.a.createElement(Ie,null)),r.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"permits"},r.a.createElement(be,null)),r.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"financialAffairs"},r.a.createElement(fe,null)),r.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"jobs"},r.a.createElement(ye,null)),r.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"payments"},r.a.createElement(we,null)),r.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"settings"},r.a.createElement(Ve,null)))):(this.props.history.push("/login"),r.a.createElement("a",null))}}]),t}(n.Component),Fe=(a(256),function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("a",{id:"up",href:"#top",class:"back-to-top",style:{position:"fixed",left:"20px",bottom:"20px"}},r.a.createElement("i",{class:"glyph glyph-up",style:{color:"#008575"}}),r.a.createElement("span",{class:"sr-only"},"Back to top"))}}]),t}(n.Component)),Re=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",{class:"border-top footer theme-default color-bg-light-neutral-high text-light"},r.a.createElement("div",{class:"container"},"\xa9 ",(new Date).getFullYear()," - Core Infinite - ",r.a.createElement("a",{"asp-area":"","asp-controller":"Home","asp-action":"Privacy"},"Privacy")))}}]),t}(n.Component),Le=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(u.a,{basename:"/"},r.a.createElement("div",{className:"App"},r.a.createElement(y,null),r.a.createElement(p.a,{exact:!0,path:"/",component:w}),r.a.createElement(p.a,{exact:!0,path:"/register",component:Z}),r.a.createElement(p.a,{exact:!0,path:"/emailConfirmation",component:ee}),r.a.createElement(p.a,{exact:!0,path:"/accountSetup",component:te}),r.a.createElement(p.a,{exact:!0,path:"/congratulations",component:ae}),r.a.createElement(p.a,{exact:!0,path:"/login",component:K}),r.a.createElement(p.a,{exact:!0,path:"/dashboard",component:Te}),r.a.createElement(p.a,{exact:!0,path:"/traderdashboard",component:Me}),r.a.createElement(Fe,null),r.a.createElement(Re,null)))}}]),t}(n.Component);l.a.render(r.a.createElement(Le,null),document.getElementById("root"))}},[[126,1,2]]]);
//# sourceMappingURL=main.7ade10d0.chunk.js.map