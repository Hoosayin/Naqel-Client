(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{174:function(e,a,t){e.exports=t(400)},179:function(e,a,t){},400:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(73),l=t.n(s),c=(t(179),t(2)),i=t(3),o=t(5),m=t(4),d=t(6),u=t(11),p=t(35),E=t(7),b=t(47),h=t.n(b),g=t(8),v=t.n(g),f=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).logOut=function(e){e.preventDefault(),localStorage.userToken?localStorage.removeItem("userToken"):localStorage.Token&&localStorage.removeItem("Token"),t.props.history.push("/login")},t.state={DriverLoggedIn:!1},t.logOut=t.logOut.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e;localStorage.Token&&(e=h()(localStorage.Token));var a=r.a.createElement("ul",{className:"nav navbar-nav navbar-right"},r.a.createElement("li",null,r.a.createElement(u.b,{to:"/register"},"Register")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"/login"},"Login"))),t=r.a.createElement("ul",{className:"nav navbar-nav navbar-right"},r.a.createElement("li",null,r.a.createElement(u.b,{to:e&&e.DriverID?"/drivers":"/traders"},"Dashboard")),r.a.createElement("li",null,r.a.createElement(u.b,{to:"",onClick:this.logOut.bind(this)},"Logout")));return r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-default"},r.a.createElement("div",{className:"navbar-local color-accent theme-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-header"},r.a.createElement("button",{type:"button",className:"navbar-toggle collapsed","data-toggle":"collapse","data-target":"#bs-example-navbar-collapse-2"},r.a.createElement("span",{className:"sr-only"},"Toggle navigation"),r.a.createElement("i",{className:"glyph glyph-hamburger"})),r.a.createElement(u.b,{to:"/",className:"navbar-brand"},v.a.APP_NAME.toUpperCase())),r.a.createElement("div",{className:"collapse navbar-collapse",id:"bs-example-navbar-collapse-2"},r.a.createElement("ul",{className:"nav navbar-nav"}),localStorage.Token?t:a)))))}}]),a}(n.Component),N=Object(p.f)(f),y=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",{class:"jumbotron theme-alt",style:{width:"100%",backgroundColor:"#202020"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"truck.png",src:"./images/truck.png","data-source-index":"2"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3",style:{color:"#008575"}},"Weclome to Naqel"),r.a.createElement("div",{class:"type-sh3",style:{color:"#949496"}},"Transport Services On-The-Go"),r.a.createElement("p",{style:{color:"#D1D2D4"}},"Welcome to Naqel! If you are a trader or a broker, and you want to publish job opportunities for drivers nearby, well, you are on the right place. Naqel is a mediator among traders, brokers and drivers, and provides intuitive and secure way to get transport services."),r.a.createElement("p",{style:{color:"#D1D2D4"}},"Not a Trader or a Broker? No worries! Naqel provides services for drivers too. If you are a driver, and you are searching for job opportunities, you are just one step away. Create your account on our Web Service, and we will notify you job oppprtunities on your personal account."))))),r.a.createElement("div",{class:"jumbotron theme-alt",style:{width:"100%",backgroundColor:"#16171F"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"oath.png",src:"./images/oath.png","data-source-index":"2"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3",style:{color:"#008575"}},"Privacy"),r.a.createElement("div",{class:"type-sh3",style:{color:"#949496"}},"Your Privacy is Important to Us"),r.a.createElement("p",{style:{color:"#D1D2D4"}},"Naqel's Privacy Statement describes the types of data we collect from you, how we use your data, and the legal bases we have to process your data. The Privacy Statement also describes how Naqel uses your content, which is information submitted by you to Naqel via the Services."),r.a.createElement("p",{style:{color:"#D1D2D4"}},"Where processing is based on consent and to the extent permitted by law, by agreeing to these Terms, you consent to Naqel's collection, use and disclosure of your content and data as described in the privacy statement."))))),r.a.createElement("div",{class:"jumbotron theme-alt",style:{width:"100%",backgroundColor:"#00201C"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"account.png",src:"./images/account.png","data-source-index":"2"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3",style:{color:"#008575"}},"User Accounts"),r.a.createElement("div",{class:"type-sh3",style:{color:"#949496"}},"Signup and/or Login"),r.a.createElement("p",{style:{color:"#D1D2D4"}},"Do you want to use our services right now? No Worries! Just signup by filling up precise forms and/or login to your profile. Drivers can view job opprotunities on their dashboards. Traders and/or Brokers can post job requests for freight from thier accounts."),r.a.createElement("div",{class:"btn-group"},r.a.createElement(u.b,{to:"/register",class:"btn btn-secondary"},"Signup"),r.a.createElement(u.b,{to:"/login",class:"btn btn-primary"},"Login")))))),r.a.createElement("div",{class:"jumbotron theme-dark",style:{backgroundColor:"#202020"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-24 text-center"},r.a.createElement("div",{class:"row section-gallery"},r.a.createElement("div",{class:"col-md-8"},r.a.createElement("h4",{style:{fontWeight:"bold"}},"LOCATION"),r.a.createElement("div",{class:"type-p1 text-center"},"Wah",r.a.createElement("br",null),"Punjab, Pakistan")),r.a.createElement("div",{class:"col-md-8"},r.a.createElement("h4",{style:{fontWeight:"bold"}},"AROUND THE GLOBE"),r.a.createElement("div",{class:"type-p1 text-center text-light",style:{color:"#25AAE1"}},r.a.createElement("a",{class:"fa",href:"#"},r.a.createElement("i",{class:"fab fa-fw fa-facebook-f"})),r.a.createElement("a",{class:"fa",href:"#"},r.a.createElement("i",{class:"fab fa-fw fa-instagram"})),r.a.createElement("a",{class:"fa",href:"#"},r.a.createElement("i",{class:"fab fa-fw fa-twitter"})))),r.a.createElement("div",{class:"col-md-8"},r.a.createElement("h4",{style:{fontWeight:"bold"}},"CONTACT US"),r.a.createElement("div",{class:"type-p1 text-center"},"Naqel is created by Core Infinite. For more information, visit ",r.a.createElement("a",{style:{textDecoration:"none",color:"#008575"},href:"#",class:"color-type-accent"},"coreinfinte.com")))))))))}}]),a}(n.Component),x=y,C=t(1),O=t.n(C),P=t(9),k=t(10),S=t.n(k),w=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/register"),{Username:e.Username,Email:e.Email,Password:e.Password,RegisterAs:e.RegisterAs}).then((function(e){return 0===e.data.localeCompare(v.a.USERNAME_OR_EMAIL_TAKEN)?e.data:(localStorage.setItem("newCredentialsToken",e.data),e.data)})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},T=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"users/accountSetup"),{Username:e.Username,Email:e.Email,Password:e.Password,RegisterAs:e.RegisterAs,FirstName:e.FirstName,LastName:e.LastName,DateOfBirth:e.DateOfBirth,Gender:e.Gender,Address:e.Address,PhoneNumber:e.PhoneNumber,Nationality:e.Nationality}).then((function(e){console.log(e.data)})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},D=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request on ".concat(v.a.NAQEL_SERVER,"drivers/login")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/login"),{EmailOrUsername:e.EmailOrUsername,Password:e.Password,SignInAs:e.SignInAs}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},j=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending GET request to ".concat(v.a.NAQEL_SERVER,"drivers/get").concat(e.Get,"...")),a.next=3,O.a.awrap(S.a.get("".concat(v.a.NAQEL_SERVER,"drivers/get").concat(e.Get),{params:e.Params,headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},R=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"drivers/uploadDriverProfilePhoto")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/uploadDriverProfilePhoto"),{PhotoURL:e.PhotoURL,FileName:e.FileName},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},L=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/generalSettings"),{FirstName:e.FirstName,LastName:e.LastName,Address:e.Address,PhoneNumber:e.PhoneNumber,Gender:e.Gender,Nationality:e.Nationality,DateOfBirth:e.DateOfBirth},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},U=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/validateUsername"),{Username:e}).then((function(e){return e.data})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},V=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/validateEmail"),{Email:e}).then((function(e){return e.data})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},I=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"users/sendCode...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"users/sendCode"),{Email:e}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},A=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"drivers/usernameAndEmailSettings...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/usernameAndEmailSettings"),{Username:e.Username,Email:e.Email},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},F=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/validatePassword"),{Password:e.Password},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},J=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/passwordSettings"),{Password:e.Password},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},M=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"drivers/addTruck...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/addTruck"),{PlateNumber:e.PlateNumber,Owner:e.Owner,ProductionYear:e.ProductionYear,Brand:e.Brand,Model:e.Model,Type:e.Type,MaximumWeight:e.MaximumWeight,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},q=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"drivers/updateTruckPhoto...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/updateTruckPhoto"),{PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},W=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"drivers/updateTruck...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/updateTruck"),{PlateNumber:e.PlateNumber,Owner:e.Owner,ProductionYear:e.ProductionYear,Brand:e.Brand,Model:e.Model,Type:e.Type,MaximumWeight:e.MaximumWeight},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},B=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"drivers/addTrailer...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/addTrailer"),{MaximumWeight:e.MaximumWeight,PhotoURL:e.PhotoURL,Type:e.Type},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},G=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(v.a.NAQEL_SERVER,"drivers/deleteTrailer...")),a.next=3,O.a.awrap(S.a.delete("".concat(v.a.NAQEL_SERVER,"drivers/deleteTrailer"),{headers:{Authorization:"JWT ".concat(e.Token)},data:{TrailerID:e.TrailerID}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},_=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"drivers/addDrivingLicence...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/addDrivingLicence"),{LicenceNumber:e.LicenceNumber,Type:e.Type,ReleaseDate:e.ReleaseDate,ExpiryDate:e.ExpiryDate,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},Q=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"drivers/updateDrivingLicence...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/updateDrivingLicence"),{LicenceNumber:e.LicenceNumber,Type:e.Type,ReleaseDate:e.ReleaseDate,ExpiryDate:e.ExpiryDate,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},H=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(v.a.NAQEL_SERVER,"drivers/deleteDrivingLicence...")),a.next=3,O.a.awrap(S.a.delete("".concat(v.a.NAQEL_SERVER,"drivers/deleteDrivingLicence"),{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},Y=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"drivers/addEntryExitCard...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/addEntryExitCard"),{EntryExitNumber:e.EntryExitNumber,Type:e.Type,ReleaseDate:e.ReleaseDate,NumberOfMonths:e.NumberOfMonths},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},z=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"drivers/updateEntryExitCard...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/updateEntryExitCard"),{EntryExitNumber:e.EntryExitNumber,Type:e.Type,ReleaseDate:e.ReleaseDate,NumberOfMonths:e.NumberOfMonths},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},K=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(v.a.NAQEL_SERVER,"drivers/deleteEntryExitCard...")),a.next=3,O.a.awrap(S.a.delete("".concat(v.a.NAQEL_SERVER,"drivers/deleteEntryExitCard"),{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},X=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"drivers/addIdentityCard...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/addIdentityCard"),{Token:e.Token,IDNumber:e.IDNumber,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},$=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"drivers/updateIdentityCard...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/updateIdentityCard"),{Token:e.Token,IDNumber:e.IDNumber,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},Z=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(v.a.NAQEL_SERVER,"drivers/deleteIdentityCard...")),a.next=3,O.a.awrap(S.a.delete("".concat(v.a.NAQEL_SERVER,"drivers/deleteIdentityCard"),{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},ee=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"drivers/addPermitLicence...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/addPermitLicence"),{PermitNumber:e.PermitNumber,ExpiryDate:e.ExpiryDate,PhotoURL:e.PhotoURL,Code:e.Code,Place:e.Place},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},ae=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(v.a.NAQEL_SERVER,"drivers/deletePermitLicence...")),a.next=3,O.a.awrap(S.a.delete("".concat(v.a.NAQEL_SERVER,"drivers/deletePermitLicence"),{headers:{Authorization:"JWT ".concat(e.Token)},data:{PermitLicenceID:e.PermitLicenceID}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},te=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"drivers/updatePermitLicence...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/updatePermitLicence"),{PermitLicenceID:e.PermitLicenceID,PermitNumber:e.PermitNumber,ExpiryDate:e.ExpiryDate,PhotoURL:e.PhotoURL,Code:e.Code,Place:e.Place},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},ne=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"drivers/addJobRequest...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/addJobRequest"),{LoadingPlace:e.LoadingPlace,UnloadingPlace:e.UnloadingPlace,TripType:e.TripType,Price:e.Price},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},re=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"drivers/updateJobRequest...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/updateJobRequest"),{JobRequestID:e.JobRequestID,LoadingPlace:e.LoadingPlace,UnloadingPlace:e.UnloadingPlace,TripType:e.TripType,Price:e.Price},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},se=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(v.a.NAQEL_SERVER,"drivers/deleteJobRequest...")),a.next=3,O.a.awrap(S.a.delete("".concat(v.a.NAQEL_SERVER,"drivers/deleteJobRequest"),{headers:{Authorization:"JWT ".concat(e.Token)},data:{JobRequestID:e.JobRequestID}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},le=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"drivers/addDriverRequest...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/addDriverRequest"),{JobOfferID:e.JobOfferID,Price:e.Price},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},ce=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(v.a.NAQEL_SERVER,"drivers/deleteDriverRequest...")),a.next=3,O.a.awrap(S.a.delete("".concat(v.a.NAQEL_SERVER,"drivers/deleteDriverRequest"),{headers:{Authorization:"JWT ".concat(e.Token)},data:{JobOfferID:e.JobOfferID}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},ie=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"drivers/addOnGoingJob...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/addOnGoingJob"),{TraderRequestID:e.TraderRequestID},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},oe=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"drivers/addObjectionReason...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/addObjectionReason"),{Reason:e.Reason},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},me=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"drivers/addJobObjection...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/addJobObjection"),{OnGoingJobID:e.OnGoingJobID,Reason:e.Reason,Comment:e.Comment},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},de=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"drivers/finishJob...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/finishJob"),{},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},ue=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("I'm in registerTrader axios..."),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"traders/register"),{Username:e.Username,Email:e.Email,Password:e.Password,RegisterAs:e.RegisterAs}).then((function(e){return 0===e.data.localeCompare(v.a.USERNAME_OR_EMAIL_TAKEN)?e.data:(localStorage.setItem("newCredentialsToken",e.data),e.data)})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},pe=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"users/accountSetup"),{Username:e.Username,Email:e.Email,Password:e.Password,RegisterAs:e.RegisterAs,FirstName:e.FirstName,LastName:e.LastName,DateOfBirth:e.DateOfBirth,Gender:e.Gender,Address:e.Address,PhoneNumber:e.PhoneNumber,Nationality:e.Nationality}).then((function(e){console.log(e.data)})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},Ee=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"traders/login"),{EmailOrUsername:e.EmailOrUsername,Password:e.Password}).then((function(e){return e.data})).catch((function(e){console.log(e)})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},be=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending GET request to ".concat(v.a.NAQEL_SERVER,"traders/get").concat(e.Get,"...")),a.next=3,O.a.awrap(S.a.get("".concat(v.a.NAQEL_SERVER,"traders/get").concat(e.Get),{params:e.Params,headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},he=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"traders/uploadTraderProfilePhoto"),{PhotoURL:e.PhotoURL,FileName:e.FileName},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},ge=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"traders/generalSettings"),{FirstName:e.FirstName,LastName:e.LastName,Address:e.Address,PhoneNumber:e.PhoneNumber,Gender:e.Gender,Nationality:e.Nationality,DateOfBirth:e.DateOfBirth},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},ve=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"traders/validateUsername"),{Username:e}).then((function(e){return e.data})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},fe=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"traders/validateEmail"),{Email:e}).then((function(e){return e.data})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},Ne=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"users/sendCode"),{Email:e}).then((function(e){return e.data})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},ye=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"traders/usernameAndEmailSettings"),{Username:e.Username,Email:e.Email},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},xe=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"traders/validatePassword"),{Password:e.Password},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},Ce=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"traders/passwordSettings"),{Password:e.Password},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},Oe=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"traders/addJobOffer"),{TripType:e.TripType,CargoType:e.CargoType,CargoWeight:e.CargoWeight,LoadingPlace:e.LoadingPlace,UnloadingPlace:e.UnloadingPlace,LoadingDate:e.LoadingDate,LoadingTime:e.LoadingTime,EntryExit:e.EntryExit,Price:e.Price,AcceptedDelay:e.AcceptedDelay,JobOfferType:e.JobOfferType},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},Pe=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"traders/updateJobOffer"),{JobOfferID:e.JobOfferID,TripType:e.TripType,CargoType:e.CargoType,CargoWeight:e.CargoWeight,LoadingPlace:e.LoadingPlace,UnloadingPlace:e.UnloadingPlace,LoadingDate:e.LoadingDate,LoadingTime:e.LoadingTime,EntryExit:e.EntryExit,Price:e.Price,AcceptedDelay:e.AcceptedDelay,JobOfferType:e.JobOfferType},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}}))},ke=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(v.a.NAQEL_SERVER,"traders/deleteJobOffer...")),a.next=3,O.a.awrap(S.a.delete("".concat(v.a.NAQEL_SERVER,"traders/deleteJobOffer"),{headers:{Authorization:"JWT ".concat(e.Token)},data:{JobOfferID:e.JobOfferID}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},Se=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"traders/addTraderRequest...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"traders/addTraderRequest"),{JobRequestID:e.JobRequestID,CargoType:e.CargoType,CargoWeight:e.CargoWeight,LoadingDate:e.LoadingDate,LoadingTime:e.LoadingTime,EntryExit:e.EntryExit,AcceptedDelay:e.AcceptedDelay},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},we=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP DELETE request to ".concat(v.a.NAQEL_SERVER,"traders/deleteTraderRequest...")),a.next=3,O.a.awrap(S.a.delete("".concat(v.a.NAQEL_SERVER,"traders/deleteTraderRequest"),{headers:{Authorization:"JWT ".concat(e.Token)},data:{JobRequestID:e.JobRequestID}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},Te=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"traders/addObjectionReason...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"traders/addObjectionReason"),{Reason:e.Reason},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},De=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"traders/addJobObjection...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"traders/addJobObjection"),{OnGoingJobID:e.OnGoingJobID,Reason:e.Reason,Comment:e.Comment},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},je=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"traders/approveJob...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"traders/approveJob"),{},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},Re=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"traders/addDriverReview...")),a.next=3,O.a.awrap(S.a.post("".concat(v.a.NAQEL_SERVER,"traders/addDriverReview"),{CompletedJobID:e.CompletedJobID,Rating:e.Rating,Review:e.Review},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data})));case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}}))},Le={paddingLeft:"5px",fontWeight:"bold"},Ue={background:"rgba(0, 0, 0, 0.8)",position:"fixed",zIndex:"10",top:"0px",display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},Ve=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:Ue},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("div",{class:"progress-ring progress-large"},r.a.createElement("div",{class:"progress-circle"}),r.a.createElement("div",{class:"progress-circle"}),r.a.createElement("div",{class:"progress-circle"}),r.a.createElement("div",{class:"progress-circle"}),r.a.createElement("div",{class:"progress-circle"}))))}}]),a}(n.Component),Ie={backgroundImage:"url(/images/login_back.jpg)",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover"},Ae={backgroundImage:"url(/images/signup_back.jpg)",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover"},Fe={backgroundImage:"url(/images/passcode_back.jpg)",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover"},Je={backgroundImage:"url(/images/create_account_back.jpg)",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover"},Me={backgroundImage:"url(/images/congrats_back.jpg)",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat",backgroundSize:"cover"},qe={backgroundColor:"rgba(229, 229, 229, 0.8)",height:"auto",width:"350px",padding:"30px",alignContent:"center",boxShadow:"0 6px 6px rgba(0, 0, 0, 0.6)"},We={backgroundColor:"rgba(229, 229, 229, 0.8)",height:"auto",padding:"30px",alignContent:"center",boxShadow:"0 6px 6px rgba(0, 0, 0, 0.6)"},Be={backgroundColor:"rgba(229, 229, 229, 0.8)",height:"auto",width:"60%",margin:"50px",boxShadow:"0 6px 6px rgba(0, 0, 0, 0.6)"},Ge={width:"100%"},_e={paddingTop:"10px"},Qe=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).onChange=function(a){var t=a.target.name,n=a.target.value;e.setState(Object(P.a)({},t,n),(function(){e.validateField(t,n)}))},e.onSubmit=function(a){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,O.a.awrap(a.preventDefault());case 2:if(e.state.ValidForm){n.next=4;break}return n.abrupt("return");case 4:if(e.setState({Preloader:r.a.createElement(Ve,null)}),t={EmailOrUsername:e.state.EmailOrUsername,Password:e.state.Password,SignInAs:e.state.SignInAs},"Driver"!==e.state.SignInAs){n.next=12;break}return console.log("logging in as Driver..."),n.next=10,O.a.awrap(D(t).then((function(a){console.log(a),"Login successful."===a.Message?(localStorage.setItem("Token",a.Token),e.setState({LoggedInAsDriver:!0,Preloader:null})):e.setState({LoginError:r.a.createElement("div",null,r.a.createElement("label",{className:"control-label text-danger"},a.Message),r.a.createElement("br",null)),Preloader:null})})));case 10:n.next=15;break;case 12:return console.log("Logging in as Trader or Broker..."),n.next=15,O.a.awrap(Ee(t).then((function(a){"Login successful."===a.Message?(localStorage.setItem("Token",a.Token),e.setState({LoggedInAsTrader:!0,Preloader:null})):e.setState({LoginError:r.a.createElement("div",null,r.a.createElement("label",{className:"control-label text-danger"},a.Message),r.a.createElement("br",null)),Preloader:null})})));case 15:case"end":return n.stop()}}))},e.state={EmailOrUsername:"",Password:"",SignInAs:"Driver",ValidEmailOrUsername:!1,ValidPassword:!1,ValidForm:!1,LoggedInAsDriver:!1,LoggedInAsTrader:!1,LoginError:null,Errors:{EmailOrUsername:"",Password:""}},e.onChange=e.onChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidEmailOrUsername,s=this.state.ValidPassword;switch(e){case"EmailOrUsername":r=""!==a,n.EmailOrUsername=r?"":"Email or username is required.";break;case"Password":s=""!=a,n.Password=s?"":"Password is required."}this.setState({Errors:n,ValidEmailOrUsername:r,ValidPassword:s},(function(){t.setState({ValidForm:t.state.ValidEmailOrUsername&&t.state.ValidPassword})}))}},{key:"render",value:function(){var e=this;return this.state.LoggedInAsDriver?r.a.createElement(p.a,{to:"/drivers"}):this.state.LoggedInAsTrader?r.a.createElement(p.a,{to:"/traders"}):r.a.createElement("div",null,r.a.createElement("div",{className:"middle",style:Ie},r.a.createElement("div",{className:"theme-default animated fadeIn",style:qe},r.a.createElement("div",{style:Ge},r.a.createElement("img",{src:"./images/login.png",alt:"Login.png",height:"60"}),r.a.createElement("div",{className:"type-h3",style:_e},"Sign In"),r.a.createElement("br",null),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"EmailOrUsername",className:"control-label"},"Email or Username"),r.a.createElement("input",{type:"email",className:"form-control",name:"EmailOrUsername",placeholder:"someone@provider.com",value:this.state.EmailOrUsername,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.EmailOrUsername)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"Password",className:"control-label"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",name:"Password",placeholder:"Password",value:this.state.Password,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Password)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Sign In As"),r.a.createElement("div",{className:"dropdown",style:{width:"100%"}},r.a.createElement("button",{id:"example-dropdown",className:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.SignInAs),r.a.createElement("span",{className:"caret"})),r.a.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement(u.b,{onClick:function(a){e.state.SignInAs="Driver"},onChange:this.onChange},"Driver")),r.a.createElement("li",null,r.a.createElement(u.b,{onClick:function(a){e.state.SignInAs="Trader"},onChange:this.onChange},"Trader")),r.a.createElement("li",null,r.a.createElement(u.b,{onClick:function(a){e.state.SignInAs="Broker"},onChange:this.onChange},"Broker"))))),r.a.createElement("div",{className:"form-group"},this.state.LoginError,r.a.createElement("label",{className:"control-label"},r.a.createElement(u.b,{to:"/"},"Forgot password")),r.a.createElement("br",null),r.a.createElement("label",{className:"control-label"},"No account? ",r.a.createElement("span",null,r.a.createElement(u.b,{to:"/register"},"Register now")))),r.a.createElement("div",null,r.a.createElement("input",{type:"submit",value:"Sign In",className:"btn btn-primary",disabled:!this.state.ValidForm})))))),this.state.Preloader)}}]),a}(n.Component),He=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).onChange=function(a){var t=a.target.name,n=a.target.value;e.setState(Object(P.a)({},t,n),(function(){e.validateField(t,n)}))},e.onSubmit=function(a){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),""!==e.state.Username&&""!==e.state.Email&&""!==e.state.Password&&""!==e.state.ConfirmPassword){n.next=4;break}return e.setState({NullError:!0,UsernameOrEmailTaken:!1}),n.abrupt("return");case 4:if("Driver"!=(t={Username:e.state.Username,Password:e.state.Password,Email:e.state.Email,RegisterAs:e.state.RegisterAs}).RegisterAs){n.next=10;break}return n.next=8,O.a.awrap(w(t).then((function(a){a&&localStorage.newCredentialsToken?e.props.history.push("/emailConfirmation"):e.setState({NullError:!1,UsernameOrEmailTaken:!0})})));case 8:n.next=14;break;case 10:if("Trader"!=t.RegisterAs&&"Broker"!=t.RegisterAs){n.next=14;break}return console.log("Seting up resources for new trader or broker..."),n.next=14,O.a.awrap(ue(t).then((function(a){a&&localStorage.newCredentialsToken?e.props.history.push("/emailConfirmation"):e.setState({NullError:!1,UsernameOrEmailTaken:!0})})));case 14:case"end":return n.stop()}}))},e.state={Username:"",Email:"",Password:"",ConfirmPassword:"",RegisterAs:"Driver",NullError:!1,PasswordsMatched:!1,UsernameOrEmailTaken:!1,ValidEmail:!1,ValidPassword:!1,ValidForm:!1,Agreed:!1,Errors:{Email:"",Password:"",ConfirmPassword:"",Agreed:""}},e.onChange=e.onChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this.state.Errors,n=this.state.ValidEmail,r=this.state.ValidPassword,s=this.state.PasswordsMatched,l=this.state.Agreed;switch(e){case"Email":n=a.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),t.Email=n?"":"Email is invalid.";break;case"Password":r=a.length>=6,t.Password=r?"":"Password is too short.";break;case"ConfirmPassword":s=this.state.Password===a,t.ConfirmPassword=s?"":"Passwords did not match.";break;case"IsAgree":l=this.refs.agreementCheckBox.checked}this.setState({Errors:t,ValidEmail:n,ValidPassword:r,PasswordsMatched:s,Agreed:l},this.validateForm)}},{key:"validateForm",value:function(){this.setState({ValidForm:this.state.ValidEmail&&this.state.ValidPassword&&this.state.PasswordsMatched&&this.state.Agreed})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{class:"middle",style:Ae},r.a.createElement("div",{class:"theme-default animated fadeIn",style:qe},r.a.createElement("div",{style:Ge},r.a.createElement("img",{src:"./images/signup.png",alt:"signup.png",height:"60"}),r.a.createElement("div",{class:"type-h3",style:_e},"Sign Up"),r.a.createElement("br",null),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"Username",class:"control-label"},"Username"),r.a.createElement("span",{class:"text-danger",style:Le},"*"),r.a.createElement("input",{htmlFor:"Username",type:"text",name:"Username",class:"form-control",autocomplete:"off",value:this.state.Username,onChange:this.onChange,required:!0})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"Email",class:"control-label"},"Email"),r.a.createElement("span",{class:"text-danger",style:Le},"*"),r.a.createElement("input",{htmlFor:"Email",type:"email",name:"Email",class:"form-control",placeholder:"someone@example.com",autocomplete:"off",value:this.state.Email,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Email)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"Password",class:"control-label"},"Password"),r.a.createElement("span",{class:"text-danger",style:Le},"*"),r.a.createElement("input",{htmlFor:"Password",type:"password",name:"Password",class:"form-control",value:this.state.Password,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Password)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"ConfirmPassword",class:"control-label"},"Confirm Password"),r.a.createElement("span",{class:"text-danger",style:Le},"*"),r.a.createElement("input",{htmlFor:"ConfirmPassword",type:"password",name:"ConfirmPassword",class:"form-control",value:this.state.ConfirmPassword,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.ConfirmPassword)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{class:"control-label"},"Register As"),r.a.createElement("div",{class:"dropdown",style:{width:"100%",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",class:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.RegisterAs),r.a.createElement("span",{class:"caret"})),r.a.createElement("ul",{class:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement(u.b,{onClick:function(a){e.state.RegisterAs="Driver"},onChange:this.onChange},"Driver")),r.a.createElement("li",null,r.a.createElement(u.b,{onClick:function(a){e.state.RegisterAs="Trader"},onChange:this.onChange},"Trader")),r.a.createElement("li",null,r.a.createElement(u.b,{onClick:function(a){e.state.RegisterAs="Broker"},onChange:this.onChange},"Broker"))))),r.a.createElement("div",null,r.a.createElement("div",{class:"checkbox"},r.a.createElement("label",{class:"control-label"},r.a.createElement("input",{ref:"agreementCheckBox",type:"checkbox",name:"IsAgree",value:"",onChange:this.onChange}),r.a.createElement("span",null,"Agree with our "),r.a.createElement("span",null,r.a.createElement(u.b,{"data-toggle":"modal","data-target":"#terms"},"Terms and Conditions"))))),r.a.createElement("div",{class:"form-group"},this.state.NullError&&r.a.createElement("div",null,r.a.createElement("label",{class:"control-label text-danger"},"All fields are required."),r.a.createElement("br",null)),this.state.UsernameOrEmailTaken&&r.a.createElement("div",null,r.a.createElement("label",{class:"control-label text-danger"},"Username or email is already taken."),r.a.createElement("br",null)),this.state.AgreementError&&r.a.createElement("div",null,r.a.createElement("label",{class:"control-label text-danger"},"You must agree to our terms and conditions."),r.a.createElement("br",null)),r.a.createElement("label",{class:"control-label"},"Have an account? ",r.a.createElement("span",null,r.a.createElement(u.b,{to:"/login"},"Sign In Now!")))),r.a.createElement("input",{type:"submit",value:"Next",class:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{class:"modal",id:"terms",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},r.a.createElement("div",{class:"modal-dialog"},r.a.createElement("div",{class:"modal-content animated fadeIn"},r.a.createElement("div",{class:"modal-header"},r.a.createElement("h4",{class:"modal-title",id:"modal-sample-label"},"Terms of Use")),r.a.createElement("div",{class:"modal-body text-justify"},"Your privacy is important to us. ",r.a.createElement("span",null,v.a.APP_NAME),"'s Privacy Statement describes the types of data we collect from you, how we use your Data, and the legal bases we have to process your Data. The Privacy Statement also describes how ",String.APP_NAME," uses your content, which is information submitted by you to ",v.a.APP_NAME," via the Services. Where processing is based on consent and to the extent permitted by law, by agreeing to these Terms, you consent to ",v.a.APP_NAME,"\ufffd collection, use and disclosure of your content and data as described in the privacy statement. In some cases, we will provide separate notice and request your consent as referenced in the privacy statement."),r.a.createElement("div",{class:"modal-footer"},r.a.createElement("button",{type:"button",class:"btn btn-info","data-dismiss":"modal"},"Ok"))))))}}]),a}(n.Component),Ye=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).onChange=function(a){e.setState(Object(P.a)({},a.target.name,a.target.value))},e.onSubmit=function(a){a.preventDefault();var t=h()(localStorage.newCredentialsToken).Code;""!==e.state.ConfirmationCode?e.state.ConfirmationCode==t?(localStorage.setItem("verifiedCredentialsToken",localStorage.newCredentialsToken),localStorage.removeItem("newCredentialsToken"),e.props.history.push("/setupAccount")):e.setState({NullError:!1,InvalidCodeError:!0}):e.setState({NullError:!0,InvalidCodeError:!1})},e.state={ConfirmationCode:0,NullError:!1,InvalidCodeError:!1,Errors:{}},e.onChange=e.onChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return localStorage.newCredentialsToken?r.a.createElement("div",{class:"middle",style:Fe},r.a.createElement("div",{class:"theme-default animated fadeIn",style:qe},r.a.createElement("div",{style:Ge},r.a.createElement("img",{src:"./images/passcode.png",alt:"passcode.png",height:"60"}),r.a.createElement("div",{class:"type-h3",style:_e},"Email Confirmation"),r.a.createElement("div",{class:"type-sh3"},"We delivered a confirmation code to your email."),r.a.createElement("br",null),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"ConfirmationCode",class:"control-label"},"Confirmation Code"),r.a.createElement("span",{class:"text-danger",style:Le},"*"),r.a.createElement("input",{htmlFor:"ConfirmationCode",type:"text",name:"ConfirmationCode",class:"form-control",value:this.state.ConfirmationCode,onChange:this.onChange})),r.a.createElement("div",{class:"form-group"},this.state.NullError&&r.a.createElement("div",null,r.a.createElement("label",{class:"control-label text-danger"},"Confirmation code is required."),r.a.createElement("br",null)),this.state.InvalidCodeError&&r.a.createElement("div",null,r.a.createElement("label",{class:"control-label text-danger"},"Invalid code."),r.a.createElement("br",null))),r.a.createElement("input",{type:"submit",value:"Next",class:"btn btn-primary"}))))):(this.props.history.push("/register"),r.a.createElement("a",null))}}]),a}(n.Component),ze=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).onChange=function(a){var t=a.target.name,n=a.target.value;e.setState(Object(P.a)({},t,n),(function(){e.validateField(t,n)}))},e.onSubmit=function(a){var t,n;return O.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.preventDefault(),e.state.ValidForm){r.next=3;break}return r.abrupt("return");case 3:if(localStorage.verifiedCredentialsToken&&(t=h()(localStorage.verifiedCredentialsToken),e.state.Username=t.Username,e.state.Email=t.Email,e.state.Password=t.Password,e.state.RegisterAs=t.RegisterAs),"Driver"!=(n={Username:e.state.Username,Email:e.state.Email,Password:e.state.Password,RegisterAs:e.state.RegisterAs,FirstName:e.state.FirstName,LastName:e.state.LastName,DateOfBirth:e.state.DateOfBirth,Gender:e.state.Gender,Address:e.state.Address,PhoneNumber:e.state.PhoneNumber,Nationality:e.state.Nationality}).RegisterAs){r.next=8;break}return r.next=8,O.a.awrap(T(n).then((function(a){localStorage.removeItem("verifiedCredentialsToken"),localStorage.setItem("IsCreatedSuccessfully",!0),e.props.history.push("/congratulations")})));case 8:if("Trader"!=n.RegisterAs&&"Broker"!=n.RegisterAs){r.next=11;break}return r.next=11,O.a.awrap(pe(n).then((function(a){localStorage.removeItem("verifiedCredentialsToken"),localStorage.setItem("IsCreatedSuccessfully",!0),e.props.history.push("/congratulations")})));case 11:case"end":return r.stop()}}))},e.state={Username:"",Email:"",Password:"",RegisterAs:"",FirstName:"",LastName:"",DateOfBirth:"",Gender:"Male",Nationality:"",Address:"",PhoneNumber:"",ValidFirstName:!1,ValidLastName:!1,ValidDateOfBirth:!1,ValidNationality:!1,ValidAddress:!1,ValidPhoneNumber:!1,ValidForm:!1,Errors:{FirstName:"",LastName:"",DateOfBirth:"",Nationality:"",Address:"",PhoneNumber:""}},e.onChange=e.onChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e.validateField=e.validateField.bind(Object(E.a)(e)),e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidFirstName,s=this.state.ValidLastName,l=this.state.ValidDateOfBirth,c=this.state.ValidNationality,i=this.state.ValidAddress,o=this.state.ValidPhoneNumber;switch(e){case"FirstName":r=""!==a&&a.match(/^[a-zA-Z ]+$/),n.FirstName=r?"":"First name is invalid.";break;case"LastName":s=""!==a&&a.match(/^[a-zA-Z ]+$/),n.LastName=s?"":"Last name is invalid.";break;case"DateOfBirth":l=new Date(a)<new Date,n.DateOfBirth=l?"":"Your Birthday must be earlier than today.";break;case"Nationality":c=""!==a&&a.match(/^[a-zA-Z ]+$/),n.Nationality=c?"":"Nationality is invalid.";break;case"Address":i=""!==a,n.Address=i?"":"Address is required.";break;case"PhoneNumber":o=a.match(/^\+[0-9]?()[0-9](\s|\S)(\d[0-9]{9})$/),n.PhoneNumber=o?"":"Phone number is invalid."}this.setState({Errors:n,ValidFirstName:r,ValidLastName:s,ValidDateOfBirth:l,ValidNationality:c,ValidAddress:i,ValidPhoneNumber:o},(function(){t.setState({ValidForm:t.state.ValidFirstName&&t.state.ValidLastName&&t.state.ValidDateOfBirth&&t.state.ValidNationality&&t.state.ValidAddress&&t.state.ValidPhoneNumber})}))}},{key:"render",value:function(){var e=this;return localStorage.verifiedCredentialsToken?r.a.createElement("div",{class:"middle",style:Je},r.a.createElement("div",{class:"theme-default animated fadeIn",style:We},r.a.createElement("div",{style:Ge},r.a.createElement("img",{src:"./images/create_account.png",atl:"create_account.png",height:"60"}),r.a.createElement("div",{class:"type-h3",style:_e},"Create Account"),r.a.createElement("div",{class:"type-sh3"},"Just one more step, and you're done!"),r.a.createElement("br",null),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-8"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"FirstName",class:"control-label"},"First Name"),r.a.createElement("span",{class:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",className:"form-control",name:"FirstName",autocomplete:"off",value:this.state.FirstName,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.FirstName)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"LastName",class:"control-label"},"Last Name"),r.a.createElement("span",{class:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",className:"form-control",name:"LastName",autocomplete:"off",value:this.state.LastName,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.LastName)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"DateOfBirth",class:"control-label"},"Date of Birth"),r.a.createElement("span",{class:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"date",class:"form-control",name:"DateOfBirth",autocomplete:"off",value:this.state.DateOfBirth,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.DateOfBirth))),r.a.createElement("div",{class:"col-md-8"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"Gender",class:"control-label"},"Gender"),r.a.createElement("div",{class:"dropdown",style:{width:"193px",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",class:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.Gender),r.a.createElement("span",{class:"caret"})),r.a.createElement("ul",{class:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({Gender:"Male"})}},"Male")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({Gender:"Female"})}},"Female"))))),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"Nationality",class:"control-label"},"Nationality"),r.a.createElement("span",{class:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",className:"form-control",name:"Nationality",autocomplete:"off",value:this.state.Nationality,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Nationality)),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"PhoneNumber",class:"control-label"},"Phone Number"),r.a.createElement("span",{class:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",className:"form-control",name:"PhoneNumber",autocomplete:"off",placeholder:"+XXXXXXXXXXXX",value:this.state.PhoneNumber,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.PhoneNumber))),r.a.createElement("div",{class:"col-md-8"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{htmlFor:"Address",class:"control-label"},"Address"),r.a.createElement("span",{class:"text-danger",style:Le},"*"),r.a.createElement("textarea",{class:"form-control",rows:"5",name:"Address",autocomplete:"off",value:this.state.Address,onChange:this.onChange}),r.a.createElement("span",{class:"text-danger"},this.state.Errors.Address)))),r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"submit",value:"Create",class:"btn btn-primary",disabled:!this.state.ValidForm})))))):(this.props.history.push("/register"),r.a.createElement("a",null))}}]),a}(n.Component),Ke=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).onSubmit=function(a){a.preventDefault(),localStorage.removeItem("IsCreatedSuccessfully"),e.props.history.push("/login")},e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return localStorage.IsCreatedSuccessfully?r.a.createElement("div",{class:"middle",style:Me},r.a.createElement("div",{class:"jumbotron theme-default animated fadeIn",style:Be},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"congrats.png",src:"./images/congrats.png","data-source-index":"2"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3"},"Congratulations"),r.a.createElement("div",{class:"type-sh3"},"Your account has been created successfully."),r.a.createElement("br",null),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("input",{type:"submit",value:"Sign In",class:"btn btn-primary"}))))))):(this.props.history.push("/register"),r.a.createElement("a",null))}}]),a}(n.Component),Xe=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onImageUpload=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.state.Image=e.target.files[0],a=new FormData,n.prev=2,a.append("Image",t.state.Image,t.state.Image.name),n.next=6,O.a.awrap(S.a.post(v.a.IMAGE_UPLOADER,a,{onUploadProgress:function(e){t.setState({UploadProgress:r.a.createElement("div",{className:"progress-bar"},r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}))})}}).then((function(e){var a,n;return O.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if("Image uploaded successfully."!==(e=e.data).message){r.next=6;break}return a={Token:localStorage.Token,PhotoURL:e.imageUrl,FileName:e.filename},n=e.imageUrl,r.next=6,O.a.awrap(R(a).then((function(e){"Profile photo is updated."!==e.Message&&"Profile photo is added."!==e.Message||t.setState({PhotoURL:n,UploadProgress:null})})));case 6:case"end":return r.stop()}}))})).catch((function(){t.setState({ImageURL:"./images/defaultProfilePhoto.png",UploadProgress:null})})));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(2),t.setState({UploadProgress:null}),n.abrupt("return");case 12:case"end":return n.stop()}}),null,null,[[2,8]])},t.onSubmit=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e.preventDefault();case 1:case"end":return a.stop()}}))},t.state={Image:null,PhotoURL:"./images/defaultProfilePhoto.png",UploadProgress:null},t.onImageUpload=t.onImageUpload.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,a=this;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Token:localStorage.Token,Get:"ProfilePhoto"},t.next=4,O.a.awrap(j(e).then((function(e){if("Profile photo found."===e.Message){var t=e.ProfilePhoto;a.setState({PhotoURL:t.PhotoURL})}else a.state({PhotoURL:"./images/defaultProfilePhoto.png"})})));case 4:case"end":return t.stop()}}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("input",{type:"file",onChange:this.onImageUpload,style:{display:"none"},ref:function(a){return e.fileInput=a}}),r.a.createElement("figure",{className:"media"},r.a.createElement("div",{className:"media-img media-img-has-play ratio-1-1"},r.a.createElement("a",{href:"#",onClick:function(){return e.fileInput.click()}},r.a.createElement("img",{style:{border:"5px solid #3A3A3C"},src:this.state.PhotoURL,alt:"ProfilePhoto.png"}),r.a.createElement("i",{className:"glyph glyph-edit"})))),this.state.UploadProgress)}}]),a}(n.Component),$e=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onImageUpload=function(e){if((t.state.Image=e.target.files[0],t.state.Image)&&!t.state.Image.type.startsWith("image"))return void t.props.OnInvalidImageSelected();var a=new FormData;try{a.append("Image",t.state.Image,t.state.Image.name)}catch(n){return void t.setState({UploadProgress:null})}S.a.post(v.a.IMAGE_UPLOADER,a,{onUploadProgress:function(e){t.setState({UploadProgress:r.a.createElement("div",{className:"progress-bar"},r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}))})}}).then((function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t.props.OnImageUploaded(e.data),t.setState({UploadProgress:null});case 2:case"end":return a.stop()}}))})).catch((function(e){t.props.OnImageUploaded(e),t.setState({UploadProgress:null})}))},t.onSubmit=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e.preventDefault();case 1:case"end":return a.stop()}}))},t.state={Image:null,UploadProgress:null},t.onImageUpload=t.onImageUpload.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("input",{type:"file",onChange:this.onImageUpload,style:{display:"none"},ref:function(a){return e.fileInput=a}}),r.a.createElement("figure",{className:"media"},r.a.createElement("div",{className:"media-img media-img-has-play ratio-1-1"},r.a.createElement("a",{href:"#",onClick:function(){return e.fileInput.click()}},r.a.createElement("img",{src:this.props.Source,alt:"ProfilePhoto.png",style:{border:"5px solid #3A3A3C"}}),r.a.createElement("i",{className:"glyph glyph-edit"})))),this.state.UploadProgress)}}]),a}(n.Component),Ze=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,LicenceNumber:t.state.LicenceNumber,Type:t.state.Type,ReleaseDate:t.state.ReleaseDate,ExpiryDate:t.state.ExpiryDate,PhotoURL:t.state.PhotoURL},console.log("Going to add the Driving Licence."),t.setState({Preloader:r.a.createElement(Ve,null)}),n.next=8,O.a.awrap(_(a).then((function(e){"Driving Licence is added."===e.Message&&t.props.OnOK(t.cancelButton),t.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},t.state={LicenceNumber:"",Type:"",ReleaseDate:new Date,ExpiryDate:new Date,PhotoURL:"./images/default_image.png",ValidLicenceNumber:!1,ValidType:!1,ValidReleaseDate:!1,ValidExpiryDate:!1,ValidPhotoURL:!1,ValidForm:!1,Preloader:null,Errors:{LicenceNumber:"",Type:"",ReleaseDate:"",ExpiryDate:"",PhotoURL:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidLicenceNumber,s=this.state.ValidType,l=this.state.ValidReleaseDate,c=this.state.ValidExpiryDate,i=this.state.ValidPhotoURL;switch(e){case"LicenceNumber":r=""!==a,n.LicenceNumber=r?"":"Licence number is required.";break;case"Type":s=""!==a,n.Type=s?"":"Licence type is required";break;case"ReleaseDate":l=new Date(a).getTime()<new Date(this.state.ExpiryDate).getTime(),n.ReleaseDate=l?"":"Release date must be earlier than Expiry date.";break;case"ExpiryDate":c=new Date(a).getTime()>(new Date).getTime(),n.ExpiryDate=c?"":"Expiry Date must be later than today.";break;case"PhotoURL":i=null!==a,n.PhotoURL=i?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidLicenceNumber:r,ValidType:s,ValidReleaseDate:l,ValidExpiryDate:c,ValidPhotoURL:i},(function(){t.setState({ValidForm:t.state.ValidLicenceNumber&&t.state.ValidType&&t.state.ValidReleaseDate&&t.state.ValidExpiryDate&&t.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"text-left"},r.a.createElement("div",{className:"modal",id:"add-driving-licence-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Add Driving Licence")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement($e,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(a){"Image uploaded successfully."===a.message?(e.setState({PhotoURL:a.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"DrivingLicence"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Licence Number"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"LicenceNumber",className:"form-control",autoComplete:"off",value:this.state.LicenceNumber,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.LicenceNumber)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Licence Type"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"Type",className:"form-control",autoComplete:"off",value:this.state.Type,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Type)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Release Date"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"date",name:"ReleaseDate",className:"form-control",autoComplete:"off",value:this.state.ReleaseDate,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.ReleaseDate)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Expiry Date"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"date",name:"ExpiryDate",className:"form-control",autoComplete:"off",value:this.state.ExpiryDate,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.ExpiryDate))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(a){return e.cancelButton=a}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),a}(n.Component),ea=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).state={AddDrivingLicenceDialog:null},e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("button",{type:"button",className:"btn btn-primary",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#add-driving-licence-dialog",onMouseDown:function(){e.setState({AddDrivingLicenceDialog:r.a.createElement(Ze,{OnCancel:function(){e.setState({AddDrivingLicenceDialog:null})},OnOK:function(a){a.click(),e.props.OnDocumentsUpdated()}})})}},r.a.createElement("span",{className:"fas fa-plus","aria-hidden":"true"})," Driving Licence"),this.state.AddDrivingLicenceDialog)}}]),a}(n.Component),aa=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,EntryExitNumber:t.state.EntryExitNumber,Type:t.state.Type,ReleaseDate:t.state.ReleaseDate,NumberOfMonths:t.state.NumberOfMonths},console.log("Going to add Entry/Exit Card."),t.setState({Preloader:r.a.createElement(Ve,null)}),n.next=8,O.a.awrap(Y(a).then((function(e){"Entry/Exit card is added."===e.Message&&t.props.OnOK(t.cancelButton),t.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},t.state={EntryExitNumber:"",Type:"Simple",ReleaseDate:new Date,NumberOfMonths:"",ValidEntryExitNumber:!1,ValidReleaseDate:!1,ValidNumberOfMonths:!1,ValidForm:!1,Preloader:null,Errors:{EntryExitNumber:"",ReleaseDate:"",NumberOfMonths:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidEntryExitNumber,s=this.state.ValidReleaseDate,l=this.state.ValidNumberOfMonths;switch(e){case"EntryExitNumber":r=""!==a,n.EntryExitNumber=r?"":"Entry/exit number is required.";break;case"ReleaseDate":s=new Date(a).getTime()<=new Date,n.ReleaseDate=s?"":"Release date must not be later than today.";break;case"NumberOfMonths":if(l=""!==a,n.NumberOfMonths=l?"":"Number of months is required.",""!==n.NumberOfMonths)break;if(l=a>0,n.NumberOfMonths=l?"":"Number of months must be greater than 0.",""!==n.NumberOfMonths)break;var c=new Date(this.state.ReleaseDate),i=new Date(c.setMonth(c.getMonth()+a));l=i>new Date,n.NumberOfMonths=l?"":"Your card is expired if it is for ".concat(a," months. Your card might be expired on ").concat(i.toLocaleString())}this.setState({Errors:n,ValidEntryExitNumber:r,ValidReleaseDate:s,ValidNumberOfMonths:l},(function(){t.setState({ValidForm:t.state.ValidEntryExitNumber&&t.state.ValidReleaseDate&&t.state.ValidNumberOfMonths})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"text-left"},r.a.createElement("div",{className:"modal",id:"add-entry-exit-card-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Add Entry/Exit Card")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Entry/Exit Number"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"EntryExitNumber",className:"form-control",autoComplete:"off",value:this.state.EntryExitNumber,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.EntryExitNumber)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Card Type"),r.a.createElement("br",null),r.a.createElement("div",{className:"dropdown",style:{width:"100%",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",className:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.Type),r.a.createElement("span",{className:"caret"})),r.a.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({Type:"Simple"})}},"Simple")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({Type:"Multiple"})}},"Multiple"))))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Release Date"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"date",name:"ReleaseDate",className:"form-control",autoComplete:"off",value:this.state.ReleaseDate,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.ReleaseDate)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Number of Months"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"NumberOfMonths",className:"form-control",autoComplete:"off",value:this.state.NumberOfMonths,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.NumberOfMonths))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(a){return e.cancelButton=a}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),a}(n.Component),ta=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).state={AddEntryExitCardDialog:null},e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("button",{type:"button",className:"btn btn-primary",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#add-entry-exit-card-dialog",onMouseDown:function(){e.setState({AddEntryExitCardDialog:r.a.createElement(aa,{OnCancel:function(){e.setState({AddEntryExitCardDialog:null})},OnOK:function(a){a.click(),e.props.OnDocumentsUpdated()}})})}},r.a.createElement("span",{className:"fas fa-plus","aria-hidden":"true"})," Entry/Exit Card"),this.state.AddEntryExitCardDialog)}}]),a}(n.Component),na=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,IDNumber:t.state.IDNumber,PhotoURL:t.state.PhotoURL},console.log("Going to add Identity Card."),t.setState({Preloader:r.a.createElement(Ve,null)}),n.next=8,O.a.awrap(X(a).then((function(e){"Identity card is added."===e.Message&&t.props.OnOK(t.cancelButton),t.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},t.state={IDNumber:"",PhotoURL:"./images/default_image.png",ValidIDNumber:!1,ValidPhotoURL:!1,ValidForm:!1,Preloader:null,Errors:{IDNumber:"",PhotoURL:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidIDNumber,s=this.state.ValidPhotoURL;switch(e){case"IDNumber":if(r=""!==a,n.IDNumber=r?"":"ID number is required.",""!==n.IDNumber)break;r=a>=1e9&&a<=9999999999,n.IDNumber=r?"":"ID number must be 10-digits long.";break;case"PhotoURL":s=null!==a,n.PhotoURL=s?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidIDNumber:r,ValidPhotoURL:s},(function(){t.setState({ValidForm:t.state.ValidIDNumber&&t.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"text-left"},r.a.createElement("div",{className:"modal",id:"add-identity-card-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Add Identity Card")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement($e,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(a){"Image uploaded successfully."===a.message?(e.setState({PhotoURL:a.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"IdentityCard"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"ID Number"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"IDNumber",className:"form-control",autoComplete:"off",required:!0,value:this.state.IDNumber,onChange:this.onChange,min:"1000000000",max:"9999999999"}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.IDNumber))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(a){return e.cancelButton=a}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),a}(n.Component),ra=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).state={AddIdentityCardDialog:null},e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("button",{type:"button",className:"btn btn-primary",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#add-identity-card-dialog",onMouseDown:function(){e.setState({AddIdentityCardDialog:r.a.createElement(na,{OnCancel:function(){e.setState({AddIdentityCardDialog:null})},OnOK:function(a){a.click(),e.props.OnDocumentsUpdated()}})})}},r.a.createElement("span",{className:"fas fa-plus","aria-hidden":"true"})," Identity Card"),this.state.AddIdentityCardDialog)}}]),a}(n.Component),sa=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,LicenceNumber:t.state.LicenceNumber,Type:t.state.Type,ReleaseDate:t.state.ReleaseDate,ExpiryDate:t.state.ExpiryDate,PhotoURL:t.state.PhotoURL},console.log("Going to update the Driving Licence."),t.setState({Preloader:r.a.createElement(Ve,null)}),n.next=8,O.a.awrap(Q(a).then((function(e){"Driving Licence is updated."===e.Message&&t.props.OnOK(t.cancelButton),t.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},t.state={LicenceNumber:"",Type:"",ReleaseDate:new Date,ExpiryDate:new Date,PhotoURL:"./images/default_image.png",ValidLicenceNumber:!0,ValidType:!0,ValidReleaseDate:!0,ValidExpiryDate:!0,ValidPhotoURL:!0,ValidForm:!1,Preloader:null,Errors:{LicenceNumber:"",Type:"",ReleaseDate:"",ExpiryDate:"",PhotoURL:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.Token){var a={Token:localStorage.Token,Get:"DrivingLicence"};j(a).then((function(a){if("Driving licence found."===a.Message){var t=a.DrivingLicence;e.setState({DrivingLicenceID:t.DrivingLicenceID,LicenceNumber:t.LicenceNumber,Type:t.Type,ReleaseDate:t.ReleaseDate,ExpiryDate:t.ExpiryDate,PhotoURL:t.PhotoURL})}else e.setState({DrivingLicenceID:"",LicenceNumber:"",Type:"",ReleaseDate:new Date,ExpiryDate:new Date,PhotoURL:"./images/default_image.png"})}))}}},{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidLicenceNumber,s=this.state.ValidType,l=this.state.ValidReleaseDate,c=this.state.ValidExpiryDate,i=this.state.ValidPhotoURL;switch(e){case"LicenceNumber":r=""!==a,n.LicenceNumber=r?"":"Licence number is required.";break;case"Type":s=""!==a,n.Type=s?"":"Licence type is required";break;case"ReleaseDate":l=new Date(a).getTime()<new Date(this.state.ExpiryDate).getTime(),n.ReleaseDate=l?"":"Release date must be earlier than Expiry date.";break;case"ExpiryDate":c=new Date(a).getTime()>(new Date).getTime(),n.ExpiryDate=c?"":"Expiry Date must be later than today.";break;case"PhotoURL":i=null!==a,n.PhotoURL=i?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidLicenceNumber:r,ValidType:s,ValidReleaseDate:l,ValidExpiryDate:c,ValidPhotoURL:i},(function(){t.setState({ValidForm:t.state.ValidLicenceNumber&&t.state.ValidType&&t.state.ValidReleaseDate&&t.state.ValidExpiryDate&&t.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{className:"modal",id:"edit-driving-licence-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Edit Driving Licence")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement($e,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(a){"Image uploaded successfully."===a.message?(e.setState({PhotoURL:a.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"DrivingLicence"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Licence Number"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"LicenceNumber",className:"form-control",autoComplete:"off",value:this.state.LicenceNumber,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.LicenceNumber)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Licence Type"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"Type",className:"form-control",autoComplete:"off",value:this.state.Type,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Type)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Release Date"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"date",name:"ReleaseDate",className:"form-control",autoComplete:"off",value:this.state.ReleaseDate,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.ReleaseDate)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Expiry Date"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"date",name:"ExpiryDate",className:"form-control",autoComplete:"off",value:this.state.ExpiryDate,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.ExpiryDate))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(a){return e.cancelButton=a}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),a}(n.Component),la=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onDelete=function(){var e;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t.setState({Preloader:r.a.createElement(Ve,null)}),e={Token:localStorage.Token},console.log("Going to delete Driving Licence..."),a.next=5,O.a.awrap(H(e).then((function(e){"Driving Licence is deleted."===e.Message&&t.props.OnDocumentsUpdated(),t.setState({Preloader:null})})));case 5:case"end":return a.stop()}}))},t.onComponentUpdated=function(){if(localStorage.Token){var e={Token:localStorage.Token,Get:"DrivingLicence"};j(e).then((function(e){if("Driving licence found."===e.Message){var a=e.DrivingLicence;t.setState({DrivingLicenceID:a.DrivingLicenceID,LicenceNumber:a.LicenceNumber,Type:a.Type,ReleaseDate:a.ReleaseDate,ExpiryDate:a.ExpiryDate,PhotoURL:a.PhotoURL})}else t.setState({DrivingLicenceID:"",LicenceNumber:"",Type:"",ReleaseDate:"",ExpiryDate:"",PhotoURL:"./images/default_image.png"})}))}},t.state={DrivingLicenceID:"",LicenceNumber:"",Type:"",ReleaseDate:"",ExpiryDate:"",PhotoURL:"./images/default_image.png",EditDrivingLicenceDialog:null,Preloader:null},t.onDelete=t.onDelete.bind(Object(E.a)(t)),t.onComponentUpdated=t.onComponentUpdated.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"render",value:function(){var e=this;return r.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},r.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#driving-licence-".concat(this.state.DrivingLicenceID)},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon",style:{borderRadius:"50%"}},r.a.createElement("span",{className:"glyph glyph-add"}),r.a.createElement("span",{className:"glyph glyph-remove"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},r.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"".concat(this.props.Index,"."))),r.a.createElement("div",{className:"content-text-secondary"},r.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"DRIVING LICENCE")))))),r.a.createElement("div",{className:"collapse",id:"driving-licence-".concat(this.state.DrivingLicenceID)},r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:this.state.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{className:"col-md-18"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Driving Licence"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-hashtag"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Licence Number"),r.a.createElement("div",{className:"content-text-secondary"},this.state.LicenceNumber)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-star-of-life"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Licence Type"),r.a.createElement("div",{className:"content-text-secondary"},this.state.Type))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-calendar"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Release Date"),r.a.createElement("div",{className:"content-text-secondary"},this.state.ReleaseDate)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-calendar"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Expiry Date"),r.a.createElement("div",{className:"content-text-secondary"},this.state.ExpiryDate)))))))))),r.a.createElement("div",{style:{backgroundColor:"#E5E5E5",textAlign:"right",padding:"10px"}},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#edit-driving-licence-dialog",onMouseDown:function(){e.setState({EditDrivingLicenceDialog:r.a.createElement(sa,{OnCancel:function(){e.setState({EditDrivingLicenceDialog:null})},OnOK:function(a){a.click(),e.onComponentUpdated()}})})}},"Edit"),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){e.onDelete()}},"Delete"))),this.state.Preloader,this.state.EditDrivingLicenceDialog)}}]),a}(n.Component),ca=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,EntryExitNumber:t.state.EntryExitNumber,Type:t.state.Type,ReleaseDate:t.state.ReleaseDate,NumberOfMonths:t.state.NumberOfMonths},console.log("Going to update Entry/Exit Card."),t.setState({Preloader:r.a.createElement(Ve,null)}),n.next=8,O.a.awrap(z(a).then((function(e){"Entry/Exit card is updated."===e.Message&&t.props.OnOK(t.cancelButton),t.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},t.state={EntryExitNumber:"",Type:"Simple",ReleaseDate:new Date,NumberOfMonths:"",ValidEntryExitNumber:!0,ValidReleaseDate:!0,ValidNumberOfMonths:!0,ValidForm:!1,Preloader:null,Errors:{EntryExitNumber:"",ReleaseDate:"",NumberOfMonths:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.Token){var a={Token:localStorage.Token,Get:"EntryExitCard"};j(a).then((function(a){if("Entry/exit card found."===a.Message){var t=a.EntryExitCard;e.setState({EntryExitNumber:t.EntryExitNumber,Type:t.Type,ReleaseDate:t.ReleaseDate,NumberOfMonths:t.NumberOfMonths})}else e.setState({EntryExitNumber:"",Type:"Simple",ReleaseDate:new Date,NumberOfMonths:""})}))}}},{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidEntryExitNumber,s=this.state.ValidReleaseDate,l=this.state.ValidNumberOfMonths;switch(e){case"EntryExitNumber":r=""!==a,n.EntryExitNumber=r?"":"Entry/exit number is required.";break;case"ReleaseDate":s=new Date(a).getTime()<=new Date,n.ReleaseDate=s?"":"Release date must not be later than today.";break;case"NumberOfMonths":if(l=""!==a,n.NumberOfMonths=l?"":"Number of months is required.",""!==n.NumberOfMonths)break;if(l=a>0,n.NumberOfMonths=l?"":"Number of months must be greater than 0.",""!==n.NumberOfMonths)break;var c=new Date(this.state.ReleaseDate),i=new Date(c.setMonth(c.getMonth()+a));l=i>new Date,n.NumberOfMonths=l?"":"Your card is expired if it is for ".concat(a," months. Your card might be expired on ").concat(i.toLocaleString())}this.setState({Errors:n,ValidEntryExitNumber:r,ValidReleaseDate:s,ValidNumberOfMonths:l},(function(){t.setState({ValidForm:t.state.ValidEntryExitNumber&&t.state.ValidReleaseDate&&t.state.ValidNumberOfMonths})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{className:"modal",id:"edit-entry-exit-card-dialog",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Edit Entry/Exit Card")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Entry/Exit Number"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"EntryExitNumber",className:"form-control",autoComplete:"off",value:this.state.EntryExitNumber,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.EntryExitNumber)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Card Type"),r.a.createElement("br",null),r.a.createElement("div",{className:"dropdown",style:{width:"100%",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",className:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.Type),r.a.createElement("span",{className:"caret"})),r.a.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({Type:"Simple"}),e.validateField("","")}},"Simple")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({Type:"Multiple"}),e.validateField("","")}},"Multiple"))))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Release Date"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"date",name:"ReleaseDate",className:"form-control",autoComplete:"off",value:this.state.ReleaseDate,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.ReleaseDate)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Number of Months"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"NumberOfMonths",className:"form-control",autoComplete:"off",value:this.state.NumberOfMonths,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.NumberOfMonths))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(a){return e.cancelButton=a}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),a}(n.Component),ia=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onDelete=function(){var e;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t.setState({Preloader:r.a.createElement(Ve,null)}),e={Token:localStorage.Token},console.log("Going to delete Exit/Entry card."),a.next=5,O.a.awrap(K(e).then((function(e){"Entry/Exit card is deleted."===e.Message&&t.props.OnDocumentsUpdated(),t.setState({Preloader:null})})));case 5:case"end":return a.stop()}}))},t.onComponentUpdated=function(){if(localStorage.Token){var e={Token:localStorage.Token,Get:"EntryExitCard"};j(e).then((function(e){if("Entry/exit card found."===e.Message){var a=e.EntryExitCard;t.setState({EntryExitCardID:a.EntryExitCardID,EntryExitNumber:a.EntryExitNumber,Type:a.Type,ReleaseDate:a.ReleaseDate,NumberOfMonths:a.NumberOfMonths})}else t.setState({EntryExitCardID:"",EntryExitNumber:"",Type:"Simple",ReleaseDate:"",NumberOfMonths:""})}))}},t.state={EntryExitCardID:"",EntryExitNumber:"",Type:"Simple",ReleaseDate:"",NumberOfMonths:"",EditEntryExitCardDialog:null,Preloader:null},t.onDelete=t.onDelete.bind(Object(E.a)(t)),t.onComponentUpdated=t.onComponentUpdated.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"render",value:function(){var e=this;return r.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},r.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#entry-exit-card-".concat(this.state.EntryExitCardID)},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon",style:{borderRadius:"50%"}},r.a.createElement("span",{className:"glyph glyph-add"}),r.a.createElement("span",{className:"glyph glyph-remove"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},r.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"".concat(this.props.Index,"."))),r.a.createElement("div",{className:"content-text-secondary"},r.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"ENTRY/EXIT CARD")))))),r.a.createElement("div",{className:"collapse",id:"entry-exit-card-".concat(this.state.EntryExitCardID)},r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Entry/Exit Card"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-hashtag"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Entry/Exit Number"),r.a.createElement("div",{className:"content-text-secondary"},this.state.EntryExitNumber)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-star-of-life"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Entry/Exit Type"),r.a.createElement("div",{className:"content-text-secondary"},this.state.Type))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-calendar"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Release Date"),r.a.createElement("div",{className:"content-text-secondary"},this.state.ReleaseDate)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-calendar"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Number of Months"),r.a.createElement("div",{className:"content-text-secondary"},this.state.NumberOfMonths)))))))))),r.a.createElement("div",{style:{backgroundColor:"#E5E5E5",textAlign:"right",padding:"10px"}},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#edit-entry-exit-card-dialog",onMouseDown:function(){e.setState({EditEntryExitCardDialog:r.a.createElement(ca,{OnCancel:function(){e.setState({EditEntryExitCardDialog:null})},OnOK:function(a){a.click(),e.onComponentUpdated()}})})}},"Edit"),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){e.onDelete()}},"Delete"))),this.state.Preloader,this.state.EditEntryExitCardDialog)}}]),a}(n.Component),oa=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,IDNumber:t.state.IDNumber,PhotoURL:t.state.PhotoURL},console.log("Going to update Identity Card."),t.setState({Preloader:r.a.createElement(Ve,null)}),n.next=8,O.a.awrap($(a).then((function(e){"Identity card is updated."===e.Message&&t.props.OnOK(t.cancelButton),t.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},t.state={IDNumber:"",PhotoURL:"./images/default_image.png",ValidIDNumber:!0,ValidPhotoURL:!0,ValidForm:!1,Preloader:null,Errors:{IDNumber:"",PhotoURL:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.Token){var a={Token:localStorage.Token,Get:"IdentityCard"};j(a).then((function(a){if("Identity card found."===a.Message){var t=a.IdentityCard;e.setState({IDNumber:t.IDNumber,PhotoURL:t.PhotoURL})}else e.setState({IDNumber:"",PhotoURL:"./images/default_image.png"})}))}}},{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidIDNumber,s=this.state.ValidPhotoURL;switch(e){case"IDNumber":if(r=""!==a,n.IDNumber=r?"":"ID number is required.",""!==n.IDNumber)break;r=a>=1e9&&a<=9999999999,n.IDNumber=r?"":"ID number must be 10-digits long.";break;case"PhotoURL":s=null!==a,n.PhotoURL=s?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidIDNumber:r,ValidPhotoURL:s},(function(){t.setState({ValidForm:t.state.ValidIDNumber&&t.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{className:"modal",id:"edit-identity-card-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Edit Identity Card")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement($e,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(a){"Image uploaded successfully."===a.message?(e.setState({PhotoURL:a.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"IdentityCard"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"ID Number"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"IDNumber",className:"form-control",autoComplete:"off",required:!0,value:this.state.IDNumber,onChange:this.onChange,min:"1000000000",max:"99999999999"}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.IDNumber))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(a){return e.cancelButton=a}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),a}(n.Component),ma=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onDelete=function(){var e;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t.setState({Preloader:r.a.createElement(Ve,null)}),e={Token:localStorage.Token},console.log("Going to delete Identity Card."),a.next=5,O.a.awrap(Z(e).then((function(e){"Identity card is deleted."===e.Message&&t.props.OnDocumentsUpdated(),t.setState({Preloader:null})})));case 5:case"end":return a.stop()}}))},t.onComponentUpdated=function(){if(localStorage.Token){var e={Token:localStorage.Token,Get:"IdentityCard"};j(e).then((function(e){if("Identity card found."===e.Message){var a=e.IdentityCard;t.setState({IdentityCardID:a.IdentityCardID,IDNumber:a.IDNumber,PhotoURL:a.PhotoURL})}else t.setState({IdentityCardID:"",IDNumber:"",PhotoURL:"./images/default_image.png"})}))}},t.state={IdentityCardID:"",IDNumber:"",PhotoURL:"./images/default_image.png",EditIdentityCardDialog:null,Preloader:null},t.onDelete=t.onDelete.bind(Object(E.a)(t)),t.onComponentUpdated=t.onComponentUpdated.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"render",value:function(){var e=this;return r.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},r.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#identity-card-".concat(this.state.IdentityCardID)},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon",style:{borderRadius:"50%"}},r.a.createElement("span",{className:"glyph glyph-add"}),r.a.createElement("span",{className:"glyph glyph-remove"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},r.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"".concat(this.props.Index,"."))),r.a.createElement("div",{className:"content-text-secondary"},r.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"IDENTITY CARD")))))),r.a.createElement("div",{className:"collapse",id:"identity-card-".concat(this.state.IdentityCardID)},r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:this.state.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{className:"col-md-18"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Identity Card"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-hashtag"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"ID Number"),r.a.createElement("div",{className:"content-text-secondary"},this.state.IDNumber)))))))))),r.a.createElement("div",{style:{backgroundColor:"#E5E5E5",textAlign:"right",padding:"10px"}},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#edit-identity-card-dialog",onMouseDown:function(){e.setState({EditIdentityCardDialog:r.a.createElement(oa,{OnCancel:function(){e.setState({EditIdentityCardDialog:null})},OnOK:function(a){a.click(),e.onComponentUpdated()}})})}},"Edit"),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){e.onDelete()}},"Delete"))),this.state.Preloader,this.state.EditIdentityCardDialog)}}]),a}(n.Component),da=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onDocumentsUpdated=function(){var e,a,n,s=0;if(localStorage.Token){var l={Token:localStorage.Token,Get:"DrivingLicence"};j(l).then((function(c){e="Driving licence found."===c.Message?c.DrivingLicence:void 0,l={Token:localStorage.Token,Get:"EntryExitCard"},j(l).then((function(c){a="Entry/exit card found."===c.Message?c.EntryExitCard:void 0,l={Token:localStorage.Token,Get:"IdentityCard"},j(l).then((function(l){n="Identity card found."===l.Message?l.IdentityCard:void 0,e?t.setState({AddDrivingLicenceButton:null,DrivingLicenceListItem:r.a.createElement(la,{Index:++s,OnDocumentsUpdated:t.onDocumentsUpdated})}):t.setState({AddDrivingLicenceButton:r.a.createElement(ea,{OnDocumentsUpdated:t.onDocumentsUpdated}),DrivingLicenceListItem:null}),a?t.setState({AddEntryExitCardButton:null,EntryExitCardListItem:r.a.createElement(ia,{Index:++s,OnDocumentsUpdated:t.onDocumentsUpdated})}):t.setState({AddEntryExitCardButton:r.a.createElement(ta,{OnDocumentsUpdated:t.onDocumentsUpdated}),EntryExitCardListItem:null}),n?t.setState({AddIdentityCardButton:null,IdentityCardListItem:r.a.createElement(ma,{Index:++s,OnDocumentsUpdated:t.onDocumentsUpdated})}):t.setState({AddIdentityCardButton:r.a.createElement(ra,{OnDocumentsUpdated:t.onDocumentsUpdated}),IdentityCardListItem:null})}))}))}))}},t.state={AddDrivingLicenceButton:null,AddEntryExitCardButton:null,AddIdentityCardButton:null,DrivingLicenceListItem:null,EntryExitCardListItem:null,IdentityCardListItem:null},t.onDocumentsUpdated=t.onDocumentsUpdated.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onDocumentsUpdated()}},{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),r.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Documents"),r.a.createElement("div",{style:{padding:"10px",backgroundColor:"#E5E5E5"}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-18 col-md-offset-2"}),r.a.createElement("div",{className:"col-md-4 text-right"},this.state.AddDrivingLicenceButton,this.state.AddEntryExitCardButton,this.state.AddIdentityCardButton))),r.a.createElement("ol",{className:"list-items",style:{marginTop:"0px"}},this.state.DrivingLicenceListItem,this.state.EntryExitCardListItem,this.state.IdentityCardListItem))}}]),a}(n.Component),ua=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",{style:{backgroundColor:"#1C6D6E",padding:"5px 5px 5px 20px"}},r.a.createElement("div",{className:"sh1 color-light",style:{fontWeight:"bold"}},"/ ".concat(this.props.Heading))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#26525F"}}))}}]),a}(n.Component),pa=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).state={Username:"",Password:"",Email:"",FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:"",Active:null,WarningAlert:null,Errors:{}},e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,a=this;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Token:localStorage.Token,Get:"Driver"},t.next=4,O.a.awrap(j(e).then((function(e){if("Driver found."===e.Message){var t=e.Driver;a.setState({Username:t.Username,Password:t.Password,Email:t.Email,FirstName:t.FirstName,LastName:t.LastName,DateOfBirth:t.DateOfBirth,Gender:t.Gender,Address:t.Address,PhoneNumber:t.PhoneNumber,Nationality:t.Nationality,Active:t.Active})}else a.setState({Username:"",Password:"",Email:"",FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:"",Active:null})})));case 4:case"end":return t.stop()}}))}},{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(ua,{Heading:"PROFILE"}),r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(Xe,null)),r.a.createElement("div",{className:"col-md-18"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},this.state.FirstName+" "+this.state.LastName),r.a.createElement("div",{className:"type-sh3"},r.a.createElement("span",{className:"fas fa-briefcase",style:{color:"#606060"}}),"   Driver"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-globe-asia"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Active"),r.a.createElement("div",{className:"content-text-secondary"},1===this.state.Active?r.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):r.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}))))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-phone"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Phone Number"),r.a.createElement("div",{className:"content-text-secondary"},this.state.PhoneNumber))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-at"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Username"),r.a.createElement("div",{className:"content-text-secondary"},this.state.Username)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-envelope"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Email"),r.a.createElement("div",{className:"content-text-secondary"},this.state.Email)))))))))),r.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#333333"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"type-h3",style:{paddingTop:"0px"}},"Details"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list theme-alt"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon",style:{backgroundColor:"transparent"}},r.a.createElement("span",{className:"fas fa-birthday-cake color-default"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Birthday"),r.a.createElement("div",{className:"content-text-secondary"},this.state.DateOfBirth)))),r.a.createElement("div",{className:"entity-list theme-alt"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon",style:{backgroundColor:"transparent"}},r.a.createElement("span",{className:"Male"===this.state.Gender?"fas fa-male color-default":"fas fa-female color-default"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Gender"),r.a.createElement("div",{className:"content-text-secondary"},this.state.Gender))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list theme-alt"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon",style:{backgroundColor:"transparent"}},r.a.createElement("span",{className:"fas fa-flag color-default"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Nationality"),r.a.createElement("div",{className:"content-text-secondary"},this.state.Nationality)))),r.a.createElement("div",{className:"entity-list theme-alt"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon",style:{backgroundColor:"transparent"}},r.a.createElement("span",{className:"fas fa-map-marker-alt color-default"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Address"),r.a.createElement("div",{className:"content-text-secondary"},this.state.Address)))))))))),r.a.createElement(da,null))}}]),a}(n.Component),Ea=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).onChange=function(a){var t=a.target.name,n=a.target.value;e.setState(Object(P.a)({},t,n),(function(){e.validateField(t,n)}))},e.onSubmit=function(a){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),e.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.Token,PlateNumber:e.state.PlateNumber,Owner:e.state.Owner,ProductionYear:e.state.ProductionYear,Brand:e.state.Brand,Model:e.state.Model,Type:e.state.Type,MaximumWeight:e.state.MaximumWeight},e.setState({Preloader:r.a.createElement(Ve,null)}),n.next=7,O.a.awrap(W(t).then((function(a){"Truck is updated."===a.Message&&(e.setState({Preloader:null,ValidForm:!1}),e.props.OnTruckSettingsUpdated())})));case 7:case"end":return n.stop()}}))},e.state={PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:"",ValidPlateNumber:!0,ValidOwner:!0,ValidProductionYear:!0,ValidBrand:!0,ValidModel:!0,ValidType:!0,ValidMaximumWeight:!0,ValidForm:!1,Preloader:null,Errors:{PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:""}},e.onChange=e.onChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.Token){var a={Token:localStorage.Token,Get:"Truck"};j(a).then((function(a){if("Truck found."===a.Message){var t=a.Truck;e.setState({PlateNumber:t.PlateNumber,Owner:t.Owner,ProductionYear:t.ProductionYear,Brand:t.Brand,Model:t.Model,Type:t.Type,MaximumWeight:t.MaximumWeight})}else e.setState({PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:""})}))}}},{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidPlateNumber,s=this.state.ValidOwner,l=this.state.ValidProductionYear,c=this.state.ValidBrand,i=this.state.ValidModel,o=this.state.ValidType,m=this.state.MaximumWeight;switch(e){case"PlateNumber":r=""!==a&&a>=1&&a<=999,n.PlateNumber=r?"":"Plate Number must be between 001 and 999.";break;case"Owner":s=""!==a,n.Owner=s?"":"Owner is required.";break;case"ProductionYear":var d=(new Date).getFullYear();l=""!==a&&a>=2e3&&a<=d,n.ProductionYear=l?"":"Production Year must be between 2000 and ".concat(d);break;case"Brand":c=""!==a,n.Brand=c?"":"Brand is required.";break;case"Model":i=""!==a,n.Model=i?"":"Model is required.";break;case"Type":o=""!==a,n.Type=o?"":"Type is required";break;case"MaximumWeight":if(m=""!==a,n.MaximumWeight=m?"":"Maximum Weight is required.",""!==n.MaximumWeight)break;m=a>=700,n.MaximumWeight=m?"":"Maximum weight must be greater than 699."}this.setState({Errors:n,ValidPlateNumber:r,ValidOwner:s,ValidProductionYear:l,ValidBrand:c,ValidModel:i,ValidType:o,ValidMaximumWeight:m},(function(){t.setState({ValidForm:t.state.ValidPlateNumber&&t.state.ValidOwner&&t.state.ValidProductionYear&&t.state.ValidBrand&&t.state.ValidModel&&t.state.ValidType&&t.state.MaximumWeight})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),r.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Truck Settings"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"entity-list entity-list-expandable"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-list-ol"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"PlateNumber",className:"form-control",autocomplete:"off",value:this.state.PlateNumber,onChange:this.onChange}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Plate Number"),r.a.createElement("div",{className:"text-danger"},this.state.Errors.PlateNumber))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-user"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"Owner",className:"form-control",autocomplete:"off",value:this.state.Owner,onChange:this.onChange}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Owner"),r.a.createElement("div",{className:"text-danger"},this.state.Errors.Owner))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-calendar-day"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"ProductionYear",className:"form-control",autocomplete:"off",value:this.state.ProductionYear,onChange:this.onChange,placeholder:"XXXX"}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Production Year"),r.a.createElement("div",{className:"text-danger"},this.state.Errors.ProductionYear))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-copyright"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"Brand",className:"form-control",autocomplete:"off",value:this.state.Brand,onChange:this.onChange}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Brand"),r.a.createElement("div",{className:"text-danger"},this.state.Errors.Brand))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-list-ol"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"Model",className:"form-control",autocomplete:"off",value:this.state.Model,onChange:this.onChange}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Truck Model"),r.a.createElement("div",{className:"text-danger"},this.state.Errors.Model))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-cog"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"Type",className:"form-control",autocomplete:"off",value:this.state.Type,onChange:this.onChange}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Truck Type"),r.a.createElement("div",{className:"text-danger"},this.state.Errors.Type))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-weight"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"number",name:"MaximumWeight",className:"form-control",autocomplete:"off",value:this.state.MaximumWeight,onChange:this.onChange}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Maximum Weight (GVW)"),r.a.createElement("div",{className:"text-danger"},this.state.Errors.MaximumWeight))),r.a.createElement("div",{className:"entity-list-item active"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-save"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Save Changes?"),r.a.createElement("div",{className:"content-text-secondary"},"This cannot be undone.")),r.a.createElement("div",{className:"item-content-expanded"},r.a.createElement("input",{type:"submit",value:"Save",className:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.Preloader)}}]),a}(n.Component),ba=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,PlateNumber:t.state.PlateNumber,Owner:t.state.Owner,ProductionYear:t.state.ProductionYear,Brand:t.state.Brand,Model:t.state.Model,Type:t.state.Type,MaximumWeight:t.state.MaximumWeight,PhotoURL:t.state.PhotoURL},t.setState({Preloader:r.a.createElement(Ve,null)}),n.next=7,O.a.awrap(M(a).then((function(e){"Truck is added."===e.Message&&t.props.OnOK(),t.setState({Preloader:null})})));case 7:case"end":return n.stop()}}))},t.state={PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:"",PhotoURL:"./images/default_image.png",ValidPlateNumber:!1,ValidOwner:!1,ValidProductionYear:!1,ValidBrand:!1,ValidModel:!1,ValidType:!1,ValidMaximumWeight:!1,ValidPhotoURL:!1,ValidForm:!1,Preloader:null,Errors:{PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:"",PhotoURL:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidPlateNumber,s=this.state.ValidOwner,l=this.state.ValidProductionYear,c=this.state.ValidBrand,i=this.state.ValidModel,o=this.state.ValidType,m=this.state.ValidMaximumWeight,d=this.state.ValidPhotoURL;switch(e){case"PlateNumber":if(r=""!==a,n.PlateNumber=r?"":"Plate number is required.",""!==n.IDNumber)break;r=a>=100&&a<=999,n.PlateNumber=r?"":"Plate number must be 3-digits long.";break;case"Owner":s=""!==a,n.Owner=s?"":"Owner is required.";break;case"ProductionYear":var u=(new Date).getFullYear();l=""!==a&&a>=2e3&&a<=u,n.ProductionYear=l?"":"Production Year must be between 2000 and ".concat(u);break;case"Brand":c=""!==a,n.Brand=c?"":"Brand is required.";break;case"Model":i=""!==a,n.Model=i?"":"Model is required.";break;case"Type":o=""!==a,n.Type=o?"":"Type is required";break;case"MaximumWeight":if(m=""!==a,n.MaximumWeight=m?"":"Maximum Weight is required.",""!==n.MaximumWeight)break;m=a>=700,n.MaximumWeight=m?"":"Maximum weight must be greater than 699.";break;case"PhotoURL":d=null!==a,n.PhotoURL=d?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidPlateNumber:r,ValidOwner:s,ValidProductionYear:l,ValidBrand:c,ValidModel:i,ValidType:o,ValidMaximumWeight:m,ValidPhotoURL:d},(function(){t.setState({ValidForm:t.state.ValidPlateNumber&&t.state.ValidOwner&&t.state.ValidProductionYear&&t.state.ValidBrand&&t.state.ValidModel&&t.state.ValidType&&t.state.ValidMaximumWeight&&t.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"modal",id:"add-truck-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("p",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"New Truck"),r.a.createElement("div",{className:"type-sh3"},"These detials will be displayed on your profile.")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement($e,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(a){"Image uploaded successfully."===a.message?(e.setState({PhotoURL:a.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"Truck"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Plate Number"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"PlateNumber",className:"form-control",autoComplete:"off",value:this.state.PlateNumber,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.PlateNumber)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Owner"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"Owner",className:"form-control",autoComplete:"off",value:this.state.Owner,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Owner)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Production Year"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"ProductionYear",className:"form-control",autoComplete:"off",value:this.state.ProductionYear,onChange:this.onChange,placeholder:"XXXX"}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.ProductionYear)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Brand"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"Brand",className:"form-control",autoComplete:"off",value:this.state.Brand,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Brand)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Truck Model"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"Model",className:"form-control",autoComplete:"off",value:this.state.Model,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Model)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Truck Type"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"Type",className:"form-control",autoComplete:"off",value:this.state.Type,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Type)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Maximum Weight (GVW)"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"MaximumWeight",className:"form-control",autoComplete:"off",value:this.state.MaximumWeight,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.MaximumWeight))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel},"Cancel"),r.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!this.state.ValidForm})))))))}}]),a}(n.Component),ha=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,MaximumWeight:t.state.MaximumWeight,PhotoURL:t.state.PhotoURL,Type:t.state.Type},console.log("Going to add the trailer..."),t.setState({Preloader:r.a.createElement(Ve,null)}),n.next=8,O.a.awrap(B(a).then((function(e){"Trailer is added."===e.Message&&t.props.OnOK(t.cancelButton),t.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},t.state={MaximumWeight:"",PhotoURL:"./images/default_image.png",Type:"",ValidMaximumWeight:!1,ValidPhotoURL:!1,ValidType:!1,ValidForm:!1,Preloader:null,Errors:{MaximumWeight:"",PhotoURL:"",Type:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidMaximumWeight,s=this.state.ValidPhotoURL,l=this.state.ValidType;switch(e){case"MaximumWeight":if(r=""!==a,n.MaximumWeight=r?"":"Maximum Weight is required.",""!==n.MaximumWeight)break;r=a>=700,n.MaximumWeight=r?"":"Maximum weight must be greater than 699.";break;case"PhotoURL":s=null!==a,n.PhotoURL=s?"":"Invalid Image. Please upload a correct one.";break;case"Type":l=""!==a,n.Type=l?"":"Type is required."}this.setState({Errors:n,ValidMaximumWeight:r,ValidPhotoURL:s,ValidType:l},(function(){t.setState({ValidForm:t.state.ValidMaximumWeight&&t.state.ValidPhotoURL&&t.state.ValidType})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{className:"modal",id:"add-trailer-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"New Trailer")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement($e,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(a){"Image uploaded successfully."===a.message?(e.setState({PhotoURL:a.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:""})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Maximum Weight (GVW)"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"MaximumWeight",className:"form-control",autocomplete:"off",value:this.state.MaximumWeight,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.MaximumWeight)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Trailer Type"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"Type",className:"form-control",autocomplete:"off",value:this.state.Type,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Type))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(a){return e.cancelButton=a}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),a}(n.Component),ga=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={AddTrailerDialog:null},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},r.a.createElement("div",{class:"container",style:{paddingBottom:"10px",marginBottom:"12px"}},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xs-18"},r.a.createElement("div",{className:"type-h3 color-light"},r.a.createElement("span",{className:"fas fa-truck-pickup"}),"   Trailers"),r.a.createElement("p",{className:"color-light"},"RECOMMENDED: Since your truck is all set up, you're good to go for adding up to TWO trailers to it."),r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{type:"button",className:"btn btn-primary",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#add-trailer-dialog",onMouseDown:function(){e.setState({AddTrailerDialog:r.a.createElement(ha,{OnCancel:function(){e.setState({AddTrailerDialog:null})},OnOK:function(a){a.click(),e.props.OnTrailerAdded()}})})}},"Add Trailer")))))),this.state.AddTrailerDialog)}}]),a}(n.Component),va=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){if(e.preventDefault(),t.state.ValidForm){var a={Token:localStorage.Token,TrailerID:t.props.Trailer.TrailerID,MaximumWeight:t.state.MaximumWeight,PhotoURL:t.state.PhotoURL,Type:t.state.Type};console.log("Going to update trailer..."),t.setState({Preloader:r.a.createElement(Ve,null)}),function(e){return console.log("Sending HTTP POST request to ".concat(v.a.NAQEL_SERVER,"drivers/updateTrailer...")),S.a.post("".concat(v.a.NAQEL_SERVER,"drivers/updateTrailer"),{TrailerID:e.TrailerID,MaximumWeight:e.MaximumWeight,PhotoURL:e.PhotoURL,Type:e.Type},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))}(a).then((function(e){"Trailer is updated."===e.Message&&t.props.OnOK(t.cancelButton),t.setState({Preloader:null})}))}},t.state={MaximumWeight:t.props.Trailer.MaximumWeight,PhotoURL:t.props.Trailer.PhotoURL,Type:t.props.Trailer.Type,ValidMaximumWeight:!0,ValidPhotoURL:!0,ValidType:!0,ValidForm:!1,Preloader:null,Errors:{MaximumWeight:"",PhotoURL:"",Type:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidMaximumWeight,s=this.state.ValidPhotoURL,l=this.state.ValidType;switch(e){case"MaximumWeight":if(r=""!==a,n.MaximumWeight=r?"":"Maximum Weight is required.",""!==n.MaximumWeight)break;r=a>=700,n.MaximumWeight=r?"":"Maximum weight must be greater than 699.";break;case"PhotoURL":s=null!==a,n.PhotoURL=s?"":"Invalid Image. Please upload a correct one.";break;case"Type":l=""!==a,n.Type=l?"":"Type is required."}this.setState({Errors:n,ValidMaximumWeight:r,ValidPhotoURL:s,ValidType:l},(function(){t.setState({ValidForm:t.state.ValidMaximumWeight&&t.state.ValidPhotoURL&&t.state.ValidType})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{className:"modal",id:"edit-trailer-dialog".concat(this.props.dialogID),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Edit Trailer")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement($e,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(a){"Image uploaded successfully."===a.message?(e.setState({PhotoURL:a.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:this.state.ImageCategory})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Maximum Weight (GVW)"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"MaximumWeight",className:"form-control",autoComplete:"off",value:this.state.MaximumWeight,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.MaximumWeight)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Trailer Type"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"Type",className:"form-control",autoComplete:"off",value:this.state.Type,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Type))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(a){return e.cancelButton=a}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),a}(n.Component),fa=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onDelete=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.setState({Preloader:r.a.createElement(Ve,null)}),a={Token:localStorage.Token,TrailerID:t.state.Trailers[e].TrailerID},console.log("Going to delete Trailers[".concat(e,"]...")),n.next=5,O.a.awrap(G(a).then((function(e){"Trailer is deleted."===e.Message&&t.props.OnTrailersUpdated(),t.setState({Preloader:null})})));case 5:case"end":return n.stop()}}))},t.state={Trailers:t.props.Trailers,EditTrailerDialogs:[],Preloader:null},t.onDelete=t.onDelete.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Trailers"),r.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},this.state.Trailers.map((function(a,t){return r.a.createElement("li",{key:t,className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:a.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{className:"col-md-18"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Trailer # ".concat(t+1,".")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-weight"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Maximum Weight"),r.a.createElement("div",{className:"content-text-secondary"},"".concat(a.MaximumWeight," GVM"))))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-star-of-life"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Trailer Type"),r.a.createElement("div",{className:"content-text-secondary"},a.Type)))))))))),r.a.createElement("div",{style:{backgroundColor:"#E5E5E5",textAlign:"right",padding:"10px"}},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#edit-trailer-dialog".concat(t),onMouseDown:function(){var n=e.state.EditTrailerDialogs;n[t]=r.a.createElement(va,{dialogID:t,Trailer:a,OnCancel:function(){var a=e.state.EditTrailerDialogs;a[t]=null,e.setState({EditTrailerDialogs:a})},OnOK:function(a){a.click(),e.props.OnTrailersUpdated()}}),e.setState({EditTrailerDialogs:n})}},"Edit"),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){e.onDelete(t)}},"Delete")),e.state.EditTrailerDialogs[t])}))),this.state.Preloader)}}]),a}(n.Component),Na=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={AddTrailer:null,TrailersList:null},t.onComponentUpdated=t.onComponentUpdated.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"onComponentUpdated",value:function(){var e=this;if(localStorage.Token){var a={Token:localStorage.Token,Get:"Trailers"};this.setState({AddTrailer:null,TrailersList:null}),j(a).then((function(a){"Trailers found."===a.Message?a.Trailers.length<2?e.setState({AddTrailer:r.a.createElement(ga,{OnTrailerAdded:e.onComponentUpdated}),TrailersList:r.a.createElement(fa,{Trailers:a.Trailers,OnTrailersUpdated:e.onComponentUpdated})}):e.setState({AddTrailer:null,TrailersList:r.a.createElement(fa,{Trailers:a.Trailers,OnTrailersUpdated:e.onComponentUpdated})}):e.setState({AddTrailer:r.a.createElement(ga,{OnTrailerAdded:e.onComponentUpdated}),TrailersList:null})}))}}},{key:"render",value:function(){return r.a.createElement("section",null,this.state.AddTrailer,this.state.TrailersList)}}]),a}(n.Component),ya=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).onComponentUpdated=function(){if(localStorage.Token){var a={Token:localStorage.Token,Get:"Truck"};e.setState({Preloader:r.a.createElement(Ve,null)}),j(a).then((function(a){if("Truck found."===a.Message){var t=a.Truck;e.setState({PlateNumber:t.PlateNumber,Owner:t.Owner,ProductionYear:t.ProductionYear,Brand:t.Brand,Model:t.Model,Type:t.Type,MaximumWeight:t.MaximumWeight,PhotoURL:t.PhotoURL,TruckFound:!0,Preloader:null})}else e.setState({PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:"",PhotoURL:"./images/default_image.png",TruckFound:!1,Preloader:null})}))}},e.state={PlateNumber:"",Owner:"",ProductionYear:"",Brand:"",Model:"",Type:"",MaximumWeight:"",PhotoURL:"./images/default_image.png",TruckFound:!1,AddTruckDialog:null,AddTrailer:null,TrailersList:null,Preloader:null},e.onComponentUpdated=e.onComponentUpdated.bind(Object(E.a)(e)),e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement(ua,{Heading:"TRUCKS"}),this.state.TruckFound?r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement($e,{Source:this.state.PhotoURL,Height:"200px",Width:"200px",OnImageUploaded:function(a){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("Image uploaded successfully."!==a.message){n.next=4;break}return t={Token:localStorage.Token,PhotoURL:a.imageUrl},n.next=4,O.a.awrap(q(t).then((function(a){"Truck photo updated."===a.Message&&e.setState({PhotoURL:t.PhotoURL})})));case 4:case"end":return n.stop()}}))},OnInvalidImageSelected:function(){},ImageCategory:"Truck"})),r.a.createElement("div",{className:"col-md-18"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"".concat(this.state.Brand," ").concat(this.state.Model)),r.a.createElement("div",{className:"type-sh3"},r.a.createElement("span",{className:"fas fa-truck",style:{color:"#606060"}}),"   ",this.state.Type),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-list-ol"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Plate Number"),r.a.createElement("div",{className:"content-text-secondary"},this.state.PlateNumber)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-calendar-day"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Production Year"),r.a.createElement("div",{className:"content-text-secondary"},this.state.ProductionYear))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-weight"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Maximum Weight"),r.a.createElement("div",{className:"content-text-secondary"},"".concat(this.state.MaximumWeight," GVW"))))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("button",{type:"button",className:"btn btn-danger"},"Delete Truck"))))))),r.a.createElement(Ea,{OnTruckSettingsUpdated:this.onComponentUpdated}),r.a.createElement(Na,null),this.state.Preloader):r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-alt",style:{width:"100%",backgroundColor:"#202020"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"add_truck.png",src:"./images/add_truck.png","data-source-index":"2"})),r.a.createElement("div",{className:"col-md-12 col-md-pull-12"},r.a.createElement("div",{className:"type-h3"},"Truck"),r.a.createElement("div",{className:"type-sh3"},"You have not added any truck yet."),r.a.createElement("p",null,"Adding your truck will let the Traders or Brokers see details about your it. Valid and complete details of your truck make more chances for you to receive job requests."),r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{type:"button",className:"btn btn-primary",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#add-truck-dialog",onMouseDown:function(){e.setState({AddTruckDialog:r.a.createElement(ba,{OnCancel:function(){e.setState({AddTruckDialog:null})},OnOK:function(a){a.click(),e.onComponentUpdated()}})})}},r.a.createElement("span",{className:"fas fa-plus","aria-hidden":"true"}),"Add Now")))))),this.state.AddTruckDialog,this.state.Preloader))}}]),a}(n.Component),xa=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,PermitNumber:t.state.PermitNumber,ExpiryDate:t.state.ExpiryDate,PhotoURL:t.state.PhotoURL,Code:t.state.Code,Place:t.state.Place},console.log("Going to add Permit Licence."),t.setState({Preloader:r.a.createElement(Ve,null)}),n.next=8,O.a.awrap(ee(a).then((function(e){"Permit Licence is added."===e.Message&&t.props.OnOK(t.cancelButton),t.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},t.state={PermitNumber:"",ExpiryDate:new Date,PhotoURL:"./images/default_image.png",Code:"",Place:"",ValidPermitNumber:!1,ValidExpiryDate:!1,ValidPhotoURL:!1,ValidCode:!1,ValidPlace:!1,ValidForm:!1,Preloader:null,Errors:{PermitNumber:"",ExpiryDate:"",PhotoURL:"",Code:"",Place:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidPermitNumber,s=this.state.ValidExpiryDate,l=this.state.ValidPhotoURL,c=this.state.ValidCode,i=this.state.ValidPlace;switch(e){case"PermitNumber":if(r=""!==a,n.PermitNumber=r?"":"Permit number is required.",""!==n.PermitNumber)break;r=""!==a,n.PermitNumber=r?"":"Permit number is required.";break;case"ExpiryDate":s=new Date(a).getTime()>=(new Date).getTime(),n.ExpiryDate=s?"":"Expiry Date must be later than yesterday.";break;case"PhotoURL":l=null!==a,n.PhotoURL=l?"":"Invalid Image. Please upload a correct one.";break;case"Code":c=""!==a,n.Code=c?"":"Permit code is required.";break;case"Place":i=""!==a,n.Place=i?"":"Permit place is required."}this.setState({Errors:n,ValidPermitNumber:r,ValidExpiryDate:s,ValidPhotoURL:l,ValidCode:c,ValidPlace:i},(function(){t.setState({ValidForm:t.state.ValidPermitNumber&&t.state.ValidExpiryDate&&t.state.ValidPhotoURL&&t.state.ValidCode&&t.state.ValidPlace})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"text-left"},r.a.createElement("div",{className:"modal",id:"add-permit-licence-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Add Permit Licence")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement($e,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(a){"Image uploaded successfully."===a.message?(e.setState({PhotoURL:a.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Permit Number"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"PermitNumber",className:"form-control",autoComplete:"off",value:this.state.PermitNumber,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.PermitNumber)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Expiry Date"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"date",name:"ExpiryDate",className:"form-control",autoComplete:"off",value:this.state.ExpiryDate,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.ExpiryDate)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Permit Code"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"Code",className:"form-control",autoComplete:"off",value:this.state.Code,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Code)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Permit Place"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"Place",className:"form-control",autoComplete:"off",value:this.state.Place,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Place))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(a){return e.cancelButton=a}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),a}(n.Component),Ca=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,PermitLicenceID:t.props.PermitLicence.PermitLicenceID,PermitNumber:t.state.PermitNumber,ExpiryDate:t.state.ExpiryDate,PhotoURL:t.state.PhotoURL,Code:t.state.Code,Place:t.state.Place},console.log("Going to update Permit Licence."),t.setState({Preloader:r.a.createElement(Ve,null)}),n.next=8,O.a.awrap(te(a).then((function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if("Permit Licence is updated."!==e.Message){a.next=4;break}return t.cancelButton.click(),a.next=4,O.a.awrap(t.props.OnOK());case 4:t.setState({Preloader:null});case 5:case"end":return a.stop()}}))})));case 8:case"end":return n.stop()}}))},t.state={PermitNumber:t.props.PermitLicence.PermitNumber,ExpiryDate:t.props.PermitLicence.ExpiryDate,PhotoURL:t.props.PermitLicence.PhotoURL,Code:t.props.PermitLicence.Code,Place:t.props.PermitLicence.Place,ValidPermitNumber:!0,ValidExpiryDate:!0,ValidPhotoURL:!0,ValidCode:!0,ValidPlace:!0,ValidForm:!1,Preloader:null,Errors:{PermitNumber:"",ExpiryDate:"",PhotoURL:"",Code:"",Place:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidPermitNumber,s=this.state.ValidExpiryDate,l=this.state.ValidPhotoURL,c=this.state.ValidCode,i=this.state.ValidPlace;switch(e){case"PermitNumber":r=""!==a,n.PermitNumber=r?"":"Permit number is required.";break;case"ExpiryDate":s=new Date(a).getTime()>=(new Date).getTime(),n.ExpiryDate=s?"":"Expiry Date must be later than yesterday.";break;case"PhotoURL":l=null!==a,n.PhotoURL=l?"":"Invalid Image. Please upload a correct one.";break;case"Code":c=""!==a,n.Code=c?"":"Permit code is required.";break;case"Place":i=""!==a,n.Place=i?"":"Permit place is required."}this.setState({Errors:n,ValidPermitNumber:r,ValidExpiryDate:s,ValidPhotoURL:l,ValidCode:c,ValidPlace:i},(function(){t.setState({ValidForm:t.state.ValidPermitNumber&&t.state.ValidExpiryDate&&t.state.ValidPhotoURL&&t.state.ValidCode&&t.state.ValidPlace})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"text-left"},r.a.createElement("div",{className:"modal",id:"edit-permit-dialog".concat(this.props.DialogID),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Add Permit Licence")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement($e,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(a){"Image uploaded successfully."===a.message?(e.setState({PhotoURL:a.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Permit Number"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"PermitNumber",className:"form-control",autoComplete:"off",value:this.state.PermitNumber,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.PermitNumber)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Expiry Date"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"date",name:"ExpiryDate",className:"form-control",autoComplete:"off",value:this.state.ExpiryDate,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.ExpiryDate)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Permit Code"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"Code",className:"form-control",autoComplete:"off",value:this.state.Code,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Code)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Permit Place"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"Place",className:"form-control",autoComplete:"off",value:this.state.Place,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Place))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",ref:function(a){return e.cancelButton=a}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),a}(n.Component),Oa=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onDelete=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.setState({Preloader:r.a.createElement(Ve,null)}),a={Token:localStorage.Token,PermitLicenceID:e},console.log("Going to delete Permit licence..."),n.next=5,O.a.awrap(ae(a).then((function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if("Permit Licence is deleted."!==e.Message){a.next=3;break}return a.next=3,O.a.awrap(t.props.OnPermitLicenceUpdated());case 3:t.setState({Preloader:null});case 4:case"end":return a.stop()}}))})));case 5:case"end":return n.stop()}}))},t.state={AllPermitLicences:[],PermitLicences:[],EditPermitLicenceDialogs:[],SearchString:"",Preloader:null},t.onDelete=t.onDelete.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props.Index,t=this.props.PermitLicence;return r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:t.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{className:"col-md-18"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"".concat(a+1,".")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-hashtag"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Permit Number"),r.a.createElement("div",{className:"content-text-secondary"},t.PermitNumber)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-calendar"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Expiry Date"),r.a.createElement("div",{className:"content-text-secondary"},t.ExpiryDate))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-asterisk"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Permit Code"),r.a.createElement("div",{className:"content-text-secondary"},t.Code)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-map-marker-alt"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Permit Place"),r.a.createElement("div",{className:"content-text-secondary"},t.Place)))))))))),r.a.createElement("div",{style:{backgroundColor:"#E5E5E5",textAlign:"right",padding:"10px"}},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#edit-permit-dialog".concat(a)},"Edit"),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(e.onDelete(t.PermitLicenceID));case 2:case"end":return a.stop()}}))}},"Delete")),r.a.createElement(Ca,{DialogID:a,PermitLicence:t,OnOK:function(){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(e.props.OnPermitLicenceUpdated());case 2:case"end":return a.stop()}}))}}),this.state.Preloader)}}]),a}(n.Component),Pa=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"progress-bar"},r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}))}}]),a}(n.Component),ka=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=5;break}return e={Token:localStorage.Token,Get:"PermitLicences"},t.setState({Searching:!0}),a.next=5,O.a.awrap(j(e).then((function(e){"Permit licences found."===e.Message?t.setState({AllPermitLicences:e.PermitLicences,PermitLicences:e.PermitLicences,Searching:!1}):t.setState({AllPermitLicences:[],PermitLicences:[],Searching:!1})})));case 5:case"end":return a.stop()}}))},t.onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n))},t.onSearch=function(e){e.preventDefault(),""===t.state.SearchString&&t.setState({PermitLicences:t.state.AllPermitLicences});for(var a=t.state.AllPermitLicences,n=[],r=0;r<a.length;r++)a[r].Place.includes(t.state.SearchString)&&(n[r]=a[r]);t.setState({PermitLicences:n})},t.state={AllPermitLicences:[],PermitLicences:[],SearchString:"",Searching:null},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSearch=t.onSearch.bind(Object(E.a)(t)),t.onComponentUpdated=t.onComponentUpdated.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,a=this.state.PermitLicences;return r.a.createElement("section",null,r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),r.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Permit Licences"),r.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},r.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},r.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},r.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},r.a.createElement("div",{className:"putbox",style:{margin:"0px"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search by Permit Place",style:{maxWidth:"500px",width:"100%"},autoComplete:"off",value:this.state.SearchString,onChange:this.onChange})),r.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===a.length?r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},this.state.Searching?r.a.createElement("div",{className:"col-md-24 text-center"},r.a.createElement("div",null,r.a.createElement("div",{className:"type-h3",style:{color:"#008575"}},"Searching"),r.a.createElement(Pa,null))):r.a.createElement("div",{className:"col-md-24 text-center"},r.a.createElement("h3",null,r.a.createElement("span",{className:"fas fa-exclamation-triangle",style:{color:"#FFBF15"}})," No licences found."))))):r.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},this.state.PermitLicences.map((function(a,t){return r.a.createElement("li",{key:t,className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},r.a.createElement(Oa,{Index:t,PermitLicence:a,OnPermitLicenceUpdated:function(){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(e.onComponentUpdated());case 2:case"end":return a.stop()}}))}}))}))),this.state.Preloader)}}]),a}(n.Component),Sa=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onPermitLicencesUpdated=function(){t.PermitLicencesList.onComponentUpdated()},t.state={AddPermitLicenceDialog:null},t.onPermitLicencesUpdated=t.onPermitLicencesUpdated.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onPermitLicencesUpdated()}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement(ua,{Heading:"PERMITS"}),r.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/teal.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},r.a.createElement("div",{class:"container",style:{paddingBottom:"10px",marginBottom:"12px"}},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xs-18"},r.a.createElement("div",{className:"type-h3 color-light"},r.a.createElement("span",{className:"fas fa-id-badge"}),"   Permit Licences"),r.a.createElement("p",{className:"color-light"},"If you are a non-Saudi driver, then you must have at least one permit licence."),r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#add-permit-licence-dialog",onMouseDown:function(){e.setState({AddPermitLicenceDialog:r.a.createElement(xa,{OnCancel:function(){e.setState({AddPermitLicenceDialog:null})},OnOK:function(a){a.click(),e.onPermitLicencesUpdated()}})})}},"New Permit Licence")))))),r.a.createElement(ka,{ref:function(a){return e.PermitLicencesList=a}}),this.state.AddPermitLicenceDialog)}}]),a}(n.Component),wa=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"jumbotron",style:{width:"100%",backgroundColor:"#202020"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"tools.png",src:"./images/tools.png",style:{borderRadius:"50%"},"data-source-index":"1"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3",style:{color:"#008575"}},"Financial Affairs"),r.a.createElement("div",{class:"type-sh3",style:{color:"#949496"}},"Under-Construction"))))))}}]),a}(n.Component),Ta=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.TraderRequest,a=this.props.Index;return r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Request # ".concat(a+1,"."),0===a?r.a.createElement("span",{class:"badge back-color-golden"},"NEW"):null)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-box"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Cargo Type"),r.a.createElement("div",{className:"content-text-secondary"},e.CargoType)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-weight"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Cargo Weight"),r.a.createElement("div",{className:"content-text-secondary"},"".concat(e.CargoWeight," lbs."))))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-id-badge"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Entry/Exit"),r.a.createElement("div",{className:"content-text-secondary"},1===e.EntryExit?r.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):r.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}})))))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-calendar"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Loading Date"),r.a.createElement("div",{className:"content-text-secondary"},new Date(e.LoadingDate).toDateString())))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-clock"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Loading Time"),r.a.createElement("div",{className:"content-text-secondary"},e.LoadingTime)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-clock"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Accpeted Delay"),r.a.createElement("div",{className:"content-text-secondary"},"".concat(e.AcceptedDelay," Hour(s)")))))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-calendar"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Requested on"),r.a.createElement("div",{className:"content-text-secondary"},new Date(e.Created).toDateString())))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-clock"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Requested at"),r.a.createElement("div",{className:"content-text-secondary"},new Date(e.Created).toTimeString())))))))))}}]),a}(n.Component),Da=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.Trader,a=this.props.ProfilePhoto?this.props.ProfilePhoto:"./images/defaultProfilePhoto.png";return r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"form-group",style:{marginBottom:"5px"}},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:a,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}}))),r.a.createElement("div",{className:"col-md-18"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},e.FirstName+" "+e.LastName),r.a.createElement("div",{className:"type-sh3"},r.a.createElement("span",{className:"fas fa-briefcase",style:{color:"#606060"}}),"   ",e.Type),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"Male"===e.Gender?"fas fa-male":"fas fa-female"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Gender"),r.a.createElement("div",{className:"content-text-secondary"},e.Gender)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-birthday-cake"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Birthday"),r.a.createElement("div",{className:"content-text-secondary"},e.DateOfBirth)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-flag"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Nationality"),r.a.createElement("div",{className:"content-text-secondary"},e.Nationality))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-envelope"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Email"),r.a.createElement("div",{className:"content-text-secondary"},e.Email)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-phone"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Phone Number"),r.a.createElement("div",{className:"content-text-secondary"},e.PhoneNumber)))))))))))}}]),a}(n.Component),ja=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onStartJob=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.props.DriverOnJob){n.next=2;break}return n.abrupt("return");case 2:return a={Token:localStorage.Token,TraderRequestID:e.TraderRequestID},console.log("Going to add On-going job..."),n.next=6,O.a.awrap(ie(a).then((function(e){"On-going job is added."===e.Message&&t.props.OnJobStarted()})));case 6:case"end":return n.stop()}}))},t.onStartJob=t.onStartJob.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props.Index,t=this.props.DriverOnJob,n=this.props.TraderRequestPackage,s=n.Trader,l=n.ProfilePhoto,c=n.TraderRequest;return r.a.createElement("section",null,r.a.createElement("ul",{className:"nav nav-tabs tabs-light",role:"tablist"},r.a.createElement("li",{role:"presentation",className:"active"},r.a.createElement("a",{href:"#trader-request-tab-".concat(a),"aria-controls":"trader-request-tab-".concat(a),role:"tab","data-toggle":"tab"},"Request # ".concat(a+1,"."))),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#trader-tab-".concat(a),"aria-controls":"trader-tab-".concat(a),role:"tab","data-toggle":"tab"},s.Type))),r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"trader-request-tab-".concat(a)},r.a.createElement(Ta,{TraderRequest:c,Index:a})),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"trader-tab-".concat(a)},r.a.createElement(Da,{Trader:s,ProfilePhoto:l}))),r.a.createElement("div",{style:{backgroundColor:"#EFEFEF",textAlign:"right",padding:"10px"}},t?r.a.createElement("div",{class:"badge back-color-danger",style:{marginRight:"5px"}},"YOU ARE ON JOB"):null,r.a.createElement("button",{className:"btn btn-primary",disabled:t,onClick:function(){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(e.onStartJob(c));case 2:case"end":return a.stop()}}))}},"Start Job")))}}]),a}(n.Component),Ra=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props.TraderRequestPackages;return r.a.createElement("section",null,r.a.createElement("div",{id:"myCarousel",className:"carousel slide","data-ride":"false","data-interval":"20000"},r.a.createElement("div",{style:{backgroundColor:"#008575",textAlign:"center"}},a.length>1?r.a.createElement("ul",{className:"pager theme-alt",style:{margin:"0px"}},r.a.createElement("li",{className:"pager-next"},r.a.createElement("a",{href:"#myCarousel","data-slide":"prev"},r.a.createElement("i",{"aria-hidden":"true",className:"glyph glyph-chevron-left-2"}))),r.a.createElement("li",{className:"pager-next"},r.a.createElement("a",{href:"#myCarousel","data-slide":"next"},r.a.createElement("i",{"aria-hidden":"true",className:"glyph glyph-chevron-right-2"})))):null),r.a.createElement("div",{className:"carousel-inner"},a.map((function(a,t){return r.a.createElement("div",{key:t,className:0===t?"item active":"item"},r.a.createElement(ja,{Index:0,DriverOnJob:e.props.DriverOnJob,TraderRequestPackage:a,OnJobStarted:function(){e.props.OnJobRequestUpdated()}}))})))))}}]),a}(n.Component),La=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:if(t.props.CanEdit()){n.next=5;break}return n.abrupt("return");case 5:return a={Token:localStorage.Token,JobRequestID:t.props.JobRequest.JobRequestID,LoadingPlace:t.state.LoadingPlace,UnloadingPlace:t.state.UnloadingPlace,TripType:t.state.TripType,Price:t.state.Price},console.log("Going to update Job Request."),t.setState({Preloader:r.a.createElement(Ve,null)}),n.next=10,O.a.awrap(re(a).then((function(e){"Job request is updated."===e.Message&&(t.cancelButton.click(),t.props.OnOK()),t.setState({Preloader:null})})));case 10:case"end":return n.stop()}}))},t.state={LoadingPlace:t.props.JobRequest.LoadingPlace,UnloadingPlace:t.props.JobRequest.UnloadingPlace,TripType:t.props.JobRequest.TripType,Price:t.props.JobRequest.Price,ValidLoadingPlace:!0,ValidUnloadingPlace:!0,ValidPrice:!0,ValidForm:!1,Preloader:null,Errors:{LoadingPlace:"",UnloadingPlace:"",Price:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidLoadingPlace,s=this.state.ValidUnloadingPlace,l=this.state.ValidPrice;switch(e){case"LoadingPlace":r=""!==a,n.LoadingPlace=r?"":"Loading place is required.";break;case"UnloadingPlace":s=""!==a,n.UnloadingPlace=s?"":"Unloading place is required.";break;case"Price":l=a>0,n.Price=l?"":"Price must be more than $0.00."}this.setState({Errors:n,ValidLoadingPlace:r,ValidUnloadingPlace:s,ValidPrice:l},(function(){t.setState({ValidForm:t.state.LoadingPlace&&t.state.ValidUnloadingPlace&&t.state.ValidPrice})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"text-left"},r.a.createElement("div",{className:"modal",id:"edit-job-request-dialog-".concat(this.props.DialogID),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Edit Job Request")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Loading Place"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"LoadingPlace",className:"form-control",autoComplete:"off",value:this.state.LoadingPlace,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.LoadingPlace)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Unloading Place"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"UnloadingPlace",className:"form-control",autoComplete:"off",value:this.state.UnloadingPlace,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.UnloadingPlace)))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Trip Type"),r.a.createElement("br",null),r.a.createElement("div",{className:"dropdown",style:{width:"100%",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",className:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.TripType),r.a.createElement("span",{className:"caret"})),r.a.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({TripType:"One Way"}),e.validateField("","")}},"One Way")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({TripType:"Two Way"}),e.validateField("","")}},"Two Way"))))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Price (USD)"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",min:"0.00",step:"0.01",max:"100.00",name:"Price",className:"form-control",autoComplete:"off",value:this.state.Price,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Price)))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",ref:function(a){return e.cancelButton=a}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),a}(n.Component),Ua=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onDelete=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.setState({Preloader:r.a.createElement(Ve,null)}),a={Token:localStorage.Token,JobRequestID:e},console.log("Going to delete Job request..."),n.next=5,O.a.awrap(se(a).then((function(e){"Job request is deleted."===e.Message&&t.props.OnJobRequestUpdated()})));case 5:case"end":return n.stop()}}))},t.state={Preloader:null},t.onDelete=t.onDelete.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props.JobRequestPackage.JobRequest,t=this.props.JobRequestPackage.DriverOnJob,n=this.props.JobRequestPackage.TraderRequestPackages,s=this.props.Index,l=Math.abs(new Date-new Date(a.TimeCreated))/36e5;return r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"".concat(s+1,".")),r.a.createElement("div",{className:"type-sh3"},r.a.createElement("span",{className:"fas fa-tag",style:{color:"#606060"}}),"   ","$".concat(a.Price))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-map-marker-alt"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Loading Place"),r.a.createElement("div",{className:"content-text-secondary"},a.LoadingPlace)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-map-marker-alt"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Unloading Place"),r.a.createElement("div",{className:"content-text-secondary"},a.UnloadingPlace)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-map-signs"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Trip Type"),r.a.createElement("div",{className:"content-text-secondary"},a.TripType))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-plug"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Available"),r.a.createElement("div",{className:"content-text-secondary"},l<a.WaitingTime?r.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):r.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}))))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-calendar"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Posted on"),r.a.createElement("div",{className:"content-text-secondary"},new Date(a.TimeCreated).toDateString())))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-clock"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Posted at"),r.a.createElement("div",{className:"content-text-secondary"},new Date(a.TimeCreated).toTimeString())))))))),r.a.createElement("div",{style:{backgroundColor:"#E5E5E5",textAlign:"right",padding:"10px"}},r.a.createElement("button",{type:"button",className:"btn btn-default","data-toggle":"modal",disabled:0!==n.length,"data-target":"#edit-job-request-dialog-".concat(s)},"Edit"),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.onDelete(a.JobRequestID));case 2:case"end":return t.stop()}}))}},"Delete")),r.a.createElement(La,{DialogID:s,JobRequest:a,CanEdit:function(){return 0===n.length},OnOK:function(){e.props.OnJobRequestUpdated()}}),r.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#job-request-package-".concat(s)},r.a.createElement("div",{className:"type-h4",style:{color:"#008575",padding:"10px",textAlign:"right"}},r.a.createElement("span",{class:"badge badge-danger",style:{backgroundColor:"#D75A4A"}},n.length),"   Trader Requests"," ",r.a.createElement("i",{className:"fas fa-ellipsis-v"}),r.a.createElement("i",{class:"glyph glyph-add"}),r.a.createElement("i",{class:"glyph glyph-remove"}))),r.a.createElement("div",{className:"collapse",id:"job-request-package-".concat(s)},0===n.length?r.a.createElement("div",{className:"jumbotron theme-dark"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24 text-center"},r.a.createElement("h3",null,r.a.createElement("span",{className:"fas fa-exclamation-triangle",style:{color:"#FFBF15"}})," No requests found."))))):r.a.createElement(Ra,{DriverOnJob:t,TraderRequestPackages:n,OnJobRequestUpdated:function(){e.props.OnJobRequestUpdated()}}),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}})),this.state.Preloader)}}]),a}(n.Component),Va=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,LoadingPlace:t.state.LoadingPlace,UnloadingPlace:t.state.UnloadingPlace,TripType:t.state.TripType,Price:t.state.Price},console.log("Going to add Job Request."),t.setState({Preloader:r.a.createElement(Ve,null)}),n.next=8,O.a.awrap(ne(a).then((function(e){"Job request is added."===e.Message&&(t.cancelButton.click(),t.props.OnOK()),t.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},t.state={LoadingPlace:"",UnloadingPlace:"",TripType:"One Way",Price:0,ValidLoadingPlace:!1,ValidUnloadingPlace:!1,ValidPrice:!1,ValidForm:!1,Preloader:null,Errors:{LoadingPlace:"",UnloadingPlace:"",Price:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidLoadingPlace,s=this.state.ValidUnloadingPlace,l=this.state.ValidPrice;switch(e){case"LoadingPlace":r=""!==a,n.LoadingPlace=r?"":"Loading place is required.";break;case"UnloadingPlace":s=""!==a,n.UnloadingPlace=s?"":"Unloading place is required.";break;case"Price":l=a>0,n.Price=l?"":"Price must be more than $0.00."}this.setState({Errors:n,ValidLoadingPlace:r,ValidUnloadingPlace:s,ValidPrice:l},(function(){t.setState({ValidForm:t.state.ValidLoadingPlace&&t.state.ValidUnloadingPlace&&t.state.ValidPrice})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"text-left"},r.a.createElement("div",{className:"modal",id:"add-job-request-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Add Job Request")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Loading Place"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"LoadingPlace",className:"form-control",autoComplete:"off",value:this.state.LoadingPlace,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.LoadingPlace)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Unloading Place"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"UnloadingPlace",className:"form-control",autoComplete:"off",value:this.state.UnloadingPlace,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.UnloadingPlace)))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Trip Type"),r.a.createElement("br",null),r.a.createElement("div",{className:"dropdown",style:{width:"100%",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",className:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.TripType),r.a.createElement("span",{className:"caret"})),r.a.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({TripType:"One Way"})}},"One Way")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({TripType:"Two Way"})}},"Two Way"))))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Price (USD)"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",min:"0.00",step:"0.01",max:"100.00",name:"Price",className:"form-control",autoComplete:"off",value:this.state.Price,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Price)))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",ref:function(a){return e.cancelButton=a}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),a}(n.Component),Ia=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=5;break}return e={Token:localStorage.Token,Get:"JobRequestPackages"},t.setState({Searching:!0}),a.next=5,O.a.awrap(j(e).then((function(e){"Job request packages found."===e.Message?t.setState({AllJobRequestPackages:e.JobRequestPackages,JobRequestPackages:e.JobRequestPackages,Searching:!1}):t.setState({AllJobRequestPackages:[],JobRequestPackages:[],Searching:!1})})));case 5:case"end":return a.stop()}}))},t.onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n))},t.onSearch=function(e){if(e.preventDefault(),""!==t.state.SearchString){var a=t.state.AllJobRequestPackages,n=[],r=0,s=!0,l=!1,c=void 0;try{for(var i,o=a[Symbol.iterator]();!(s=(i=o.next()).done);s=!0){var m=i.value,d=m.JobRequest;(d.LoadingPlace.includes(t.state.SearchString)||d.UnloadingPlace.includes(t.state.SearchString))&&(n[r++]=m)}}catch(u){l=!0,c=u}finally{try{s||null==o.return||o.return()}finally{if(l)throw c}}t.setState({JobRequestPackages:n})}else t.setState({JobRequestPackages:t.state.AllJobRequestPackages})},t.state={AllJobRequestPackages:[],JobRequestPackages:[],SearchString:"",Searching:null},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSearch=t.onSearch.bind(Object(E.a)(t)),t.onComponentUpdated=t.onComponentUpdated.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,a=this.state.JobRequestPackages;return r.a.createElement("section",null,r.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},r.a.createElement("div",{class:"container",style:{paddingBottom:"10px",marginBottom:"12px"}},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xs-18"},r.a.createElement("div",{className:"type-h3 color-light"},r.a.createElement("span",{className:"fas fa-briefcase"}),"   Job Requests"),r.a.createElement("p",{className:"color-light"},"Create new job requests for your current and/or near-by locations to get a chance to increase your revenue."),r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#add-job-request-dialog"},"New Job Request")))))),r.a.createElement(Va,{OnOK:function(){e.onComponentUpdated()}}),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),r.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Your Job Requests"),r.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},r.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},r.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},r.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},r.a.createElement("div",{className:"putbox",style:{margin:"0px"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search by Places",style:{maxWidth:"500px",width:"100%"},value:this.state.SearchString,onChange:this.onChange})),r.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===a.length?r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},this.state.Searching?r.a.createElement("div",{className:"col-md-24 text-center"},r.a.createElement("div",null,r.a.createElement("div",{className:"type-h3",style:{color:"#008575"}},"Searching"),r.a.createElement(Pa,null))):r.a.createElement("div",{className:"col-md-24 text-center"},r.a.createElement("h3",null,r.a.createElement("span",{className:"fas fa-exclamation-triangle",style:{color:"#FFBF15"}})," No job requests found."))))):r.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},this.state.JobRequestPackages.map((function(a,t){return r.a.createElement("li",{key:t,className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},r.a.createElement(Ua,{Index:t,JobRequestPackage:a,OnJobRequestUpdated:e.onComponentUpdated}))}))))}}]),a}(n.Component),Aa=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(Ia,null))}}]),a}(n.Component),Fa=t(14),Ja=t.n(Fa),Ma=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.Searching,a=this.props.SearchingFor;return r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},e?r.a.createElement("div",{className:"col-md-24 text-center"},r.a.createElement("div",null,r.a.createElement("div",{className:"type-h3",style:{color:"#008575"}},"Searching"),r.a.createElement(Pa,null))):r.a.createElement("div",{className:"col-md-24 text-center"},r.a.createElement("h3",null,r.a.createElement("span",{className:"fas fa-exclamation-triangle",style:{color:"#FFBF15"}})," No ".concat(a," found.")))))))}}]),a}(n.Component),qa=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.IdentityCard;return e?r.a.createElement("section",null,r.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:e.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{className:"col-md-16"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Identity Card"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-hashtag"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"ID Number"),r.a.createElement("div",{className:"content-text-secondary"},e.IDNumber)))))))))))):null}}]),a}(n.Component),Wa=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.CommercialRegisterCertificate;return e?r.a.createElement("section",null,r.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:e.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{className:"col-md-16"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Commercial Register Certificate"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-hashtag"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Certificate Number"),r.a.createElement("div",{className:"content-text-secondary"},e.Number)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-cog"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Certificate Type"),r.a.createElement("div",{className:"content-text-secondary"},e.Type)))))))))))):null}}]),a}(n.Component),Ba=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=5;break}return t.setState({Searching:!0}),e={Token:localStorage.Token,Get:"TraderDocuments",Params:{TraderID:t.props.TraderID}},a.next=5,O.a.awrap(j(e).then((function(e){"Trader documents found."===e.Message?t.setState({TraderDocuments:e.TraderDocuments,Searching:!1}):t.setState({TraderDocuments:null,Searching:!1})})));case 5:case"end":return a.stop()}}))},t.state={TraderDocuments:null,Searching:!1},t.onComponentUpdated=t.onComponentUpdated.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state.TraderDocuments;return r.a.createElement("section",null,r.a.createElement("div",{className:"modal modal-center-vertical",id:"documents-dialog-".concat(this.props.DialogID),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},r.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal"},r.a.createElement("span",{className:"fas fa-times"}))),r.a.createElement("div",{className:"type-h2",style:{color:"#008575",paddingTop:"0px"}},"Documents")),r.a.createElement("div",{className:"modal-body"},this.state.Searching||!e?r.a.createElement(Ma,{Searching:this.state.Searching,SearchingFor:"documents"}):r.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},r.a.createElement(qa,{IdentityCard:e.IdentityCard}),r.a.createElement(Wa,{CommercialRegisterCertificate:e.CommercialRegisterCertificate})))))))}}]),a}(n.Component),Ga=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=5;break}return t.setState({Searching:!0}),e={Token:localStorage.Token,Get:"TraderProfile",Params:{TraderID:t.props.TraderID}},a.next=5,O.a.awrap(j(e).then((function(e){"Trader profile found."===e.Message?t.setState({TraderProfile:e.TraderProfile,Searching:!1}):t.setState({TraderProfile:null,Searching:!1})})));case 5:case"end":return a.stop()}}))},t.state={TraderProfile:null,Searching:!1},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){if(this.state.Searching||!this.state.TraderProfile)return r.a.createElement(Ma,{Searching:this.state.Searching,SearchingFor:"trader"});var e=this.state.TraderProfile,a=e.Trader,t=e.OnJob,n=e.ProfilePhoto?e.ProfilePhoto:"./images/defaultProfilePhoto.png",s=Ja()().substring(0,7).toUpperCase();return r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:n,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{className:"col-md-18"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"".concat(a.FirstName," ").concat(a.LastName),t?r.a.createElement("span",{class:"badge back-color-golden m-l-xxs"},"ON JOB"):null),r.a.createElement("div",{className:"type-sh3"},r.a.createElement("span",{className:"fas fa-briefcase",style:{color:"#606060"}}),"   ",a.Type),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-globe-asia"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Active"),r.a.createElement("div",{className:"content-text-secondary"},1===a.Active?r.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):r.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}))))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"Male"===a.Gender?"fas fa-male":"fas fa-female"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Gender"),r.a.createElement("div",{className:"content-text-secondary"},a.Gender)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-birthday-cake"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Birthday"),r.a.createElement("div",{className:"content-text-secondary"},a.DateOfBirth))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-flag"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Nationality"),r.a.createElement("div",{className:"content-text-secondary"},a.Nationality)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-envelope"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Email"),r.a.createElement("div",{className:"content-text-secondary"},a.Email)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-phone"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Phone Number"),r.a.createElement("div",{className:"content-text-secondary"},a.PhoneNumber)))))),r.a.createElement("button",{type:"button",className:"btn btn-default",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#documents-dialog-".concat(s)},"Documents"))))),r.a.createElement(Ba,{DialogID:s,TraderID:this.props.TraderID}))}}]),a}(n.Component),_a=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.Index,a=this.props.JobOffer,t=Math.abs(new Date-new Date(a.TimeCreated))/36e5;return r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"type-h3 color-default p-t-n"},e?"".concat(e+1,". ").concat(a.JobOfferType," Job Offer"):"".concat(a.JobOfferType," Job Offer")),r.a.createElement("div",{className:"type-sh3"},r.a.createElement("span",{className:"fas fa-tag",style:{color:"#606060"}}),"   ","$".concat(a.Price))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-map-marker-alt"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Loading Place"),r.a.createElement("div",{className:"content-text-secondary"},a.LoadingPlace)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-map-marker-alt"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Unloading Place"),r.a.createElement("div",{className:"content-text-secondary"},a.UnloadingPlace)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-map-signs"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Trip Type"),r.a.createElement("div",{className:"content-text-secondary"},a.TripType)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-clock"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Accpeted Delay"),r.a.createElement("div",{className:"content-text-secondary"},"".concat(a.AcceptedDelay," Hour(s)")))))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-box"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Cargo Type"),r.a.createElement("div",{className:"content-text-secondary"},a.CargoType)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-weight"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Cargo Weight"),r.a.createElement("div",{className:"content-text-secondary"},"".concat(a.CargoWeight," lbs."))))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-calendar"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Loading Date"),r.a.createElement("div",{className:"content-text-secondary"},new Date(a.LoadingDate).toDateString())))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-clock"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Loading Time"),r.a.createElement("div",{className:"content-text-secondary"},a.LoadingTime))))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-id-badge"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Entry/Exit"),r.a.createElement("div",{className:"content-text-secondary"},1===a.EntryExit?r.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):r.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}))))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-plug"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Availabe"),r.a.createElement("div",{className:"content-text-secondary"},t<a.WaitingTime?r.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):r.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}))))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-calendar"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Posted on"),r.a.createElement("div",{className:"content-text-secondary"},new Date(a.TimeCreated).toDateString())))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-clock"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Posted at"),r.a.createElement("div",{className:"content-text-secondary"},new Date(a.TimeCreated).toTimeString())))))))))}}]),a}(n.Component),Qa=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:if(!t.props.IsRequestSent()){n.next=5;break}return n.abrupt("return");case 5:return a={Token:localStorage.Token,JobOfferID:t.props.JobOffer.JobOfferID,Price:t.state.Price},console.log("Going to add driver request..."),t.setState({Preloader:r.a.createElement(Ve,null)}),n.next=10,O.a.awrap(le(a).then((function(e){"Driver request is added."===e.Message&&(t.cancelButton.click(),t.props.OnOK()),t.setState({Preloader:null})})));case 10:case"end":return n.stop()}}))},t.state={Price:0,ValidPrice:!1,ValidForm:!1,Preloader:null,Errors:{Price:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidPrice;switch(e){case"Price":if(r=""!==a,n.Price=r?"":"Bidding price is required.",""!==n.Price)break;r=a<=this.props.JobOffer.Price,n.Price=r?"":"You cannot bid more than maximum accepted price."}this.setState({Errors:n,ValidPrice:r},(function(){t.setState({ValidForm:t.state.ValidPrice})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"text-left"},r.a.createElement("div",{className:"modal",id:"bid-job-offer-dialog-".concat(this.props.DialogID),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"bid.png",src:"./images/bid.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Bid on Price"),r.a.createElement("div",{className:"type-sh3"},"Maximum Accepted Price is $".concat(this.props.JobOffer.Price,"."))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Price (USD)"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",min:"0.00",step:"0.01",max:"100.00",name:"Price",className:"form-control",autoComplete:"off",value:this.state.Price,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Price))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",ref:function(a){return e.cancelButton=a}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Bid",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),a}(n.Component),Ha=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onCancelRequest=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a={Token:localStorage.Token,JobOfferID:e.JobOfferID},console.log("Going to delete driver request..."),t.setState({Preloader:r.a.createElement(Ve,null)}),n.next=5,O.a.awrap(ce(a).then((function(a){"Driver request is deleted."===a.Message&&t.props.OnRequestUpdated(e,!1),t.setState({Preloader:null})})));case 5:case"end":return n.stop()}}))},t.onSendRequest=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.props.JobOfferPost.RequestSent){n.next=2;break}return n.abrupt("return");case 2:return a={Token:localStorage.Token,JobOfferID:e.JobOfferID,Price:null},console.log("Going to add driver request..."),t.setState({Preloader:r.a.createElement(Ve,null)}),n.next=7,O.a.awrap(le(a).then((function(a){"Driver request is added."===a.Message&&t.props.OnRequestUpdated(e,!0),t.setState({Preloader:null})})));case 7:case"end":return n.stop()}}))},t.state={Preloader:null},t.onSendRequest=t.onSendRequest.bind(Object(E.a)(t)),t.onCancelRequest=t.onCancelRequest.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e,a=this,t=this.props.Index,n=this.props.JobOfferPost.JobOffer,s=this.props.JobOfferPost.Trader,l=this.props.JobOfferPost.RequestSent;return e=l?r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(a.onCancelRequest(n));case 2:case"end":return e.stop()}}))}},"Fixed-Price"===n.JobOfferType?"Cancel Request":"Cancel Bid"):"Fixed-Price"===n.JobOfferType?r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(a.onSendRequest(n));case 2:case"end":return e.stop()}}))}},"Send Request"):r.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal",disabled:l,"data-target":"#bid-job-offer-dialog-".concat(t)},"Bid"),r.a.createElement("section",null,r.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},r.a.createElement("div",{className:"jumbotron p-xxxs",style:{backgroundColor:"#F2F2F2"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"type-h5",style:{color:"#008575",paddingTop:"0px"}},"".concat(t+1,". Job Offer By ").concat(s.FirstName," ").concat(s.LastName),l?r.a.createElement("span",{class:"badge back-color-default m-l-xxs"},"Fixed-Price"===n.JobOfferType?"REQUEST SENT":"ALREADY BADE"):null),r.a.createElement("div",{className:"type-sh6"},r.a.createElement("span",{className:"fas fa-clock m-r-xxxs",style:{color:"#606060"}}),"Posted on ".concat(new Date(n.TimeCreated).toDateString(),".")),r.a.createElement("div",{class:"type-sh6"},r.a.createElement("span",{className:"fas fa-map-marker-alt m-r-xxxs",style:{color:"#606060"}}),"From ".concat(n.LoadingPlace," to ").concat(n.UnloadingPlace," at $").concat(n.Price,".")),e)))),r.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#job-offer-post-".concat(t)},r.a.createElement("div",{className:"type-h4",style:{color:"#008575",padding:"10px",textAlign:"right"}},"   More Details"," ",r.a.createElement("i",{className:"fas fa-ellipsis-v"}),r.a.createElement("i",{class:"glyph glyph-add"}),r.a.createElement("i",{class:"glyph glyph-remove"}))),r.a.createElement("div",{className:"collapse",id:"job-offer-post-".concat(t)},r.a.createElement("ul",{className:"nav nav-tabs",role:"tablist",style:{padding:"10px",backgroundColor:"#EFEFEF",width:"100%",margin:"0px"}},r.a.createElement("li",{role:"presentation",className:"active"},r.a.createElement("a",{href:"#job-offer-".concat(t),"aria-controls":"job-offer-".concat(t),role:"tab","data-toggle":"tab"},"Job Offer")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#trader-".concat(t),"aria-controls":"trader-".concat(t),role:"tab","data-toggle":"tab"},"Trader"))),r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"job-offer-".concat(t)},r.a.createElement(_a,{JobOffer:n})),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"trader-".concat(t)},r.a.createElement(Ga,{TraderID:n.TraderID})))),r.a.createElement(Qa,{DialogID:t,JobOffer:n,IsRequestSent:function(){return!!l},OnOK:function(){a.props.OnRequestUpdated(n,!0)}})),this.state.Preloader)}}]),a}(n.Component),Ya=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onComponentUpdated=function(){if(localStorage.Token){var e={Token:localStorage.Token,Get:"JobOfferPosts"};t.setState({Searching:!0}),j(e).then((function(e){"Job offer posts found."===e.Message?t.setState({JobOfferPosts:e.JobOfferPosts,Searching:!1}):t.setState({JobOfferPosts:[],Searching:!1})}))}},t.state={JobOfferPosts:[],Preloader:null,Searching:!1},t.onComponentUpdated=t.onComponentUpdated.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"render",value:function(){var e=this;return this.state.Searching?r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#202020"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"job_offers.png",src:"./images/job_offers.png","data-source-index":"2"})),r.a.createElement("div",{className:"col-md-12 col-md-pull-12"},r.a.createElement("div",{className:"type-h3"},"Job Offers"),r.a.createElement("p",null,"Job opportunities from Traders and Brokers are displayed here."),r.a.createElement("div",{class:"type-sh3",style:{color:"#008575"}},"Searhcing"),r.a.createElement(Pa,null)))))):0===this.state.JobOfferPosts.length?r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#202020"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"job_offers.png",src:"./images/job_offers.png","data-source-index":"2"})),r.a.createElement("div",{className:"col-md-12 col-md-pull-12"},r.a.createElement("div",{className:"type-h3"},"Job Offers"),r.a.createElement("div",{className:"type-sh3"},"No Job Offers Found..."),r.a.createElement("p",null,"Job opportunities from Traders and Brokers are displayed here.")))))):r.a.createElement("section",null,r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),r.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Job Offers"),r.a.createElement("ol",{className:"list-items",style:{marginTop:"0px"}},this.state.JobOfferPosts.map((function(a,t){return r.a.createElement(Ha,{key:t,Index:t,JobOfferPost:a,OnRequestUpdated:function(a,t){var n=e.state.JobOfferPosts,r=!0,s=!1,l=void 0;try{for(var c,i=n[Symbol.iterator]();!(r=(c=i.next()).done);r=!0){var o=c.value;if(o.JobOffer.JobOfferID===a.JobOfferID){o.RequestSent=t;break}}}catch(m){s=!0,l=m}finally{try{r||null==i.return||i.return()}finally{if(s)throw l}}e.setState({JobOfferPosts:n})}})}))))}}]),a}(n.Component),za=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(Ya,null))}}]),a}(n.Component),Ka=t(74),Xa=t(104),$a=t.n(Xa);t(398);$a.a.setApiKey("AIzaSyC3YT8gMjGGdzQpHBNcayZYF4rvbGTL8IM"),$a.a.enableDebug();var Za=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={NoState:null},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=Object(Ka.withScriptjs)(Object(Ka.withGoogleMap)((function(e){return r.a.createElement(Ka.GoogleMap,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyC3YT8gMjGGdzQpHBNcayZYF4rvbGTL8IM&libraries=places",defaultZoom:10,defaultCenter:{lat:33.78431,lng:72.73878}})})));return r.a.createElement("div",null,r.a.createElement(e,{googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyC3YT8gMjGGdzQpHBNcayZYF4rvbGTL8IM&libraries=places",loadingElement:r.a.createElement("div",{style:{height:"100%"}}),containerElement:r.a.createElement("div",{style:{height:"400px"}}),mapElement:r.a.createElement("div",{style:{height:"100%"}})}))}}]),a}(n.Component),et=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",null,r.a.createElement(Za,null)))}}]),a}(n.Component),at=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"progress-ring"},r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}))}}]),a}(n.Component),tt=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=5;break}return e={Token:localStorage.Token,Get:"ObjectionReasons"},t.setState({ProgressRing:r.a.createElement(at,null)}),a.next=5,O.a.awrap(j(e).then((function(e){"Objection reasons found."===e.Message?t.setState({ObjectionReasons:e.ObjectionReasons,ProgressRing:!1}):t.setState({ObjectionReasons:[],ProgressRing:!1})})));case 5:case"end":return a.stop()}}))},t.onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t.setState({ProgressRing:r.a.createElement(at,null)}),a={Token:localStorage.Token,Reason:t.state.NewReason},console.log("Going to add Objection reason..."),n.next=8,O.a.awrap(oe(a).then((function(e){if("Objection reason is added."===e.Message){var a=t.state.ObjectionReasons,n=t.state.Errors;a.push(e.ObjectionReason),n.NewReason="0",t.setState({AddPressed:!1,ObjectionReasons:a,Errors:n,NewReason:""})}t.setState({ProgressRing:null})})));case 8:case"end":return n.stop()}}))},t.state={ObjectionReasons:[],AddPressed:!1,NewReason:"",ValidNewReason:!1,ValidForm:!1,ProgressRing:null,Errors:{NewReason:"0"}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.onComponentUpdated=t.onComponentUpdated.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidNewReason;switch(e){case"NewReason":r=a.length>0&&a.length<=50,n.NewReason=r?a.length:"Too long..."}this.setState({Errors:n,ValidNewReason:r},(function(){t.setState({ValidForm:t.state.ValidNewReason})}))}},{key:"render",value:function(){var e=this,a=this.state.ObjectionReasons;return r.a.createElement("section",null,this.state.ProgressRing,r.a.createElement("div",{class:"entity-list entity-list-expandable"},r.a.createElement("div",{class:"entity-list entity-list-add-item-button"},r.a.createElement("a",{class:this.state.AddPressed?"entity-list-item active":"entity-list-item"},r.a.createElement("div",{class:"item-icon",onClick:function(){e.state.AddPressed?e.setState({AddPressed:!1}):e.setState({AddPressed:!0})}},r.a.createElement("span",{class:"glyph glyph-add"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Add a Reason"),r.a.createElement("div",{class:"content-text-secondary",style:"Too long..."===this.state.Errors.NewReason?{color:"#D75A4A"}:null},this.state.Errors.NewReason)),r.a.createElement("div",{class:"item-content-expanded"},r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",className:"form-control",name:"NewReason",autocomplete:"off",value:this.state.NewReason,onChange:this.onChange}),r.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-secondary",disabled:!this.state.ValidForm}))))),a.map((function(a,t){return r.a.createElement("div",{key:t,class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-thumbs-down"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("button",{type:"button",class:"btn btn-secondary",style:{margin:"0px",minWidth:"0px"},onClick:function(){e.props.OnReasonSelected(a.Reason)}},"Select")),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"".concat(t+1,".")),r.a.createElement("div",{class:"content-text-secondary"},a.Reason)))}))))}}]),a}(n.Component),nt=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t.setState({Preloader:r.a.createElement(Ve,null)}),a={Token:localStorage.Token,OnGoingJobID:t.props.OnGoingJobID,Reason:t.state.Reason,Comment:t.state.Comment},console.log("Going to add job objection..."),n.next=8,O.a.awrap(me(a).then((function(e){"Job objection is added."===e.Message&&(t.cancelButton.click(),t.props.OnOK()),t.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},t.state={Reason:"Select from the list.",Comment:"",ValidReason:!1,ValidComment:!1,ValidForm:!1,Preloader:null,Errors:{Comment:"0"}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidComment;switch(e){case"Comment":if(r=""!==a,n.Comment=r?"":"Comment is required",""!==n.Comment)break;r=a.length<=200,n.Comment=r?a.length:"Too long..."}this.setState({Errors:n,ValidComment:r},(function(){t.setState({ValidForm:t.state.ValidReason&&t.state.ValidComment})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{className:"modal modal-center-vertical",id:"add-objection-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{className:"btn btn-primary",ref:function(a){return e.cancelButton=a},style:{minWidth:"0px"},"data-dismiss":"modal"},r.a.createElement("span",{className:"fas fa-times"}))),r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Add an Objection")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Reason"),r.a.createElement("input",{type:"text",class:"form-control",name:"Reason",style:{maxWidth:"100%"},readonly:!0,value:this.state.Reason})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Comment"),r.a.createElement("textarea",{rows:"4",class:"form-control",style:{maxWidth:"100%"},name:"Comment",value:this.state.Comment,onChange:this.onChange}),r.a.createElement("span",null,this.state.Errors.Comment)),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement("input",{type:"submit",value:"Add Objection",className:"btn btn-primary",style:{margin:"0px"},disabled:!this.state.ValidForm}))),r.a.createElement("br",null),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),r.a.createElement("div",{className:"type-h4",style:{color:"#008575",padding:"10px",textAlign:"right"}},"   Reasons",r.a.createElement("i",{className:"fas fa-ellipsis-v"})),r.a.createElement(tt,{ObjectionReasons:this.props.ObjectionReasons,OnReasonSelected:function(a){e.setState({Reason:a,ValidReason:!0},(function(){e.setState({ValidForm:e.state.ValidReason&&e.state.ValidComment})}))}}))))))}}]),a}(n.Component),rt=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.Index,a=this.props.JobObjectionPackage,t=a.JobObjection,n=a.FirstName,s=a.LastName,l=new Date(t.Created);return r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"".concat(e+1,". Objection By ").concat(n," ").concat(s)),r.a.createElement("div",{className:"type-sh3"},r.a.createElement("span",{className:"fas fa-clock",style:{color:"#606060"}}),"   ","Posted on ".concat(l.toDateString(),".")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-exclamation"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Reason"),r.a.createElement("div",{className:"content-text-secondary"},t.Reason)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-comment"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Comment"),r.a.createElement("div",{className:"content-text-secondary"},t.Comment)))))))))))}}]),a}(n.Component),st=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=4;break}return e={Token:localStorage.Token,Get:"JobObjectionPackages",Params:{OnGoingJobID:t.props.OnGoingJobID}},a.next=4,O.a.awrap(j(e).then((function(e){"Job objection packages found."===e.Message?t.setState({JobObjectionPackages:e.JobObjectionPackages,Searching:!1}):t.setState({JobObjectionPackages:[],Searching:!1})})));case 4:case"end":return a.stop()}}))},t.state={JobObjectionPackages:[],Searching:!1},t.onComponentUpdated=t.onComponentUpdated.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state.JobObjectionPackages;return r.a.createElement("section",null,r.a.createElement("div",{class:"page-header back-color-gradient"},r.a.createElement("div",{class:"container",style:{paddingBottom:"10px",marginBottom:"12px"}},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xs-18"},r.a.createElement("div",{className:"type-h3 color-light"},r.a.createElement("span",{className:"fas fa-thumbs-down"}),"   Job Objections"),r.a.createElement("p",{className:"color-light"},"Objections on this job, either by you or your customer, will terminate the job."),r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#add-objection-dialog"},"Add Objection")))))),r.a.createElement(nt,{OnGoingJobID:this.props.OnGoingJobID,OnOK:this.onComponentUpdated}),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),r.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Job Objections"),0===e.length?r.a.createElement(Ma,{Searching:this.state.Searching,SearchingFor:"job objctions"}):r.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},e.map((function(e,a){return r.a.createElement("li",{key:a,className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},r.a.createElement(rt,{Index:a,JobObjectionPackage:e}))}))))}}]),a}(n.Component),lt=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.OnGoingJob,a=new Date(e.LoadingDate);return a.setHours(parseInt(e.LoadingTime.substring(0,2))),a.setMinutes(parseInt(e.LoadingTime.substring(3,5))),a.setSeconds(parseInt(e.LoadingTime.substring(6))),r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Job Details")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-map-marker-alt"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Loading Place"),r.a.createElement("div",{className:"content-text-secondary"},e.LoadingPlace)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-map-marker-alt"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Unloading Place"),r.a.createElement("div",{className:"content-text-secondary"},e.UnloadingPlace)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-map-signs"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Trip Type"),r.a.createElement("div",{className:"content-text-secondary"},e.TripType)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-clock"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Accpeted Delay"),r.a.createElement("div",{className:"content-text-secondary"},"".concat(e.AcceptedDelay," Hour(s)")))))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-box"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Cargo Type"),r.a.createElement("div",{className:"content-text-secondary"},e.CargoType)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-weight"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Cargo Weight"),r.a.createElement("div",{className:"content-text-secondary"},"".concat(e.CargoWeight," lbs."))))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-calendar"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Loading Date"),r.a.createElement("div",{className:"content-text-secondary"},a.toDateString())))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-clock"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Loading Time"),r.a.createElement("div",{className:"content-text-secondary"},a.toTimeString()))))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-id-badge"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Entry/Exit"),r.a.createElement("div",{className:"content-text-secondary"},1===e.EntryExit?r.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):r.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}))))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-calendar"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Started on"),r.a.createElement("div",{className:"content-text-secondary"},new Date(e.Created).toDateString())))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-clock"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Started at"),r.a.createElement("div",{className:"content-text-secondary"},new Date(e.Created).toTimeString())))))))))}}]),a}(n.Component),ct=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e,a=this.props.OnGoingJob,t=this.props.HasObjections,n=new Date(a.LoadingDate);if(n.setHours(parseInt(a.LoadingTime.substring(0,2))),n.setMinutes(parseInt(a.LoadingTime.substring(3,5))),n.setSeconds(parseInt(a.LoadingTime.substring(6))),a.CompletedByDriver)e=r.a.createElement("section",null,r.a.createElement("h3",null,r.a.createElement("span",{className:"fas fa-smile p-r-xxxs"}),"This Job is Completed."),r.a.createElement("div",{class:"type-sh3"},"Waiting for Trader's Approval"));else if(t)e=r.a.createElement("h3",null,r.a.createElement("span",{className:"fas fa-exclamation p-r-xxxs"}),"This Job is Terminated.");else{var s=Math.abs(new Date-n),l=Math.floor(s/864e5),c=Math.floor(s%864e5/36e5),i=Math.round(s%864e5%36e5/6e4),o=l>0?"".concat(l," Days "):"",m=c>0?"".concat(c," Hours "):"",d=i>0?"".concat(i," Minutes "):"",u="".concat(o).concat(m).concat(d,"Left To Load Cargo");0===l&&0===c&&0===i&&(u="Loading Time has Passed"),e=r.a.createElement("section",null,r.a.createElement("h3",null,r.a.createElement("span",{className:"fas fa-clock"}),"   ",u),r.a.createElement("div",{class:"type-sh3"},r.a.createElement("span",{className:"fas fa-tag"}),"   $".concat(a.Price," AMOUNT IS ON YOUR WAY")),r.a.createElement("div",{class:"col-md-12 col-md-offset-6"},r.a.createElement("div",{class:"type-p3"},a.AcceptedDelay>0?r.a.createElement("span",null,r.a.createElement("span",{className:"fas fa-leaf"}),r.a.createElement("span",null," You have a relaxation of ".concat(a.AcceptedDelay," Hours."))):r.a.createElement("span",null,'"You must reach on time to load the cargo."'))))}return r.a.createElement("section",null,r.a.createElement("div",{class:"jumbotron theme-dark",style:{background:"linear-gradient(to right bottom, #008575, #005162)"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-24 text-center"},e)))),r.a.createElement(lt,{OnGoingJob:a}))}}]),a}(n.Component),it=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onYes=function(){var e;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t.setState({Progress:!0}),e={Token:localStorage.Token},console.log("Going to finish the job..."),a.next=5,O.a.awrap(de(e).then((function(e){"Job is finished."===e.Message&&t.props.OnOK(),t.setState({Progress:!1})})));case 5:case"end":return a.stop()}}))},t.state={Progress:null},t.onYes=t.onYes.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.CompletedByDriver;return r.a.createElement("section",null,r.a.createElement("div",{className:"modal modal-center-vertical",id:"finish-job-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},r.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal"},r.a.createElement("span",{className:"fas fa-times"}))),this.state.Progress?r.a.createElement(at,null):null,r.a.createElement("div",{className:"type-h2",style:{color:"#008575",paddingTop:"0px"}},"Finish Job")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{class:"jumbotron"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},e?r.a.createElement("div",{class:"col-md-24"},r.a.createElement("img",{alt:"confetti.png",src:"./images/confetti.png",height:"100"}),r.a.createElement("div",{class:"type-h3"},"Congratulations! You Have Completed Your Job"),r.a.createElement("div",{class:"type-sh3"},"The Trader's Approval is Pending at the Moment"),r.a.createElement("p",null,r.a.createElement("span",{class:"color-default"},"Important Note:")," You can view this job in ",r.a.createElement("span",{class:"color-default"},"Completed Jobs")," tab, once the trader approves job completion.")):r.a.createElement("div",{class:"col-md-24"},r.a.createElement("p",null,"Are you sure you want to finish this job? Your trader will approve job completion afterwards!"),r.a.createElement("div",{class:"text-right"},r.a.createElement("button",{class:"btn btn-primary",onClick:this.onYes},"Yes")))))))))))}}]),a}(n.Component),ot=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props.HasObjections,t=this.props.CompletedByDriver,n=this.props.CompletedByTrader;return a?r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#333333"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Discard the Job?"),r.a.createElement("div",{className:"type-sh3"},"This will refund Trader's amount. You can take other jobs afterwards.")),r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{className:"btn btn-danger"},"Discard"))))):r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#333333"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Job Completion Status")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"entity-list theme-alt"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-certificate"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Completion By You"),r.a.createElement("div",{className:"content-text-secondary"},t?r.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):r.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}})))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-certificate"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Completion By Trader"),r.a.createElement("div",{className:"content-text-secondary"},n?r.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):r.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}))))))),r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#finish-job-dialog"},"Finish Job")))),r.a.createElement(it,{CompletedByDriver:t,OnOK:function(){e.props.OnJobFinished()}}))}}]),a}(n.Component),mt=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){this.props.Message;var e=this.props.Type;return r.a.createElement("div",{class:"alert-stack"},r.a.createElement("div",{class:"alert alert-".concat(e," alert-dismissible fade in"),role:"alert"},r.a.createElement("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},r.a.createElement("i",{class:"fas fa-times"}))),r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-24"},r.a.createElement("p",null,this.props.Message))))))}}]),a}(n.Component),dt=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=5;break}return e={Token:localStorage.Token,Get:"OnGoingJob"},t.setState({Loading:!0}),a.next=5,O.a.awrap(j(e).then((function(e){"On-going job found."===e.Message?(console.log(e),t.setState({OnGoingJob:e.OnGoingJob,HasObjections:e.HasObjections,Loading:!1})):(clearInterval(t.interval),t.setState({OnGoingJob:null,HasObjections:!1,Loading:!1}))})));case 5:case"end":return a.stop()}}))},t.state={OnGoingJob:null,HasObjections:!1,Loading:!1},t.interval=0,t.onComponentUpdated=t.onComponentUpdated.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(this.onComponentUpdated());case 2:this.interval=setInterval((function(){var a;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return a={Token:localStorage.Token,Get:"OnGoingJob"},t.next=4,O.a.awrap(j(a).then((function(a){"On-going job found."===a.Message?(console.log(a),e.setState({OnGoingJob:a.OnGoingJob,HasObjections:a.HasObjections})):e.setState({OnGoingJob:null,HasObjections:!1})})));case 4:case"end":return t.stop()}}))}),15e3);case 3:case"end":return a.stop()}}),null,this)}},{key:"UNSAFE_componentWillMount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this;if(this.state.Loading||!this.state.OnGoingJob)return r.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#202020"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"on_going_jobs.png",src:"./images/on_going_jobs.png","data-source-index":"2"})),r.a.createElement("div",{className:"col-md-12 col-md-pull-12"},r.a.createElement("div",{className:"type-h3"},"On-Going Job"),this.state.Loading?r.a.createElement("div",null,r.a.createElement("div",{class:"type-sh3",style:{color:"#008575"}},"Searhcing"),r.a.createElement(Pa,null)):r.a.createElement("div",{className:"type-sh3"},"Couldn't Find Your Job...")))));var a=this.state.OnGoingJob,t=this.state.HasObjections;return r.a.createElement("section",null,r.a.createElement("ul",{className:"nav nav-tabs tabs-light",role:"tablist"},r.a.createElement("li",{role:"presentation",className:"active"},r.a.createElement("a",{href:"#job-tab","aria-controls":"job-tab",role:"tab","data-toggle":"tab"},"Job")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#trader-tab","aria-controls":"trader-tab",role:"tab","data-toggle":"tab"},"Trader")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#map-tab","aria-controls":"map-tab",role:"tab","data-toggle":"tab"},"Map")),a.CompletedByDriver?null:r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#objections-tab","aria-controls":"objections-tab",role:"tab","data-toggle":"tab"},"Objections"))),t?r.a.createElement(mt,{Type:"danger",Message:"This job has objections, and it cannot be completed now. For more information, please tap on Objections tab."}):null,r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"job-tab"},r.a.createElement(ct,{OnGoingJob:a,HasObjections:t})),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"trader-tab"},r.a.createElement(Ga,{TraderID:a.TraderID})),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"map-tab"},r.a.createElement(et,null)),a.CompletedByDriver?null:r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"objections-tab"},r.a.createElement(st,{OnGoingJobID:a.OnGoingJobID,OnObjectionAdded:this.onComponentUpdated}))),r.a.createElement(ot,{HasObjections:t,CompletedByDriver:a.CompletedByDriver,CompletedByTrader:a.CompletedByTrader,OnJobFinished:function(){var a=e.state.OnGoingJob;a.CompletedByDriver=!0,e.setState({OnGoingJob:a})}}))}}]),a}(n.Component),ut=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.Index,a=this.props.CompletedJob,t=new Date(a.LoadingDate);return t.setHours(parseInt(a.LoadingTime.substring(0,2))),t.setMinutes(parseInt(a.LoadingTime.substring(3,5))),t.setSeconds(parseInt(a.LoadingTime.substring(6))),r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"".concat(e+1,".")),r.a.createElement("div",{className:"type-h4",style:{color:"#008575",paddingTop:"0px"}},r.a.createElement("span",{className:"fas fa-check m-r-xxxs"}),"Cargo Items were Delivered at ".concat(a.UnloadingPlace," from ").concat(a.LoadingPlace,"."))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-map-signs"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Trip Type"),r.a.createElement("div",{className:"content-text-secondary"},a.TripType))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-clock"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Accpeted Delay"),r.a.createElement("div",{className:"content-text-secondary"},"".concat(a.AcceptedDelay," Hour(s)")))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-id-badge"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Entry/Exit"),r.a.createElement("div",{className:"content-text-secondary"},a.EntryExit?r.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):r.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}})))))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-box"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Cargo Type"),r.a.createElement("div",{className:"content-text-secondary"},a.CargoType))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-weight"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Cargo Weight"),r.a.createElement("div",{className:"content-text-secondary"},"".concat(a.CargoWeight," lbs.")))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-calendar"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Loading Date"),r.a.createElement("div",{className:"content-text-secondary"},t.toDateString()))))),r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-clock"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Loading Time"),r.a.createElement("div",{className:"content-text-secondary"},t.toTimeString()))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-calendar"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Completed on"),r.a.createElement("div",{className:"content-text-secondary"},new Date(a.Created).toDateString()))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-clock"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Completed at"),r.a.createElement("div",{className:"content-text-secondary"},new Date(a.Created).toTimeString())))))))))}}]),a}(n.Component),pt=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",{class:"rating ".concat(this.props.Size," ").concat(this.props.Color)},r.a.createElement("div",{class:"rating-stars"},r.a.createElement("ul",{class:"rating-stars-background"},r.a.createElement("li",null,r.a.createElement("i",{class:"glyph glyph-star"})),r.a.createElement("li",null,r.a.createElement("i",{class:"glyph glyph-star"})),r.a.createElement("li",null,r.a.createElement("i",{class:"glyph glyph-star"})),r.a.createElement("li",null,r.a.createElement("i",{class:"glyph glyph-star"})),r.a.createElement("li",null,r.a.createElement("i",{class:"glyph glyph-star"}))),r.a.createElement("ul",{class:"rating-stars-value",style:{width:"".concat(this.props.Rating,"%")}},r.a.createElement("li",null,r.a.createElement("i",{class:"glyph glyph-star"})),r.a.createElement("li",null,r.a.createElement("i",{class:"glyph glyph-star"})),r.a.createElement("li",null,r.a.createElement("i",{class:"glyph glyph-star"})),r.a.createElement("li",null,r.a.createElement("i",{class:"glyph glyph-star"})),r.a.createElement("li",null,r.a.createElement("i",{class:"glyph glyph-star"})))),this.props.Label?r.a.createElement("div",{class:"rating-label rating-label-right"},this.props.Label):null))}}]),a}(n.Component),Et=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.Index,a=this.props.CompletedJobPackage.CompletedJob,t=this.props.CompletedJobPackage.DriverReview;return r.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},r.a.createElement(ut,{Index:e,CompletedJob:a}),t?r.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#333333"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Trader's Review")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"entity-list theme-alt"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-star"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Rating"),r.a.createElement("div",{className:"content-text-secondary"},r.a.createElement(pt,{Rating:t.Rating,Color:"color-alt",Size:"rating-small"})))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-pencil-alt"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Review"),r.a.createElement("div",{className:"content-text-secondary"},t.Review)))))))):r.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#333333"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"type-h3 color-default p-t-n"},r.a.createElement("span",{className:"fas fa-star m-r-xxs"}),"No Rating Found"),r.a.createElement("div",{className:"type-sh3"},"Your rating and review appears here.")))),r.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#completed-job-".concat(e)},r.a.createElement("div",{className:"type-h4",style:{color:"#008575",padding:"10px",textAlign:"right"}},"Trader Details",r.a.createElement("i",{className:"fas fa-ellipsis-v"}),r.a.createElement("i",{class:"glyph glyph-add"}),r.a.createElement("i",{class:"glyph glyph-remove"}))),r.a.createElement("div",{className:"collapse",id:"completed-job-".concat(e)},r.a.createElement(Ga,{TraderID:a.TraderID})))}}]),a}(n.Component),bt=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onLoad=function(){if(localStorage.Token){var e={Token:localStorage.Token,Get:"CompletedJobPackages"};t.setState({Searching:!0}),j(e).then((function(e){"Completed job packages found."===e.Message?t.setState({AllCompletedJobPackages:e.CompletedJobPackages,CompletedJobPackages:e.CompletedJobPackages,Searching:!1}):t.setState({AllCompletedJobPackages:[],CompletedJobPackages:[],Searching:!1})}))}},t.onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n))},t.onSearch=function(e){if(e.preventDefault(),""!==t.state.SearchDate){var a=t.state.AllCompletedJobPackages,n=[],r=0,s=t.state.SearchDate,l=!0,c=!1,i=void 0;try{for(var o,m=a[Symbol.iterator]();!(l=(o=m.next()).done);l=!0){var d=o.value,u=d.CompletedJob;new Date(u.LoadingDate).getTime()!==new Date(s).getTime()&&new Date(u.Created).getTime()!==new Date(s).getTime()||(n[r++]=d)}}catch(p){c=!0,i=p}finally{try{l||null==m.return||m.return()}finally{if(c)throw i}}t.setState({CompletedJobPackages:n})}else t.setState({CompletedJobPackages:t.state.AllCompletedJobPackages})},t.state={AllCompletedJobPackages:[],CompletedJobPackages:[],SearchDate:"",Searching:!1},t.onLoad=t.onLoad.bind(Object(E.a)(t)),t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSearch=t.onSearch.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onLoad()}},{key:"render",value:function(){var e=this.state.CompletedJobPackages;return r.a.createElement("section",null,r.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},r.a.createElement("div",{class:"container",style:{paddingBottom:"10px",marginBottom:"12px"}},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xs-18"},r.a.createElement("div",{className:"type-h3 color-light"},r.a.createElement("span",{className:"fas fa-check m-r-xxs"}),"Completed Jobs"),r.a.createElement("p",{className:"color-light"},"You have completed ".concat(this.state.AllCompletedJobPackages.length," jobs.")))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),r.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Your Completed Offers"),r.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},r.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},r.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},r.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},r.a.createElement("div",{className:"putbox",style:{margin:"0px"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"date",name:"SearchDate",className:"form-control",placeholder:"Search by Date",style:{maxWidth:"500px",width:"100%"},value:this.state.SearchDate,onChange:this.onChange})),r.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===e.length?r.a.createElement(Ma,{Searching:this.state.Searching,SearchingFor:"completed jobs"}):r.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},e.map((function(e,a){return r.a.createElement(Et,{key:a,Index:a,CompletedJobPackage:e})}))))}}]),a}(n.Component),ht=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(bt,null))}}]),a}(n.Component),gt=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(ua,{Heading:"JOBS"}),r.a.createElement("ul",{className:"nav nav-tabs theme-alt",role:"tablist",style:{padding:"10px",backgroundColor:"#3A3A3C",width:"100%",margin:"0px"}},r.a.createElement("li",{role:"presentation",className:"active"},r.a.createElement("a",{href:"#job-requests","aria-controls":"job-requests",role:"tab","data-toggle":"tab"},"Job Requests")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#job-offers","aria-controls":"job-offers",role:"tab","data-toggle":"tab"},"Job Offers")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#on-going-job","aria-controls":"on-going-job",role:"tab","data-toggle":"tab"},"On-Going Job")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#completed-jobs","aria-controls":"completed-jobs",role:"tab","data-toggle":"tab"},"Completed Jobs"))),r.a.createElement("div",{class:"tab-content"},r.a.createElement("div",{role:"tabpanel",class:"tab-pane active",id:"job-requests"},r.a.createElement(Aa,null)),r.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"job-offers"},r.a.createElement(za,null)),r.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"on-going-job"},r.a.createElement(dt,null)),r.a.createElement("div",{role:"tabpanel",class:"tab-pane",id:"completed-jobs"},r.a.createElement(ht,null))))}}]),a}(n.Component),vt=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"jumbotron",style:{width:"100%",backgroundColor:"#202020"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{class:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"tools.png",src:"./images/tools.png",style:{borderRadius:"50%"},"data-source-index":"1"})),r.a.createElement("div",{class:"col-md-12 col-md-pull-12"},r.a.createElement("div",{class:"type-h3",style:{color:"#008575"}},"Payments"),r.a.createElement("div",{class:"type-sh3",style:{color:"#949496"}},"Under-Construction"))))))}}]),a}(n.Component),ft=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).onChange=function(a){var t=a.target.name,n=a.target.value;e.setState(Object(P.a)({},t,n),(function(){e.validateField(t,n)}))},e.onSubmit=function(a){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),e.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.Token,FirstName:e.state.FirstName,LastName:e.state.LastName,Address:e.state.Address,PhoneNumber:e.state.PhoneNumber,Gender:e.state.Gender,Nationality:e.state.Nationality,DateOfBirth:e.state.DateOfBirth},e.setState({Preloader:r.a.createElement(Ve,null)}),n.next=7,O.a.awrap(L(t).then((function(a){"Driver is updated."===a.Message&&e.props.OnSettingsSaved(),e.setState({Preloader:null})})));case 7:case"end":return n.stop()}}))},e.state={FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:"",ValidFirstName:!0,ValidLastName:!0,ValidPhoneNumber:!0,ValidForm:!1,SettingsSaved:!1,Preloader:null,Errors:{FirstName:"",LastName:"",PhoneNumber:""}},e.onChange=e.onChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,a=this;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Token:localStorage.Token,Get:"Driver"},t.next=4,O.a.awrap(j(e).then((function(e){if("Driver found."===e.Message){var t=e.Driver;a.setState({FirstName:t.FirstName,LastName:t.LastName,Address:t.Address,PhoneNumber:t.PhoneNumber,Gender:t.Gender,Nationality:t.Nationality,DateOfBirth:t.DateOfBirth})}else a.setState({FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:""})})));case 4:case"end":return t.stop()}}))}},{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidFirstName,s=this.state.ValidLastName,l=this.state.ValidPhoneNumber;switch(e){case"FirstName":r=a.match(/^[a-zA-Z ]+$/),n.FirstName=r?"":"First name is invalid.";break;case"LastName":s=a.match(/^[a-zA-Z ]+$/),n.LastName=s?"":"Last name is invalid.";break;case"PhoneNumber":l=a.match(/^\+[0-9]?()[0-9](\s|\S)(\d[0-9]{9})$/),n.PhoneNumber=l?"":"Phone number is invalid."}this.setState({Errors:n,ValidFirstName:r,ValidLastName:s,ValidPhoneNumber:l},(function(){t.setState({ValidForm:t.state.ValidFirstName&&t.state.ValidLastName&&t.state.ValidPhoneNumber})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"General Settings"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"entity-list entity-list-expandable"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-comment"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"FirstName",autoComplete:"off",value:this.state.FirstName,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"First Name"),r.a.createElement("div",{className:"text-danger"},this.state.Errors.FirstName))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-comment"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"LastName",autoComplete:"off",value:this.state.LastName,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Last Name"),r.a.createElement("div",{className:"text-danger"},this.state.Errors.LastName))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-birthday-cake"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"date",className:"form-control",name:"DateOfBirth",autoComplete:"off",value:this.state.DateOfBirth,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Date of Birth"))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"Male"===this.state.Gender?"fas fa-male":"fas fa-female"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"dropdown",style:{width:"193px",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",className:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.Gender),r.a.createElement("span",{className:"caret"})),r.a.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({Gender:"Male"})}},"Male")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({Gender:"Female"})}},"Female"))))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Gender"))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-flag"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"Nationality",autoComplete:"off",value:this.state.Nationality,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Nationality"))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-phone"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"PhoneNumber",autoComplete:"off",placeholder:"+XXXXXXXXXXXX",value:this.state.PhoneNumber,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Phone Number"),r.a.createElement("div",{className:"text-danger"},this.state.Errors.PhoneNumber))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-location-arrow"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"Address",autoComplete:"off",value:this.state.Address,onChange:this.onChange,style:{width:"393px"}}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Address"))),r.a.createElement("div",{className:"entity-list-item active"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-save"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Save Changes?"),r.a.createElement("div",{className:"content-text-secondary"},"This cannot be undone.")),r.a.createElement("div",{className:"item-content-expanded"},r.a.createElement("input",{type:"submit",value:"Save",className:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.Preloader)}}]),a}(n.Component),Nt=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,Username:t.props.Username,Email:t.props.Email},t.setState({Preloader:r.a.createElement(Ve,null)}),n.next=7,O.a.awrap(A(a).then((function(e){"Driver is updated."===e.Message&&t.props.OnOK(t.cancelButton),t.setState({Preloader:null})})));case 7:case"end":return n.stop()}}))},t.state={ConfirmCode:"",ValidConfirmCode:!1,ValidForm:!1,Preloader:null,Errors:{ConfirmCode:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidConfirmCode;r=a===this.props.Code,n.ConfirmCode=r?"":"Invalid code.",this.setState({Errors:n,ValidConfirmCode:r},(function(){t.setState({ValidForm:t.state.ValidConfirmCode})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"text-left"},r.a.createElement("div",{className:"modal in",id:"code-confirmation-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true",style:{display:"block"}},r.a.createElement("div",{className:"modal-dialog"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"passcode.png",src:"./images/passcode.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Email Confirmation"),r.a.createElement("div",{className:"type-sh3"},"We delivered a confirmation code to your email.")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Confirmation Code"),r.a.createElement("input",{type:"text",name:"ConfirmCode",className:"form-control",autocomplete:"off",value:this.state.ConfirmCode,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.ConfirmCode))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(a){return e.cancelButton=a}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Confirm",className:"btn btn-primary",disabled:!this.state.ValidForm})))))))))}}]),a}(n.Component),yt=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).onChange=function(a){var t=a.target.name,n=a.target.value;e.setState(Object(P.a)({},t,n),(function(){e.validateField(t,n)}))},e.onSubmit=function(a){var t,n,s;return O.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(a.preventDefault(),e.state.ValidForm){l.next=3;break}return l.abrupt("return");case 3:if(e.state.NewUsername!==e.state.Username||e.state.NewEmail!==e.state.Email){l.next=5;break}return l.abrupt("return");case 5:if(e.state.NewUsername===e.state.Username){l.next=12;break}return l.next=8,O.a.awrap(U(e.state.NewUsername));case 8:if("Username is unavailable."!==(t=l.sent).Message){l.next=12;break}return e.validateField("NewUsername",t.Message),l.abrupt("return");case 12:if(e.state.NewEmail===e.state.Email){l.next=19;break}return l.next=15,O.a.awrap(V(e.state.NewEmail));case 15:if("Email is already taken."!==(n=l.sent).Message){l.next=19;break}return e.validateField("NewEmail",n.Message),l.abrupt("return");case 19:if(e.state.NewEmail!==e.state.Email){l.next=27;break}return s={Token:localStorage.Token,Username:e.state.NewUsername,Email:e.state.NewEmail},e.setState({Preloader:r.a.createElement(Ve,null)}),console.log("Going to update username..."),l.next=25,O.a.awrap(A(s).then((function(a){"Driver is updated."===a.Message&&e.props.OnSettingsSaved(),e.setState({Preloader:null})})));case 25:l.next=30;break;case 27:return console.log("Going to send code..."),l.next=30,O.a.awrap(I(e.state.NewEmail).then((function(a){"Code sent."===a.Message&&e.setState({CodeConfirmationDialog:r.a.createElement(Nt,{Code:a.Code,Username:e.state.NewUsername,Email:e.state.NewEmail,OnCancel:function(){e.setState({CodeConfirmationDialog:null})},OnOK:function(a){a.click(),e.props.OnSettingsSaved()}})})})));case 30:case"end":return l.stop()}}))},e.state={Username:"",NewUsername:"",Email:"",NewEmail:"",Code:"",ValidNewUsername:!0,ValidNewEmail:!0,ValidForm:!1,CodeConfirmationDialog:null,Errors:{NewUsername:"",NewEmail:""},CodeConfirmation:""},e.onChange=e.onChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,a=this;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Token:localStorage.Token,Get:"Driver"},t.next=4,O.a.awrap(j(e).then((function(e){if("Driver found."===e.Message){var t=e.Driver;a.setState({Username:t.Username,NewUsername:t.Username,Email:t.Email,NewEmail:t.Email})}else a.setState({Username:"",NewUsername:"",Email:"",NewEmail:""})})));case 4:case"end":return t.stop()}}))}},{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidNewUsername,s=this.state.ValidNewEmail;switch(e){case"NewUsername":if(r=""!==a,n.NewUsername=r?"":"Username is required.",""!=n.NewUsername)break;if(r=a.match(/^[a-z0-9]+$/i),n.NewUsername=r?"":"Username is invalid.",""!=n.NewUsername)break;r="Username is unavailable."!==a,n.NewUsername=r?"":"Username is unavailable.";break;case"NewEmail":if(s=""!==a,n.NewEmail=s?"":"Email is required.",""!=n.NewEmail)break;if(s=a.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),n.NewEmail=s?"":"Email is invalid.",""!=n.NewEmail)break;s="Email is already taken."!==a,n.NewEmail=s?"":"Email is already taken."}this.setState({Errors:n,ValidNewUsername:r,ValidNewEmail:s},(function(){t.setState({ValidForm:t.state.ValidNewUsername&&t.state.ValidNewEmail})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Username and Emails"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"entity-list entity-list-expandable"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-at"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"text",name:"NewUsername",class:"form-control",autocomplete:"off",value:this.state.NewUsername,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Username"),r.a.createElement("div",{class:"content-text-secondary text-danger"},this.state.Errors.NewUsername))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-envelope"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"email",name:"NewEmail",class:"form-control",placeholder:"someone@example.com",autocomplete:"off",value:this.state.NewEmail,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Email"),r.a.createElement("div",{class:"content-text-secondary text-danger"},this.state.Errors.NewEmail))),r.a.createElement("div",{class:"entity-list-item active"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-save"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Save Changes?"),r.a.createElement("div",{class:"content-text-secondary"},"This cannot be undone.")),r.a.createElement("div",{class:"item-content-expanded"},r.a.createElement("input",{type:"submit",value:"Save",class:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.Preloader,this.state.CodeConfirmationDialog)}}]),a}(n.Component),xt=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).onChange=function(a){var t=a.target.name,n=a.target.value;e.setState(Object(P.a)({},t,n),(function(){e.validateField(t,n)}))},e.onSubmit=function(a){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),e.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.Token,Password:e.state.CurrentPassword},n.next=6,O.a.awrap(F(t).then((function(a){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("Invalid password."!==a.Message){n.next=4;break}e.validateField("CurrentPassword",a.Message),n.next=8;break;case 4:return t={Token:localStorage.Token,Password:e.state.NewPassword},e.setState({Preloader:r.a.createElement(Ve,null)}),n.next=8,O.a.awrap(J(t).then((function(a){"Driver is updated."===a.Message&&e.props.OnSettingsSaved(),e.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))})));case 6:case"end":return n.stop()}}))},e.state={CurrentPassword:"",NewPassword:"",ConfirmPassword:"",ValidCurrentPassword:!1,ValidNewPassword:!1,ValidConfirmPassword:!1,ValidForm:!1,Preloader:null,Errors:{CurrentPassword:"",NewPassword:"",ConfirmPassword:""}},e.onChange=e.onChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t,n,r,s,l=this;return O.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:t=this.state.Errors,n=this.state.ValidCurrentPassword,r=this.state.ValidNewPassword,s=this.state.ValidConfirmPassword,c.t0=e,c.next="CurrentPassword"===c.t0?7:"NewPassword"===c.t0?14:"ConfirmPassword"===c.t0?17:20;break;case 7:if(n=""!==a,t.CurrentPassword=n?"":"Current password is required.",""===t.CurrentPassword){c.next=11;break}return c.abrupt("break",21);case 11:return n="Invalid password."!==a,t.CurrentPassword=n?"":"Current password is invalid.",c.abrupt("break",21);case 14:return r=a.length>=6,t.NewPassword=r?"":"Password is too short.",c.abrupt("break",21);case 17:return s=a===this.state.NewPassword,t.ConfirmPassword=s?"":"Passwords did not match.",c.abrupt("break",21);case 20:return c.abrupt("break",21);case 21:this.setState({Errors:t,ValidCurrentPassword:n,ValidNewPassword:r,ValidConfirmPassword:s},(function(){l.setState({ValidForm:l.state.ValidCurrentPassword&&l.state.ValidNewPassword&&l.state.ValidConfirmPassword})}));case 22:case"end":return c.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",{class:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Change Password"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"entity-list entity-list-expandable"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-key"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"password",name:"CurrentPassword",class:"form-control",autoComplete:"off",value:this.state.CurrentPassword,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Current Password"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.CurrentPassword))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-key"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"password",name:"NewPassword",class:"form-control",autoComplete:"off",value:this.state.NewPassword,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"New Password"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.NewPassword))),r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-key"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("div",{class:"form-group"},r.a.createElement("input",{type:"password",name:"ConfirmPassword",class:"form-control",autoComplete:"off",value:this.state.ConfirmPassword,onChange:this.onChange}))),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Confirm Password"),r.a.createElement("div",{class:"text-danger"},this.state.Errors.ConfirmPassword))),r.a.createElement("div",{class:"entity-list-item active"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-save"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Save Changes?"),r.a.createElement("div",{class:"content-text-secondary"},"This cannot be undone.")),r.a.createElement("div",{class:"item-content-expanded"},r.a.createElement("input",{type:"submit",value:"Save",class:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.Preloader)}}]),a}(n.Component),Ct=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement(ua,{Heading:"SETTINGS"}),r.a.createElement(ft,{ref:"GeneralSettings",OnSettingsSaved:function(){e.refs.GeneralSettings.componentDidMount()}}),r.a.createElement(yt,{ref:"UsernameAndEmailSettings",OnSettingsSaved:function(){e.refs.UsernameAndEmailSettings.componentDidMount()}}),r.a.createElement(xt,{ref:"PasswordSettings",OnSettingsSaved:function(){e.refs.PasswordSettings.forceUpdate()}}))}}]),a}(n.Component),Ot=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onCloseNavigation=function(){t.setState({Left:-400})},t.state={Left:-400},t.onCloseNavigation=t.onCloseNavigation.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return localStorage.Token?r.a.createElement("section",null,r.a.createElement("div",{className:"sidenav",style:{left:"".concat(this.state.Left,"px")}},r.a.createElement("a",{className:"closebtn",onClick:this.onCloseNavigation},"\xd7"),r.a.createElement("div",{class:"entity-list",role:"tablist"},r.a.createElement("div",{class:"entity-list-item",role:"presentation"},r.a.createElement("a",{href:"#profile","aria-controls":"profile",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Profile")),r.a.createElement("div",{class:"entity-list-item",role:"presentation"},r.a.createElement("a",{href:"#trucks","aria-controls":"trucks",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Trucks")),r.a.createElement("div",{class:"entity-list-item",role:"presentation"},r.a.createElement("a",{href:"#permits","aria-controls":"permits",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Permits")),r.a.createElement("div",{class:"entity-list-item",role:"presentation"},r.a.createElement("a",{href:"#financialAffairs","aria-controls":"financialAffairs",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Financial Affairs")),r.a.createElement("div",{class:"entity-list-item",role:"presentation"},r.a.createElement("a",{href:"#jobs","aria-controls":"jobs",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Jobs")),r.a.createElement("div",{class:"entity-list-item",role:"presentation"},r.a.createElement("a",{href:"#payments","aria-controls":"payments",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Payments")),r.a.createElement("div",{class:"entity-list-item",role:"presentation"},r.a.createElement("a",{href:"#settings","aria-controls":"settings",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Settings")))),r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"profile"},r.a.createElement(pa,null)),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"trucks"},r.a.createElement(ya,null)),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"permits"},r.a.createElement(Sa,null)),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"financialAffairs"},r.a.createElement(wa,null)),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"jobs"},r.a.createElement(gt,null)),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"payments"},r.a.createElement(vt,null)),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"settings"},r.a.createElement(Ct,null))),r.a.createElement("div",{className:"side-nav-btn",onClick:function(){e.setState({Left:0})}},r.a.createElement("div",{className:"fas fa-bars",style:{fontSize:"x-large"}}))):r.a.createElement(p.a,{to:"/login"})}}]),a}(n.Component),Pt=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onImageUpload=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.state.Image=e.target.files[0],a=new FormData,n.prev=2,a.append("Image",t.state.Image,t.state.Image.name),n.next=6,O.a.awrap(S.a.post(v.a.IMAGE_UPLOADER,a,{onUploadProgress:function(e){t.setState({UploadProgress:r.a.createElement("div",{className:"progress-bar"},r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}),r.a.createElement("div",{className:"progress-circle"}))})}}).then((function(e){var a,n;return O.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if("Image uploaded successfully."!==(e=e.data).message){r.next=6;break}return a={Token:localStorage.Token,PhotoURL:e.imageUrl,FileName:e.filename},n=e.imageUrl,r.next=6,O.a.awrap(he(a).then((function(e){"Profile photo is updated."!==e.Message&&"Profile photo is added."!==e.Message||t.setState({PhotoURL:n,UploadProgress:null})})));case 6:case"end":return r.stop()}}))})).catch((function(){t.props.OnImageUploaded("Invalid Image."),t.setState({ImageURL:"./images/defaultProfilePhoto.png",UploadProgress:null})})));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(2),t.setState({UploadProgress:null}),n.abrupt("return");case 12:case"end":return n.stop()}}),null,null,[[2,8]])},t.onSubmit=function(e){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e.preventDefault();case 1:case"end":return a.stop()}}))},t.state={Image:null,PhotoURL:"./images/defaultProfilePhoto.png",UploadProgress:null},t.onImageUpload=t.onImageUpload.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,a=this;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Token:localStorage.Token,Get:"ProfilePhoto"},t.next=4,O.a.awrap(be(e).then((function(e){if("Profile photo found."===e.Message){var t=e.ProfilePhoto;a.setState({PhotoURL:t.PhotoURL})}else a.state({PhotoURL:"./images/defaultProfilePhoto.png"})})));case 4:case"end":return t.stop()}}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("input",{type:"file",onChange:this.onImageUpload,style:{display:"none"},ref:function(a){return e.fileInput=a}}),r.a.createElement("figure",{className:"media"},r.a.createElement("div",{className:"media-img media-img-has-play ratio-1-1"},r.a.createElement("a",{href:"#",onClick:function(){return e.fileInput.click()}},r.a.createElement("img",{style:{border:"5px solid #3A3A3C"},src:this.state.PhotoURL,alt:"ProfilePhoto.png"}),r.a.createElement("i",{className:"glyph glyph-edit"})))),this.state.UploadProgress)}}]),a}(n.Component),kt=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){if(e.preventDefault(),t.state.ValidForm){var a={Token:localStorage.Token,IDNumber:t.state.IDNumber,PhotoURL:t.state.PhotoURL};console.log("Going to add Identity Card."),t.setState({Preloader:r.a.createElement(Ve,null)}),function(e){return S.a.post("".concat(v.a.NAQEL_SERVER,"traders/addIdentityCard"),{IDNumber:e.IDNumber,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))}(a).then((function(e){"Identity card is added."===e.Message&&t.props.OnOK(t.cancelButton),t.setState({Preloader:null})}))}},t.state={IDNumber:"",PhotoURL:"./images/default_image.png",ValidIDNumber:!1,ValidPhotoURL:!1,ValidForm:!1,Preloader:null,Errors:{IDNumber:"",PhotoURL:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidIDNumber,s=this.state.ValidPhotoURL;switch(e){case"IDNumber":if(r=""!==a,n.IDNumber=r?"":"ID number is required.",""!==n.IDNumber)break;r=a>=1e9&&a<=9999999999,n.IDNumber=r?"":"ID number must be 10-digits long.";break;case"PhotoURL":s=null!==a,n.PhotoURL=s?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidIDNumber:r,ValidPhotoURL:s},(function(){t.setState({ValidForm:t.state.ValidIDNumber&&t.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"text-left"},r.a.createElement("div",{className:"modal",id:"add-identity-card-dialog",tabindex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Add Identity Card")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement($e,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(a){"Image uploaded successfully."===a.message?(e.setState({PhotoURL:a.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"IdentityCard"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"ID Number"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"IDNumber",className:"form-control",autoComplete:"off",required:!0,value:this.state.IDNumber,onChange:this.onChange,min:"1000000000",max:"9999999999"}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.IDNumber))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(a){return e.cancelButton=a}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),a}(n.Component),St=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).state={AddIdentityCardDialog:null},e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("button",{type:"button",className:"btn btn-primary",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#add-identity-card-dialog",onMouseDown:function(){e.setState({AddIdentityCardDialog:r.a.createElement(kt,{OnCancel:function(){e.setState({AddIdentityCardDialog:null})},OnOK:function(a){a.click(),e.props.OnDocumentsUpdated()}})})}},r.a.createElement("span",{className:"fas fa-plus","aria-hidden":"true"})," Identity Card"),this.state.AddIdentityCardDialog)}}]),a}(n.Component),wt=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){if(e.preventDefault(),t.state.ValidForm){var a={Token:localStorage.Token,Number:t.state.Number,Type:t.state.Type,PhotoURL:t.state.PhotoURL};console.log("Going to add commercial register certificate."),t.setState({Preloader:r.a.createElement(Ve,null)}),function(e){return S.a.post("".concat(v.a.NAQEL_SERVER,"traders/addCommercialRegisterCertificate"),{Number:e.Number,Type:e.Type,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))}(a).then((function(e){"Commercial register certificate is added."===e.Message&&t.props.OnOK(t.cancelButton),t.setState({Preloader:null})}))}},t.state={Number:Ja()().substring(0,7).toUpperCase(),Type:"",PhotoURL:"./images/default_image.png",ValidType:!1,ValidPhotoURL:!1,ValidForm:!1,Preloader:null,Errors:{Type:"",PhotoURL:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidType,s=this.state.ValidPhotoURL;switch(e){case"Type":r=""!==a,n.Type=r?"":"Certificate type is required.";break;case"PhotoURL":s=null!==a,n.PhotoURL=s?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidType:r,ValidPhotoURL:s},(function(){t.setState({ValidForm:t.state.ValidType&&t.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"text-left"},r.a.createElement("div",{className:"modal",id:"add-commercial-register-certificate-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Add Commercial Register Certificate")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement($e,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(a){"Image uploaded successfully."===a.message?(e.setState({PhotoURL:a.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"CommercialRegisterCertificate"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Certificate Number"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"Number",className:"form-control",autoComplete:"off",readOnly:!0,value:this.state.Number,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Certificate Type"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"Type",className:"form-control",autoComplete:"off",required:!0,value:this.state.Type,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Type))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(a){return e.cancelButton=a}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),a}(n.Component),Tt=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).state={AddCommercialRegisterCertificateDialog:null},e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("button",{type:"button",className:"btn btn-primary",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#add-commercial-register-certificate-dialog",onMouseDown:function(){e.setState({AddCommercialRegisterCertificateDialog:r.a.createElement(wt,{OnCancel:function(){e.setState({AddCommercialRegisterCertificateDialog:null})},OnOK:function(a){a.click(),e.props.OnDocumentsUpdated()}})})}},r.a.createElement("span",{className:"fas fa-plus","aria-hidden":"true"})," CR Certificate"),this.state.AddCommercialRegisterCertificateDialog)}}]),a}(n.Component),Dt=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){if(e.preventDefault(),t.state.ValidForm){var a={Token:localStorage.Token,IDNumber:t.state.IDNumber,PhotoURL:t.state.PhotoURL};console.log("Going to update Identity Card."),t.setState({Preloader:r.a.createElement(Ve,null)}),function(e){return S.a.post("".concat(v.a.NAQEL_SERVER,"traders/updateIdentityCard"),{IDNumber:e.IDNumber,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))}(a).then((function(e){"Identity card is updated."===e.Message&&t.props.OnOK(t.cancelButton),t.setState({Preloader:null})}))}},t.state={IDNumber:"",PhotoURL:"./images/default_image.png",ValidIDNumber:!0,ValidPhotoURL:!0,ValidForm:!1,Preloader:null,Errors:{IDNumber:"",PhotoURL:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(localStorage.Token){this.setState({Preloader:r.a.createElement(Ve,null)});var a={Token:localStorage.Token,Get:"IdentityCard"};be(a).then((function(a){if("Identity card found."===a.Message){var t=a.IdentityCard;e.setState({IDNumber:t.IDNumber,PhotoURL:t.PhotoURL,Preloader:null})}else e.setState({IDNumber:"",PhotoURL:"./images/default_image.png",Preloader:null})}))}}},{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidIDNumber,s=this.state.ValidPhotoURL;switch(e){case"IDNumber":if(r=""!==a,n.IDNumber=r?"":"ID number is required.",""!==n.IDNumber)break;r=a>=1e9&&a<=9999999999,n.IDNumber=r?"":"ID number must be 10-digits long.";break;case"PhotoURL":s=null!==a,n.PhotoURL=s?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidIDNumber:r,ValidPhotoURL:s},(function(){t.setState({ValidForm:t.state.ValidIDNumber&&t.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{className:"modal",id:"edit-identity-card-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Edit Identity Card")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement($e,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(a){"Image uploaded successfully."===a.message?(e.setState({PhotoURL:a.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"IdentityCard"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"ID Number"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"IDNumber",className:"form-control",autoComplete:"off",required:!0,value:this.state.IDNumber,onChange:this.onChange,min:"1000000000",max:"99999999999"}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.IDNumber))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(a){return e.cancelButton=a}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),a}(n.Component),jt=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onDelete=function(){t.setState({Preloader:r.a.createElement(Ve,null)});var e={Token:localStorage.Token};console.log("Going to delete Identity Card."),function(e){return S.a.delete("".concat(v.a.NAQEL_SERVER,"traders/deleteIdentityCard"),{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))}(e).then((function(e){console.log(e),"Identity card is deleted."===e.Message&&t.props.OnDocumentsUpdated(),t.setState({Preloader:null})}))},t.onRefresh=function(){if(localStorage.Token){var e={Token:localStorage.Token,Get:"IdentityCard"};be(e).then((function(e){if("Identity card found."===e.Message){var a=e.IdentityCard;t.setState({IdentityCardID:a.IdentityCardID,IDNumber:a.IDNumber,PhotoURL:a.PhotoURL})}else t.setState({IdentityCardID:"",IDNumber:"",PhotoURL:"./images/default_image.png"})}))}},t.state={Key:Math.floor(100*Math.random()),IdentityCardID:"",IDNumber:"",PhotoURL:"./images/default_image.png",EditIdentityCardDialog:null,Preloader:null},t.onDelete=t.onDelete.bind(Object(E.a)(t)),t.onRefresh=t.onRefresh.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"render",value:function(){var e=this;return r.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},r.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#identity-card-".concat(this.state.IdentityCardID)},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon",style:{borderRadius:"50%"}},r.a.createElement("span",{className:"glyph glyph-add"}),r.a.createElement("span",{className:"glyph glyph-remove"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},r.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"".concat(this.props.Index,"."))),r.a.createElement("div",{className:"content-text-secondary"},r.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"IDENTITY CARD")))))),r.a.createElement("div",{className:"collapse",id:"identity-card-".concat(this.state.IdentityCardID)},r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:this.state.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{className:"col-md-18"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Identity Card"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-hashtag"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"ID Number"),r.a.createElement("div",{className:"content-text-secondary"},this.state.IDNumber)))))))))),r.a.createElement("div",{style:{backgroundColor:"#E5E5E5",textAlign:"right",padding:"10px"}},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#edit-identity-card-dialog",onMouseDown:function(){e.setState({EditIdentityCardDialog:r.a.createElement(Dt,{OnCancel:function(){e.setState({EditIdentityCardDialog:null})},OnOK:function(a){a.click(),e.onRefresh()}})})}},"Edit"),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){e.onDelete()}},"Delete"))),this.state.Preloader,this.state.EditIdentityCardDialog)}}]),a}(n.Component),Rt=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onRefresh=function(){if(t.setState({Preloader:r.a.createElement(Ve,null)}),localStorage.Token){var e={Token:localStorage.Token,Get:"CommercialRegisterCertificate"};be(e).then((function(e){if("Commercial register certificate found."===e.Message){var a=e.CommercialRegisterCertificate;t.setState({Number:a.Number,Type:a.Type,PhotoURL:a.PhotoURL,Preloader:null})}else t.setState({Number:"",Type:"",PhotoURL:"./images/default_image.png",Preloader:null})}))}},t.onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){if(e.preventDefault(),t.state.ValidForm){var a={Token:localStorage.Token,Number:t.state.Number,Type:t.state.Type,PhotoURL:t.state.PhotoURL};console.log("Going to update commercial register certificate."),t.setState({Preloader:r.a.createElement(Ve,null)}),function(e){return S.a.post("".concat(v.a.NAQEL_SERVER,"traders/updateCommercialRegisterCertificate"),{Number:e.Number,Type:e.Type,PhotoURL:e.PhotoURL},{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))}(a).then((function(e){"Commercial register certificate is updated."===e.Message&&t.props.OnOK(t.cancelButton),t.setState({Preloader:null})}))}},t.state={Number:"",Type:"",PhotoURL:"./images/default_image.png",ValidType:!0,ValidPhotoURL:!0,ValidForm:!1,Preloader:null,Errors:{Type:"",PhotoURL:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t.onRefresh=t.onRefresh.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidType,s=this.state.ValidPhotoURL;switch(e){case"Type":r=""!==a,n.Type=r?"":"Certificate type is required.";break;case"PhotoURL":s=null!==a,n.PhotoURL=s?"":"Invalid Image. Please upload a correct one."}this.setState({Errors:n,ValidType:r,ValidPhotoURL:s},(function(){t.setState({ValidForm:t.state.ValidType&&t.state.ValidPhotoURL})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{className:"modal",id:"edit-commercial-register-certificate-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Edit Commercial Register Certificate")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement($e,{Source:this.state.PhotoURL,Height:"220px",Width:"220px",OnImageUploaded:function(a){"Image uploaded successfully."===a.message?(e.setState({PhotoURL:a.imageUrl}),e.validateField("PhotoURL",e.state.PhotoURL)):e.validateField("PhotoURL",null)},OnInvalidImageSelected:function(){e.validateField("PhotoURL",null)},ImageCategory:"IdentityCard"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-danger"},this.state.Errors.PhotoURL))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Certificate Number"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"Number",className:"form-control",autoComplete:"off",readOnly:!0,value:this.state.Number,onChange:this.onChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Certificate Type"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"Type",className:"form-control",autoComplete:"off",required:!0,value:this.state.Type,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Type))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(a){return e.cancelButton=a}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),a}(n.Component),Lt=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onDelete=function(){t.setState({Preloader:r.a.createElement(Ve,null)});var e={Token:localStorage.Token};console.log("Going to delete commercial register certificate."),function(e){return S.a.delete("".concat(v.a.NAQEL_SERVER,"traders/deleteCommercialRegisterCertificate"),{headers:{Authorization:"JWT ".concat(e.Token)}}).then((function(e){return e.data}))}(e).then((function(e){"Commercial register certificate is deleted."===e.Message&&t.props.OnDocumentsUpdated(),t.setState({Preloader:null})}))},t.onRefresh=function(){if(localStorage.Token){var e={Token:localStorage.Token,Get:"CommercialRegisterCertificate"};be(e).then((function(e){if("Commercial register certificate found."===e.Message){var a=e.CommercialRegisterCertificate;t.setState({ID:a.ID,Number:a.Number,Type:a.Type,PhotoURL:a.PhotoURL})}else t.setState({ID:"",Number:"",Type:"",PhotoURL:"./images/default_image.png"})}))}},t.state={ID:"",Number:"",Type:"",PhotoURL:"./images/default_image.png",EditCommercialRegisterCertificateDialog:null,Preloader:null},t.onDelete=t.onDelete.bind(Object(E.a)(t)),t.onRefresh=t.onRefresh.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onRefresh()}},{key:"render",value:function(){var e=this;return r.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},r.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#commercial-register-certificate-".concat(this.state.ID)},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon",style:{borderRadius:"50%"}},r.a.createElement("span",{className:"glyph glyph-add"}),r.a.createElement("span",{className:"glyph glyph-remove"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},r.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"".concat(this.props.Index,"."))),r.a.createElement("div",{className:"content-text-secondary"},r.a.createElement("span",{style:{fontWeight:"bold",color:"#008575"}},"COMMERCIAL REGISTER CERTIFICATE")))))),r.a.createElement("div",{className:"collapse",id:"commercial-register-certificate-".concat(this.state.ID)},r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:this.state.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{className:"col-md-18"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Commercial Register Certificate"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-hashtag"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Certificate Number"),r.a.createElement("div",{className:"content-text-secondary"},this.state.Number)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-cog"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Certificate Type"),r.a.createElement("div",{className:"content-text-secondary"},this.state.Type)))))))))),r.a.createElement("div",{style:{backgroundColor:"#E5E5E5",textAlign:"right",padding:"10px"}},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#edit-commercial-register-certificate-dialog",onMouseDown:function(){e.setState({EditCommercialRegisterCertificateDialog:r.a.createElement(Rt,{OnCancel:function(){e.setState({EditCommercialRegisterCertificateDialog:null})},OnOK:function(a){a.click(),e.onRefresh()}})})}},"Edit"),r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){e.onDelete()}},"Delete"))),this.state.Preloader,this.state.EditCommercialRegisterCertificateDialog)}}]),a}(n.Component),Ut=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onDocumentsUpdated=function(){var e,a,n=0;if(localStorage.Token){var s={Token:localStorage.Token,Get:"IdentityCard"};be(s).then((function(l){console.log(l),e="Identity card found."===l.Message?l.IdentityCard:void 0,s={Token:localStorage.Token,Get:"CommercialRegisterCertificate"},be(s).then((function(s){a="Commercial register certificate found."===s.Message?s.CommercialRegisterCertificate:void 0,e?t.setState({AddIdentityCardButton:null,IdentityCardListItem:r.a.createElement(jt,{Index:++n,OnDocumentsUpdated:t.onDocumentsUpdated})}):t.setState({AddIdentityCardButton:r.a.createElement(St,{OnDocumentsUpdated:t.onDocumentsUpdated}),IdentityCardListItem:null}),a?t.setState({AddCommercialRegisterCertificateButton:null,CommercialRegisterCertificateListItem:r.a.createElement(Lt,{Index:++n,OnDocumentsUpdated:t.onDocumentsUpdated})}):t.setState({AddCommercialRegisterCertificateButton:r.a.createElement(Tt,{OnDocumentsUpdated:t.onDocumentsUpdated}),CommercialRegisterCertificateListItem:null})}))}))}},t.state={AddIdentityCardButton:null,AddCommercialRegisterCertificateButton:null,IdentityCardListItem:null,CommercialRegisterCertificateListItem:null},t.onDocumentsUpdated=t.onDocumentsUpdated.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log("I'm Here.. Going to update documents..."),this.onDocumentsUpdated()}},{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),r.a.createElement("div",{className:"h3 back-color-gray m-n p-xxs"},"Documents"),r.a.createElement("div",{className:"text-right back-color-gray p-xxs"},this.state.AddIdentityCardButton,this.state.AddCommercialRegisterCertificateButton),r.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},this.state.IdentityCardListItem,this.state.CommercialRegisterCertificateListItem))}}]),a}(n.Component),Vt=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).state={Username:"",Email:"",FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:"",Type:"",Active:null},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,a=this;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Token:localStorage.Token,Get:"Trader"},t.next=4,O.a.awrap(be(e).then((function(e){if("Trader found."===e.Message){var t=e.Trader;a.setState({Username:t.Username,Email:t.Email,FirstName:t.FirstName,LastName:t.LastName,Address:t.Address,PhoneNumber:t.PhoneNumber,Gender:t.Gender,Nationality:t.Nationality,DateOfBirth:t.DateOfBirth,Type:t.Type,Active:t.Active})}})));case 4:case"end":return t.stop()}}))}},{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(ua,{Heading:"PROFILE"}),r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(Pt,null)),r.a.createElement("div",{className:"col-md-18"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},this.state.FirstName+" "+this.state.LastName),r.a.createElement("div",{className:"type-sh3"},r.a.createElement("span",{className:"fas fa-briefcase",style:{color:"#606060"}}),"   ",this.state.Type),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-globe-asia"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Active"),r.a.createElement("div",{className:"content-text-secondary"},1===this.state.Active?r.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):r.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}))))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-phone"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Phone Number"),r.a.createElement("div",{className:"content-text-secondary"},this.state.PhoneNumber))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-at"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Username"),r.a.createElement("div",{className:"content-text-secondary"},this.state.Username)))),r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-envelope"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Email"),r.a.createElement("div",{className:"content-text-secondary"},this.state.Email)))))))))),r.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#333333"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"type-h3",style:{paddingTop:"0px"}},"Details"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list theme-alt"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon",style:{backgroundColor:"transparent"}},r.a.createElement("span",{className:"fas fa-birthday-cake color-default"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Birthday"),r.a.createElement("div",{className:"content-text-secondary"},this.state.DateOfBirth)))),r.a.createElement("div",{className:"entity-list theme-alt"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon",style:{backgroundColor:"transparent"}},r.a.createElement("span",{className:"Male"===this.state.Gender?"fas fa-male color-default":"fas fa-female color-default"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Gender"),r.a.createElement("div",{className:"content-text-secondary"},this.state.Gender))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list theme-alt"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon",style:{backgroundColor:"transparent"}},r.a.createElement("span",{className:"fas fa-flag color-default"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Nationality"),r.a.createElement("div",{className:"content-text-secondary"},this.state.Nationality)))),r.a.createElement("div",{className:"entity-list theme-alt"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon",style:{backgroundColor:"transparent"}},r.a.createElement("span",{className:"fas fa-map-marker-alt color-default"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Address"),r.a.createElement("div",{className:"content-text-secondary"},this.state.Address)))))))))),r.a.createElement(Ut,null))}}]),a}(n.Component),It=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.DrivingLicence;return e?r.a.createElement("section",null,r.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:e.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{className:"col-md-16"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Driving Licence"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-hashtag"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Licence Number"),r.a.createElement("div",{class:"content-text-secondary"},e.LicenceNumber)))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-cog"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Licence Type"),r.a.createElement("div",{class:"content-text-secondary"},e.Type)))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-calendar"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Release Date"),r.a.createElement("div",{class:"content-text-secondary"},new Date(e.ReleaseDate).toDateString())))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-calendar"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Expiry Date"),r.a.createElement("div",{class:"content-text-secondary"},new Date(e.ExpiryDate).toDateString())))))))))))):null}}]),a}(n.Component),At=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.EntryExitCard;return e?r.a.createElement("section",null,r.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Entry/Exit Card"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-hashtag"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Entry/Exit Number"),r.a.createElement("div",{class:"content-text-secondary"},e.EntryExitNumber)))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-cog"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Card Type"),r.a.createElement("div",{class:"content-text-secondary"},e.Type)))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-calendar"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Release Date"),r.a.createElement("div",{class:"content-text-secondary"},new Date(e.ReleaseDate).toDateString())))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-hashtag"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Number of Months"),r.a.createElement("div",{class:"content-text-secondary"},e.NumberOfMonths)))))))))))):null}}]),a}(n.Component),Ft=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.IdentityCard;return e?r.a.createElement("section",null,r.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:e.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{className:"col-md-16"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Identity Card"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-hashtag"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"ID Number"),r.a.createElement("div",{class:"content-text-secondary"},e.IDNumber)))))))))))):null}}]),a}(n.Component),Jt=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=5;break}return t.setState({Searching:!0}),e={Token:localStorage.Token,Get:"DriverDocuments",Params:{DriverID:t.props.DriverID}},a.next=5,O.a.awrap(be(e).then((function(e){"Driver documents found."===e.Message?t.setState({DriverDocuments:e.DriverDocuments,Searching:!1}):t.setState({DriverDocuments:null,Searching:!1})})));case 5:case"end":return a.stop()}}))},t.state={DriverDocuments:null,Searching:!1},t.onComponentUpdated=t.onComponentUpdated.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state.DriverDocuments;return r.a.createElement("section",null,r.a.createElement("div",{className:"modal modal-center-vertical",id:"documents-dialog-".concat(this.props.DialogID),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},r.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal"},r.a.createElement("span",{className:"fas fa-times"}))),r.a.createElement("div",{className:"type-h2",style:{color:"#008575",paddingTop:"0px"}},"Documents")),r.a.createElement("div",{className:"modal-body"},this.state.Searching||!e?r.a.createElement(Ma,{Searching:this.state.Searching,SearchingFor:"documents"}):r.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},r.a.createElement(Ft,{IdentityCard:e.IdentityCard}),r.a.createElement(It,{DrivingLicence:e.DrivingLicence}),r.a.createElement(At,{EntryExitCard:e.EntryExitCard})))))))}}]),a}(n.Component),Mt=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).refresh=function(){var e;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=5;break}return t.setState({Searching:!0}),e={Token:localStorage.Token,Get:"DriverProfile",Params:{DriverID:t.props.DriverID}},a.next=5,O.a.awrap(be(e).then((function(e){"Driver profile found."===e.Message?t.setState({DriverProfile:e.DriverProfile,Searching:!1}):t.setState({DriverProfile:null,Searching:!1})})));case 5:case"end":return a.stop()}}))},t.state={DriverProfile:null,Searching:!1},t.refresh=t.refresh.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.Refresh(this.refresh);case 1:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){if(this.state.Searching||!this.state.DriverProfile)return r.a.createElement(Ma,{Searching:this.state.Searching,SearchingFor:"driver"});var e=this.state.DriverProfile,a=e.Driver,t=e.OnJob,n=e.ProfilePhoto?e.ProfilePhoto:"./images/defaultProfilePhoto.png",s=Ja()().substring(0,7).toUpperCase();return r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:n,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{className:"col-md-18"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"".concat(a.FirstName," ").concat(a.LastName," "),t?r.a.createElement("span",{class:"badge back-color-golden"},"ON JOB"):null),r.a.createElement("div",{className:"type-sh3"},r.a.createElement("span",{className:"fas fa-car",style:{color:"#606060"}}),"   Driver"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"entity-list"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-globe-asia"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Active"),r.a.createElement("div",{className:"content-text-secondary"},1===a.Active?r.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):r.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}))))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"Male"===a.Gender?"fas fa-male":"fas fa-female"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Gender"),r.a.createElement("div",{class:"content-text-secondary"},a.Gender)))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-birthday-cake"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Birthday"),r.a.createElement("div",{class:"content-text-secondary"},a.DateOfBirth))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-envelope"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Email"),r.a.createElement("div",{class:"content-text-secondary"},a.Email)))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-phone"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Phone Number"),r.a.createElement("div",{class:"content-text-secondary"},a.PhoneNumber)))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-flag"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Nationality"),r.a.createElement("div",{class:"content-text-secondary"},a.Nationality)))))),r.a.createElement("button",{type:"button",className:"btn btn-default",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#documents-dialog-".concat(s)},"Documents"))))),r.a.createElement(Jt,{DialogID:s,DriverID:this.props.DriverID}))}}]),a}(n.Component),qt=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.Index,a=this.props.Trailer;return r.a.createElement("section",null,r.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:a.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{className:"col-md-16"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"".concat(e+1,".")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-weight"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Maximum Weight"),r.a.createElement("div",{class:"content-text-secondary"},"".concat(a.MaximumWeight," GVM"))))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-cog"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Trailer Type"),r.a.createElement("div",{class:"content-text-secondary"},a.Type))))))))))))}}]),a}(n.Component),Wt=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.Trailers,a=e.length>0?r.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},e.map((function(e,a){return r.a.createElement(qt,{key:a,Index:a,Trailer:e})}))):null;return r.a.createElement("section",null,r.a.createElement("div",{className:"modal modal-center-vertical",id:"trailers-dialog-".concat(this.props.DialogID),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},r.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal"},r.a.createElement("span",{className:"fas fa-times"}))),r.a.createElement("div",{className:"type-h2",style:{color:"#008575",paddingTop:"0px"}},"Trailers")),r.a.createElement("div",{className:"modal-body"},0===e.length?r.a.createElement(Ma,{Searching:!1,SearchingFor:"trailers"}):a)))))}}]),a}(n.Component),Bt=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).refresh=function(){var e;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=5;break}return t.setState({Searching:!0}),e={Token:localStorage.Token,Get:"TruckProfile",Params:{DriverID:t.props.DriverID}},a.next=5,O.a.awrap(be(e).then((function(e){"Truck profile found."===e.Message?t.setState({TruckProfile:e.TruckProfile,Searching:!1}):t.setState({TruckProfile:null,Searching:!1})})));case 5:case"end":return a.stop()}}))},t.state={TruckProfile:null,Searching:!1},t.refresh=t.refresh.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.Refresh(this.refresh);case 1:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){if(this.state.Searching||!this.state.TruckProfile)return r.a.createElement(Ma,{Searching:this.state.Searching,SearchingFor:"truck"});var e=this.state.TruckProfile,a=e.Truck,t=Ja()().substring(0,7).toUpperCase();return r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:a.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}})),r.a.createElement("div",{className:"col-md-18"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"".concat(a.Brand," ").concat(a.Model)),r.a.createElement("div",{className:"type-sh3"},r.a.createElement("span",{className:"fas fa-truck",style:{color:"#606060"}}),"   ",a.Type),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-list-ol"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Plate Number"),r.a.createElement("div",{class:"content-text-secondary"},a.PlateNumber)))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-user"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Owner"),r.a.createElement("div",{class:"content-text-secondary"},a.Owner))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-calendar-day"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Production Year"),r.a.createElement("div",{class:"content-text-secondary"},a.ProductionYear)))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-weight"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Maximum Weight"),r.a.createElement("div",{class:"content-text-secondary"},"".concat(a.MaximumWeight," GVW"))))))),r.a.createElement("button",{type:"button",className:"btn btn-default",style:{minWidth:"152px"},"data-toggle":"modal","data-target":"#trailers-dialog-".concat(t)},"Trailers"))))),r.a.createElement(Wt,{Trailers:e.Trailers,DialogID:t}))}}]),a}(n.Component),Gt=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.Index,a=this.props.JobRequest,t=Math.abs(new Date-new Date(a.TimeCreated))/36e5;return r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},e?"".concat(e+1,"."):"Job Request"),r.a.createElement("div",{className:"type-sh3"},r.a.createElement("span",{className:"fas fa-tag",style:{color:"#606060"}}),"   ","$".concat(a.Price))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-map-marker-alt"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Loading Place"),r.a.createElement("div",{class:"content-text-secondary"},a.LoadingPlace)))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-map-marker-alt"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Unloading Place"),r.a.createElement("div",{class:"content-text-secondary"},a.UnloadingPlace)))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-map-signs"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Trip Type"),r.a.createElement("div",{class:"content-text-secondary"},a.TripType))))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-plug"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Available"),r.a.createElement("div",{class:"content-text-secondary"},t<a.WaitingTime?r.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):r.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}))))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-calendar"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Posted on"),r.a.createElement("div",{class:"content-text-secondary"},new Date(a.TimeCreated).toDateString())))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-clock"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Posted at"),r.a.createElement("div",{class:"content-text-secondary"},new Date(a.TimeCreated).toTimeString())))))))))}}]),a}(n.Component),_t=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:if(!t.props.IsRequestSent()){n.next=5;break}return n.abrupt("return");case 5:return a={Token:localStorage.Token,JobRequestID:t.props.JobRequest.JobRequestID,CargoType:t.state.CargoType,CargoWeight:t.state.CargoWeight,LoadingDate:t.state.LoadingDate,LoadingTime:t.state.LoadingTime,EntryExit:t.state.EntryExit,AcceptedDelay:t.state.AcceptedDelay},console.log("Going to add trader request..."),t.setState({Preloader:r.a.createElement(Ve,null)}),n.next=10,O.a.awrap(Se(a).then((function(e){"Trader request is added."===e.Message&&(t.cancelButton.click(),t.props.OnOK()),t.setState({Preloader:null})})));case 10:case"end":return n.stop()}}))},t.state={CargoType:"",CargoWeight:0,LoadingDate:new Date,LoadingTime:(new Date).getTime(),AcceptedDelay:0,EntryExit:0,ValidCargoType:!1,ValidCargoWeight:!1,ValidLoadingDate:!1,ValidLoadingTime:!1,ValidAcceptedDelay:!1,ValidForm:!1,Preloader:null,Errors:{CargoType:"",CargoWeight:"",LoadingDate:"",LoadingTime:"",AcceptedDelay:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidCargoType,s=this.state.ValidCargoWeight,l=this.state.ValidLoadingDate,c=this.state.ValidLoadingTime,i=this.state.ValidAcceptedDelay;switch(e){case"CargoType":r=""!==a,n.CargoType=r?"":"Cargo type is required.";break;case"CargoWeight":if(s=""!==a,n.CargoWeight=s?"":"Cargo weight is required.",""!==n.CargoWeight)break;s=a>=100,n.CargoWeight=s?"":"Cargo weight must be greater than 100 lbs.";break;case"LoadingDate":if(l=""!==a,n.LoadingDate=l?"":"Loading date is required.",""!==n.LoadingDate)break;l=new Date(a)>=new Date,n.LoadingDate=l?"":"Loading date must be later than yesterday.";break;case"LoadingTime":c=""!==a,n.LoadingTime=c?"":"Loading time is required.";break;case"AcceptedDelay":if(i=""!==a,n.AcceptedDelay=i?"":"Accepted delay is required.",""!==n.AcceptedDelay)break;i=a>=0&&a<=48,n.AcceptedDelay=i?"":"Accepted delay can be in the range of 0 to 48 hours."}this.setState({Errors:n,ValidCargoType:r,ValidCargoWeight:s,ValidLoadingDate:l,ValidLoadingTime:c,ValidAcceptedDelay:i},(function(){t.setState({ValidForm:t.state.ValidCargoType&&t.state.ValidCargoWeight&&t.state.ValidLoadingDate&&t.state.ValidLoadingTime&&t.state.AcceptedDelay})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"text-left"},r.a.createElement("div",{className:"modal",id:"send-trader-reqeust-dialog-".concat(this.props.DialogID),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"send.png",src:"./images/send.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Send Request")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Cargo Type"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"CargoType",className:"form-control",autoComplete:"off",value:this.state.CargoType,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.CargoType)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Cargo Weight (lbs)"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"CargoWeight",className:"form-control",autoComplete:"off",value:this.state.CargoWeight,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.CargoWeight)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Accepted Delay (Hours)"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"AcceptedDelay",className:"form-control",autoComplete:"off",value:this.state.AcceptedDelay,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.AcceptedDelay))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Loading Date"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"date",name:"LoadingDate",className:"form-control",autoComplete:"off",value:this.state.LoadingDate,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.LoadingDate)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Loading Time"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"time",name:"LoadingTime",className:"form-control",autoComplete:"off",value:this.state.LoadingTime,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.LoadingTime)),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"checkbox"},r.a.createElement("label",{className:"control-label"},r.a.createElement("input",{type:"checkbox",name:"EntryExit",value:this.state.EntryExit,onChange:function(){e.state.EntryExit=e.state.EntryExit?0:1}}),r.a.createElement("span",null,"Entry/Exit"))))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",ref:function(a){return e.cancelButton=a}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Send",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),a}(n.Component),Qt=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onCancelRequest=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.setState({Preloader:r.a.createElement(Ve,null)}),a={Token:localStorage.Token,JobRequestID:e.JobRequestID},console.log("Going to delete Trader request..."),n.next=5,O.a.awrap(we(a).then((function(a){"Trader request is deleted."===a.Message&&t.props.OnRequestUpdated(e,!1),t.setState({Preloader:null})})));case 5:case"end":return n.stop()}}))},t.state={Preloader:null},t.onCancelRequest=t.onCancelRequest.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props.Index,t=this.props.JobRequestPost.JobRequest,n=this.props.JobRequestPost.Driver,s=this.props.JobRequestPost.RequestSent;return r.a.createElement("section",null,r.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},r.a.createElement("div",{className:"jumbotron p-xxxs",style:{backgroundColor:"#F2F2F2"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"type-h5",style:{color:"#008575",paddingTop:"0px"}},"".concat(a+1,". Job Request By ").concat(n.FirstName," ").concat(n.LastName),s?r.a.createElement("span",{class:"badge back-color-default m-l-xxs"},"REQUEST SENT"):null),r.a.createElement("div",{className:"type-sh6"},r.a.createElement("span",{className:"fas fa-clock m-r-xxxs",style:{color:"#606060"}}),"Posted on ".concat(new Date(t.TimeCreated).toDateString(),".")),r.a.createElement("div",{class:"type-sh6"},r.a.createElement("span",{className:"fas fa-map-marker-alt m-r-xxxs",style:{color:"#606060"}}),"From ".concat(t.LoadingPlace," to ").concat(t.UnloadingPlace," at $").concat(t.Price,".")),s?r.a.createElement("button",{className:"btn btn-secondary",onClick:function(){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(e.onCancelRequest(t));case 2:case"end":return a.stop()}}))}},"Cancel Request"):r.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#send-trader-reqeust-dialog-".concat(a)},"Send Request"))))),r.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#job-request-post-".concat(a)},r.a.createElement("div",{className:"type-h4",style:{color:"#008575",padding:"10px",textAlign:"right"}},"   More Details"," ",r.a.createElement("i",{className:"fas fa-ellipsis-v"}),r.a.createElement("i",{class:"glyph glyph-add"}),r.a.createElement("i",{class:"glyph glyph-remove"}))),r.a.createElement("div",{className:"collapse",id:"job-request-post-".concat(a)},r.a.createElement("ul",{className:"nav nav-tabs",role:"tablist",style:{padding:"10px",backgroundColor:"#EFEFEF",width:"100%",margin:"0px"}},r.a.createElement("li",{role:"presentation",className:"active"},r.a.createElement("a",{href:"#job-request-".concat(a),"aria-controls":"job-request-".concat(a),role:"tab","data-toggle":"tab"},"Job Request")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#driver-".concat(a),"aria-controls":"driver-".concat(a),role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(e.RefreshDriverContainer());case 2:case"end":return a.stop()}}))}},"Driver")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#truck-".concat(a),"aria-controls":"truck-".concat(a),role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(e.RefreshTruckContainer());case 2:case"end":return a.stop()}}))}},"Truck"))),r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"job-request-".concat(a)},r.a.createElement(Gt,{JobRequest:t})),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"driver-".concat(a)},r.a.createElement(Mt,{Refresh:function(a){e.RefreshDriverContainer=a},DriverID:t.DriverID})),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"truck-".concat(a)},r.a.createElement(Bt,{Refresh:function(a){e.RefreshTruckContainer=a},DriverID:t.DriverID})))),r.a.createElement(_t,{DialogID:a,JobRequest:t,IsRequestSent:function(){return s},OnOK:function(){e.props.OnRequestUpdated(t,!0)}})),this.state.Preloader)}}]),a}(n.Component),Ht=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.props.Refresh(t.refresh),!localStorage.Token){a.next=6;break}return e={Token:localStorage.Token,Get:"JobRequestPosts"},t.setState({Searching:!0}),a.next=6,O.a.awrap(be(e).then((function(e){"Job request posts found."===e.Message?t.setState({JobRequestPosts:e.JobRequestPosts,Searching:!1}):t.setState({JobRequestPosts:[],Searching:!1})})));case 6:case"end":return a.stop()}}))},t.refresh=function(){var e;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=5;break}return t.setState({Refreshing:!0}),e={Token:localStorage.Token,Get:"JobRequestPosts"},a.next=5,O.a.awrap(be(e).then((function(e){"Job request posts found."===e.Message?t.setState({JobRequestPosts:e.JobRequestPosts,Refreshing:!1}):t.setState({JobRequestPosts:[],Refreshing:!1})})));case 5:case"end":return a.stop()}}))},t.state={JobRequestPosts:[],Searching:!0,Refreshing:!1,Preloader:null,Message:null},t.onComponentUpdated=t.onComponentUpdated.bind(Object(E.a)(t)),t.refresh=t.refresh.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return this.state.Searching?r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#202020"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"job_requests.png",src:"./images/job_requests.png","data-source-index":"2"})),r.a.createElement("div",{className:"col-md-12 col-md-pull-12"},r.a.createElement("div",{className:"type-h3"},"Job Requests"),r.a.createElement("p",null,"Job requests from Drivers are dispalyed here."),r.a.createElement("div",{class:"type-sh3",style:{color:"#008575"}},"Searhcing"),r.a.createElement(Pa,null)))))):0===this.state.JobRequestPosts.length?r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#202020"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"job_requests.png",src:"./images/job_requests.png","data-source-index":"2"})),r.a.createElement("div",{className:"col-md-12 col-md-pull-12"},r.a.createElement("div",{className:"type-h3"},"Job Requests"),r.a.createElement("div",{className:"type-sh3"},"No Job Requests Found..."),r.a.createElement("p",null,"Job requests from Drivers are dispalyed here.")))))):r.a.createElement("section",null,r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),r.a.createElement("div",{className:"h3 m-n p-xxs",style:{backgroundColor:"#EFEFEF"}},"Job Requests",this.state.Refreshing?r.a.createElement("span",{className:"m-l-xxs"},r.a.createElement(at,null)):null),r.a.createElement("ol",{className:"list-items",style:{marginTop:"0px"}},this.state.JobRequestPosts.map((function(a,t){return r.a.createElement(Qt,{key:t,Index:t,JobRequestPost:a,OnRequestUpdated:function(a,t){var n=e.state.JobRequestPosts,r=!0,s=!1,l=void 0;try{for(var c,i=n[Symbol.iterator]();!(r=(c=i.next()).done);r=!0){var o=c.value;if(o.JobRequest.JobRequestID===a.JobRequestID){o.RequestSent=t;break}}}catch(m){s=!0,l=m}finally{try{r||null==i.return||i.return()}finally{if(s)throw l}}e.setState({JobRequestPosts:n})}})}))))}}]),a}(n.Component),Yt=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(Ht,{Refresh:this.props.Refresh}))}}]),a}(n.Component),zt=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.Documents.IdentityCard,a=this.props.Documents.EntryExitCard,t=this.props.Documents.DrivingLicence,n=e?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"form-group",style:{marginBottom:"5px"}},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:e.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}}))),r.a.createElement("div",{className:"col-md-16"},r.a.createElement("div",{className:"type-h5",style:{color:"#008575",paddingTop:"0px"}},"Identity Card"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-hashtag"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"ID Number"),r.a.createElement("div",{class:"content-text-secondary"},e.IDNumber)))))))):null,s=t?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"form-group",style:{marginBottom:"5px"}},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:t.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}}))),r.a.createElement("div",{className:"col-md-16"},r.a.createElement("div",{className:"type-h5",style:{color:"#008575",paddingTop:"0px"}},"Driving Licence"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-hashtag"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Licence Number"),r.a.createElement("div",{class:"content-text-secondary"},t.LicenceNumber)))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-cog"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Licence Type"),r.a.createElement("div",{class:"content-text-secondary"},t.Type)))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-calendar"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Release Date"),r.a.createElement("div",{class:"content-text-secondary"},new Date(t.ReleaseDate).toDateString())))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-calendar"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Expiry Date"),r.a.createElement("div",{class:"content-text-secondary"},new Date(t.ExpiryDate).toDateString())))))))):null,l=a?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"form-group",style:{marginBottom:"5px"}},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:"./images/default_image.png",alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}}))),r.a.createElement("div",{className:"col-md-16"},r.a.createElement("div",{className:"type-h5",style:{color:"#008575",paddingTop:"0px"}},"Entry/Exit Card"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-hashtag"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Entry/Exit Number"),r.a.createElement("div",{class:"content-text-secondary"},a.EntryExitNumber)))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-cog"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Card Type"),r.a.createElement("div",{class:"content-text-secondary"},a.Type)))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-calendar"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Release Date"),r.a.createElement("div",{class:"content-text-secondary"},new Date(a.ReleaseDate).toDateString())))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-hashtag"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Number of Months"),r.a.createElement("div",{class:"content-text-secondary"},a.NumberOfMonths)))))))):null;return r.a.createElement("section",null,r.a.createElement("div",{className:"modal",id:"driver-request-documents-dialog-".concat(this.props.DialogID),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content",style:{padding:"0px",backgroundColor:"#FFFFFF"}},r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"type-h4",style:{color:"#008575",paddingTop:"0px"}},"Documents")),r.a.createElement("div",{className:"modal-body"},n,s,l),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal"},"Close"))))))))}}]),a}(n.Component),Kt=(n.Component,function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.Trailers,a=e.length>0?r.a.createElement("section",null,e.map((function(e,a){return r.a.createElement("div",{key:a,className:"row"},r.a.createElement("div",{className:"col-md-8"},r.a.createElement("div",{className:"form-group",style:{marginBottom:"5px"}},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",src:e.PhotoURL,alt:"profile_photo.png","data-source-index":"2",style:{overflow:"hidden",border:"5px solid #3A3A3C",margin:"5px"}}))),r.a.createElement("div",{className:"col-md-16"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-weight"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Maximum Weight"),r.a.createElement("div",{class:"content-text-secondary"},"".concat(e.MaximumWeight," GVM"))))),r.a.createElement("div",{class:"entity-list"},r.a.createElement("div",{class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-cog"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Trailer Type"),r.a.createElement("div",{class:"content-text-secondary"},e.Type))))))))}))):null;return r.a.createElement("section",null,r.a.createElement("div",{className:"modal",id:"driver-request-trailers-dialog-".concat(this.props.DialogID),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content",style:{padding:"0px",backgroundColor:"#FFFFFF"}},r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"type-h4",style:{color:"#008575",paddingTop:"0px"}},"Trailers")),r.a.createElement("div",{className:"modal-body"},a),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal"},"Close"))))))))}}]),a}(n.Component)),Xt=(n.Component,function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=(this.props.Index,this.props.DriverRequestPackage),t=(a.Driver,a.ProfilePhoto,a.DriverRequest),n=a.Truck,s=(a.Trailers,a.DrivingLicence,a.IdentityCard,a.EntryExitCard,Ja()().substring(0,7).toUpperCase()),l=Ja()().substring(0,7).toUpperCase();return r.a.createElement("section",null,r.a.createElement("ul",{className:"nav nav-tabs",role:"tablist",style:{padding:"10px",backgroundColor:"#EFEFEF",width:"100%",margin:"0px"}},r.a.createElement("li",{role:"presentation",className:"active"},r.a.createElement("a",{href:"#driver-request-driver-".concat(s),"aria-controls":"driver-request-driver-".concat(s),role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(e.RefreshDriverContainer());case 2:case"end":return a.stop()}}))}},"Driver")),n?r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#driver-request-truck-".concat(l),"aria-controls":"driver-request-truck-".concat(l),role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(e.RefreshTruckContainer());case 2:case"end":return a.stop()}}))}},"Truck")):null),r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"driver-request-driver-".concat(s)},r.a.createElement(Mt,{Refresh:function(a){e.RefreshDriverContainer=a,a()},DriverID:t.DriverID})),n?r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"driver-request-truck-".concat(l)},r.a.createElement(Bt,{Refresh:function(a){e.RefreshTruckContainer=a},DriverID:t.DriverID})):null),r.a.createElement("div",{style:{backgroundColor:"#EFEFEF",textAlign:"right",padding:"10px"}},r.a.createElement("button",{className:"btn btn-primary"},"Assign Job")))}}]),a}(n.Component)),$t=(n.Component,function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){this.props.Index;var e=this.props.DriverRequestPackage,a=(e.Driver,e.ProfilePhoto,e.DriverRequest);e.Truck,e.Trailers,e.DrivingLicence,e.IdentityCard,e.EntryExitCard,Ja()().substring(0,7).toUpperCase(),Ja()().substring(0,7).toUpperCase();return r.a.createElement("tr",null,r.a.createElement("td",null,"Gadget Alpha"),r.a.createElement("td",null,new Date(a.Created).toDateString()),r.a.createElement("td",{class:"text-right"},r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-secondary m-n"},"Truck"),r.a.createElement("button",{className:"btn btn-secondary m-n"},"Profile"),r.a.createElement("button",{className:"btn btn-primary m-n"},"Accept"))))}}]),a}(n.Component)),Zt=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.DriverRequestPackages;return r.a.createElement("section",null,r.a.createElement("div",{class:"table-responsive back-color-gray"},r.a.createElement("table",{class:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"DRIVER"),r.a.createElement("th",null,"REQUESTED ON"),r.a.createElement("th",null))),r.a.createElement("tbody",null,e.map((function(e,a){return r.a.createElement($t,{key:a,Index:a,DriverRequestPackage:e})}))))))}}]),a}(n.Component),en=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,JobOfferID:t.state.JobOfferID,TripType:t.state.TripType,CargoType:t.state.CargoType,CargoWeight:t.state.CargoWeight,LoadingPlace:t.state.LoadingPlace,UnloadingPlace:t.state.UnloadingPlace,LoadingDate:t.state.LoadingDate,LoadingTime:t.state.LoadingTime,EntryExit:t.state.EntryExit,Price:t.state.Price,AcceptedDelay:t.state.AcceptedDelay,JobOfferType:t.state.JobOfferType},console.log("Going to update Job offer."),t.setState({Preloader:r.a.createElement(Ve,null)}),n.next=8,O.a.awrap(Pe(a).then((function(e){"Job offer is updated."===e.Message&&(t.cancelButton.click(),t.props.OnOK()),t.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},t.state={JobOfferID:t.props.JobOffer.JobOfferID,LoadingPlace:t.props.JobOffer.LoadingPlace,UnloadingPlace:t.props.JobOffer.UnloadingPlace,TripType:t.props.JobOffer.TripType,CargoType:t.props.JobOffer.CargoType,CargoWeight:t.props.JobOffer.CargoWeight,LoadingDate:t.props.JobOffer.LoadingDate,LoadingTime:t.props.JobOffer.LoadingTime,AcceptedDelay:t.props.JobOffer.AcceptedDelay,Price:t.props.JobOffer.Price,JobOfferType:t.props.JobOffer.JobOfferType,EntryExit:t.props.JobOffer.EntryExit,ValidCargoType:!0,ValidCargoWeight:!0,ValidLoadingPlace:!0,ValidUnloadingPlace:!0,ValidLoadingDate:!0,ValidLoadingTime:!0,ValidAcceptedDelay:!0,ValidPrice:!0,ValidForm:!1,Preloader:null,Errors:{CargoType:"",CargoWeight:"",LoadingPlace:"",UnloadingPlace:"",LoadingDate:"",LoadingTime:"",AcceptedDelay:"",Price:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidCargoType,s=this.state.ValidCargoWeight,l=this.state.ValidLoadingPlace,c=this.state.ValidUnloadingPlace,i=this.state.ValidLoadingDate,o=this.state.ValidLoadingTime,m=this.state.ValidAcceptedDelay,d=this.state.ValidPrice;switch(e){case"CargoType":r=""!==a,n.CargoType=r?"":"Cargo type is required.";break;case"CargoWeight":if(s=""!==a,n.CargoWeight=s?"":"Cargo weight is required.",""!==n.CargoWeight)break;s=a>=100,n.CargoWeight=s?"":"Cargo weight must be greater than 100 lbs.";break;case"LoadingPlace":l=""!==a,n.LoadingPlace=l?"":"Loading place is required.";break;case"UnloadingPlace":c=""!==a,n.UnloadingPlace=c?"":"Unloading place is required.";break;case"LoadingDate":if(i=""!==a,n.LoadingDate=i?"":"Loading date is required.",""!==n.LoadingDate)break;i=new Date(a)>=new Date,n.LoadingDate=i?"":"Loading date must be later than yesterday.";break;case"LoadingTime":break;case"AcceptedDelay":if(m=""!==a,n.AcceptedDelay=m?"":"Accepted delay is required.",""!==n.AcceptedDelay)break;m=a>=0&&a<=48,n.AcceptedDelay=m?"":"Accepted delay can be in the range of 0 to 48 hours.";break;case"Price":if(d=""!==a,n.Price=d?"":"Price is required.",""!==n.Price)break;d=a>0,n.Price=d?"":"Price must be more than $0.00."}this.setState({Errors:n,ValidCargoType:r,ValidCargoWeight:s,ValidLoadingPlace:l,ValidUnloadingPlace:c,ValidLoadingDate:i,ValidLoadingTime:o,ValidAcceptedDelay:m,ValidPrice:d},(function(){t.setState({ValidForm:t.state.ValidCargoType&&t.state.ValidCargoWeight&&t.state.ValidLoadingPlace&&t.state.ValidUnloadingPlace&&t.state.ValidLoadingDate&&t.state.ValidLoadingTime&&t.state.AcceptedDelay&&t.state.ValidPrice})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"text-left"},r.a.createElement("div",{className:"modal",id:"edit-job-offer-dialog-".concat(this.props.DialogID),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"pencil.png",src:"./images/pencil.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Edit Job Offer")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"job_offfers.png",src:"./images/job_offers.png","data-source-index":"2"}))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Loading Place"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"LoadingPlace",className:"form-control",autoComplete:"off",value:this.state.LoadingPlace,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.LoadingPlace)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Unloading Place"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"UnloadingPlace",className:"form-control",autoComplete:"off",value:this.state.UnloadingPlace,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.UnloadingPlace)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Trip Type"),r.a.createElement("br",null),r.a.createElement("div",{className:"dropdown",style:{width:"100%",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",className:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.TripType),r.a.createElement("span",{className:"caret"})),r.a.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({TripType:"One Way"})}},"One Way")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({TripType:"Two Way"})}},"Two Way"))))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Cargo Type"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"CargoType",className:"form-control",autoComplete:"off",value:this.state.CargoType,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.CargoType)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Cargo Weight (lbs)"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"CargoWeight",className:"form-control",autoComplete:"off",value:this.state.CargoWeight,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.CargoWeight)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Loading Date"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"date",name:"LoadingDate",className:"form-control",autoComplete:"off",value:this.state.LoadingDate,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.LoadingDate))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Loading Time"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"time",name:"LoadingTime",className:"form-control",autoComplete:"off",value:this.state.LoadingTime,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.LoadingTime)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Accepted Delay (Hours)"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"AcceptedDelay",className:"form-control",autoComplete:"off",value:this.state.AcceptedDelay,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.AcceptedDelay)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Price (USD)"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",min:"0.00",step:"0.01",max:"100.00",name:"Price",className:"form-control",autoComplete:"off",value:this.state.Price,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Price)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"button","data-toggle":"button",className:"Auctionable"===this.state.JobOfferType?"btn btn-toggle-switch active":"btn btn-toggle-switch",autocomplete:"off","aria-pressed":"Auctionable"===this.state.JobOfferType?"true":"false",onClick:function(){e.state.JobOfferType="Fixed-Price"===e.state.JobOfferType?"Auctionable":"Fixed-Price",e.validateField("","")}},r.a.createElement("span",{className:"stateLabel stateLabel-on"},"Auctionable Job Offer"),r.a.createElement("span",{className:"stateLabel stateLabel-off"},"Fixed-Price Job Offer"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"checkbox"},r.a.createElement("label",{className:"control-label"},r.a.createElement("input",{type:"checkbox",name:"EntryExit",defaultChecked:1===this.state.EntryExit?"checked":"",value:this.state.EntryExit,onChange:function(){e.state.EntryExit=1===e.state.EntryExit?0:1,e.validateField("","")}}),r.a.createElement("span",null,"Entry/Exit"))))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",ref:function(a){return e.cancelButton=a}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Update",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),a}(n.Component),an=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onDelete=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t.setState({Preloader:r.a.createElement(Ve,null)}),a={Token:localStorage.Token,JobOfferID:e},console.log("Going to delete Job offer..."),n.next=5,O.a.awrap(ke(a).then((function(e){"Job offer is deleted."===e.Message&&t.props.OnJobOfferUpdated()})));case 5:case"end":return n.stop()}}))},t.state={Preloader:null},t.onDelete=t.onDelete.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props.JobOfferPackage.JobOffer,t=this.props.JobOfferPackage.DriverRequestPackages,n=this.props.Index;return r.a.createElement("section",null,r.a.createElement(_a,{Index:n,JobOffer:a}),r.a.createElement("div",{className:"text-right p-xxs back-color-gray"},r.a.createElement("button",{type:"button",className:"btn btn-default","data-toggle":"modal",disabled:0!==t.length,"data-target":"#edit-job-offer-dialog-".concat(n)},"Edit"),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.awrap(e.onDelete(a.JobOfferID));case 2:case"end":return t.stop()}}))}},"Delete")),r.a.createElement(en,{DialogID:n,JobOffer:a,CanEdit:function(){return 0===t.length},OnOK:function(){e.props.OnJobOfferUpdated()}}),r.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#job-offer-package-".concat(n)},r.a.createElement("div",{className:"type-h4 text-right color-default p-xxs"},r.a.createElement("span",{class:"badge back-color-danger m-r-xxxs"},t.length),"Fixed-Price"===a.JobOfferType?"Driver Requests":"Driver Bids",r.a.createElement("i",{className:"fas fa-ellipsis-v"}),r.a.createElement("i",{class:"glyph glyph-add"}),r.a.createElement("i",{class:"glyph glyph-remove"}))),r.a.createElement("div",{className:"collapse",id:"job-offer-package-".concat(n)},0===t.length?r.a.createElement(Ma,{Searching:!1,SearchingFor:"Fixed-Price"===a.JobOfferType?"requests":"bids"}):r.a.createElement(Zt,{DriverRequestPackages:t}),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}})),this.state.Preloader)}}]),a}(n.Component),tn=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;"EntryExit"!==a&&"JobOfferType"!==a||console.log("Value of ".concat(a," is ").concat(n)),t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,TripType:t.state.TripType,CargoType:t.state.CargoType,CargoWeight:t.state.CargoWeight,LoadingPlace:t.state.LoadingPlace,UnloadingPlace:t.state.UnloadingPlace,LoadingDate:t.state.LoadingDate,LoadingTime:t.state.LoadingTime,EntryExit:t.state.EntryExit,Price:t.state.Price,AcceptedDelay:t.state.AcceptedDelay,JobOfferType:t.state.JobOfferType},console.log("Going to add Job offer."),t.setState({Preloader:r.a.createElement(Ve,null)}),n.next=8,O.a.awrap(Oe(a).then((function(e){"Job offer is added."===e.Message&&(t.cancelButton.click(),t.props.OnOK()),t.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},t.state={LoadingPlace:"",UnloadingPlace:"",TripType:"One Way",CargoType:"",CargoWeight:0,LoadingDate:new Date,LoadingTime:(new Date).getTime(),AcceptedDelay:0,Price:0,JobOfferType:"Fixed-Price",EntryExit:0,ValidCargoType:!1,ValidCargoWeight:!1,ValidLoadingPlace:!1,ValidUnloadingPlace:!1,ValidLoadingDate:!1,ValidLoadingTime:!1,ValidAcceptedDelay:!1,ValidPrice:!1,ValidForm:!1,Preloader:null,Errors:{CargoType:"",CargoWeight:"",LoadingPlace:"",UnloadingPlace:"",LoadingDate:"",LoadingTime:"",AcceptedDelay:"",Price:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidCargoType,s=this.state.ValidCargoWeight,l=this.state.ValidLoadingPlace,c=this.state.ValidUnloadingPlace,i=this.state.ValidLoadingDate,o=this.state.ValidLoadingTime,m=this.state.ValidAcceptedDelay,d=this.state.ValidPrice;switch(e){case"CargoType":r=""!==a,n.CargoType=r?"":"Cargo type is required.";break;case"CargoWeight":if(s=""!==a,n.CargoWeight=s?"":"Cargo weight is required.",""!==n.CargoWeight)break;s=a>=100,n.CargoWeight=s?"":"Cargo weight must be greater than 100 lbs.";break;case"LoadingPlace":l=""!==a,n.LoadingPlace=l?"":"Loading place is required.";break;case"UnloadingPlace":c=""!==a,n.UnloadingPlace=c?"":"Unloading place is required.";break;case"LoadingDate":if(i=""!==a,n.LoadingDate=i?"":"Loading date is required.",""!==n.LoadingDate)break;i=new Date(a)>=new Date,n.LoadingDate=i?"":"Loading date must be later than yesterday.";break;case"LoadingTime":o=""!==a,n.LoadingTime=o?"":"Loading time is required.";break;case"AcceptedDelay":if(m=""!==a,n.AcceptedDelay=m?"":"Accepted delay is required.",""!==n.AcceptedDelay)break;m=a>=0&&a<=48,n.AcceptedDelay=m?"":"Accepted delay can be in the range of 0 to 48 hours.";break;case"Price":if(d=""!==a,n.Price=d?"":"Price is required.",""!==n.Price)break;d=a>0,n.Price=d?"":"Price must be more than $0.00."}this.setState({Errors:n,ValidCargoType:r,ValidCargoWeight:s,ValidLoadingPlace:l,ValidUnloadingPlace:c,ValidLoadingDate:i,ValidLoadingTime:o,ValidAcceptedDelay:m,ValidPrice:d},(function(){t.setState({ValidForm:t.state.ValidCargoType&&t.state.ValidCargoWeight&&t.state.ValidLoadingPlace&&t.state.ValidUnloadingPlace&&t.state.ValidLoadingDate&&t.state.ValidLoadingTime&&t.state.AcceptedDelay&&t.state.ValidPrice})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"text-left"},r.a.createElement("div",{className:"modal",id:"add-job-offer-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"add.png",src:"./images/add.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Add Job Offer")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"job_offfers.png",src:"./images/job_offers.png","data-source-index":"2"}))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Loading Place"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"LoadingPlace",className:"form-control",autoComplete:"off",value:this.state.LoadingPlace,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.LoadingPlace)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Unloading Place"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"UnloadingPlace",className:"form-control",autoComplete:"off",value:this.state.UnloadingPlace,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.UnloadingPlace)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Trip Type"),r.a.createElement("br",null),r.a.createElement("div",{className:"dropdown",style:{width:"100%",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",className:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.TripType),r.a.createElement("span",{className:"caret"})),r.a.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({TripType:"One Way"})}},"One Way")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({TripType:"Two Way"})}},"Two Way"))))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Cargo Type"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"text",name:"CargoType",className:"form-control",autoComplete:"off",value:this.state.CargoType,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.CargoType)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Cargo Weight (lbs)"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"CargoWeight",className:"form-control",autoComplete:"off",value:this.state.CargoWeight,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.CargoWeight)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Loading Date"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"date",name:"LoadingDate",className:"form-control",autoComplete:"off",value:this.state.LoadingDate,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.LoadingDate))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Loading Time"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"time",name:"LoadingTime",className:"form-control",autoComplete:"off",value:this.state.LoadingTime,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.LoadingTime)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Accepted Delay (Hours)"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",name:"AcceptedDelay",className:"form-control",autoComplete:"off",value:this.state.AcceptedDelay,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.AcceptedDelay)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Price (USD)"),r.a.createElement("span",{className:"text-danger",style:Le},"*"),r.a.createElement("input",{type:"number",min:"0.00",step:"0.01",max:"100.00",name:"Price",className:"form-control",autoComplete:"off",value:this.state.Price,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Price)))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"button","data-toggle":"button",className:"btn btn-toggle-switch",autocomplete:"off","aria-pressed":"false",onClick:function(){e.state.JobOfferType="Fixed-Price"===e.state.JobOfferType?"Auctionable":"Fixed-Price"}},r.a.createElement("span",{className:"stateLabel stateLabel-on"},"Auctionable Job Offer"),r.a.createElement("span",{className:"stateLabel stateLabel-off"},"Fixed-Price Job Offer"))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"checkbox"},r.a.createElement("label",{className:"control-label"},r.a.createElement("input",{type:"checkbox",name:"EntryExit",value:this.state.EntryExit,onChange:function(){e.state.EntryExit=e.state.EntryExit?0:1}}),r.a.createElement("span",null,"Entry/Exit"))))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",ref:function(a){return e.cancelButton=a}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-primary",disabled:!this.state.ValidForm}))))))))}}]),a}(n.Component),nn=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onComponentUpdated=function(){if(localStorage.Token){var e={Token:localStorage.Token,Get:"JobOfferPackages"};t.setState({Searching:!0}),be(e).then((function(e){"Job offer packages found."===e.Message?t.setState({AllJobOfferPackages:e.JobOfferPackages,JobOfferPackages:e.JobOfferPackages,Searching:!1}):t.setState({AllJobOfferPackages:[],JobOfferPackages:[],Searching:!1})}))}},t.onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n))},t.onSearch=function(e){if(e.preventDefault(),""!==t.state.SearchString){var a=t.state.AllJobOfferPackages,n=[],r=0,s=!0,l=!1,c=void 0;try{for(var i,o=a[Symbol.iterator]();!(s=(i=o.next()).done);s=!0){var m=i.value,d=m.JobOffer;(d.LoadingPlace.includes(t.state.SearchString)||d.UnloadingPlace.includes(t.state.SearchString))&&(n[r++]=m)}}catch(u){l=!0,c=u}finally{try{s||null==o.return||o.return()}finally{if(l)throw c}}t.setState({JobOfferPackages:n})}else t.setState({JobOfferPackages:t.state.AllJobOfferPackages})},t.state={AllJobOfferPackages:[],JobOfferPackages:[],SearchString:"",Searching:null},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSearch=t.onSearch.bind(Object(E.a)(t)),t.onComponentUpdated=t.onComponentUpdated.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onComponentUpdated()}},{key:"render",value:function(){var e=this,a=this.state.JobOfferPackages;return r.a.createElement("section",null,r.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},r.a.createElement("div",{class:"container",style:{paddingBottom:"10px",marginBottom:"12px"}},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xs-18"},r.a.createElement("div",{className:"type-h3 color-light"},r.a.createElement("span",{className:"fas fa-hand-holding-usd"}),"   Job Offers"),r.a.createElement("p",{className:"color-light"},"Hi There! Want to transport your freight somewhere? Why not create a new job offer now!"),r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#add-job-offer-dialog"},"New Job Offer")))))),r.a.createElement(tn,{OnOK:function(){e.onComponentUpdated()}}),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),r.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Your Job Offers"),r.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},r.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},r.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},r.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},r.a.createElement("div",{className:"putbox",style:{margin:"0px"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"search",name:"SearchString",className:"form-control",placeholder:"Search by Places",style:{maxWidth:"500px",width:"100%"},value:this.state.SearchString,onChange:this.onChange})),r.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===a.length?r.a.createElement("div",{className:"jumbotron theme-default"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},this.state.Searching?r.a.createElement("div",{className:"col-md-24 text-center"},r.a.createElement("div",null,r.a.createElement("div",{className:"type-h3",style:{color:"#008575"}},"Searching"),r.a.createElement(Pa,null))):r.a.createElement("div",{className:"col-md-24 text-center"},r.a.createElement("h3",null,r.a.createElement("span",{className:"fas fa-exclamation-triangle",style:{color:"#FFBF15"}})," No job offers found."))))):r.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},a.map((function(a,t){return r.a.createElement("li",{key:t,className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},r.a.createElement(an,{Index:t,JobOfferPackage:a,OnJobOfferUpdated:e.onComponentUpdated}))}))))}}]),a}(n.Component),rn=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(nn,null))}}]),a}(n.Component),sn=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e,a=this.props.OnGoingJob,t=this.props.HasObjections,n=new Date(a.LoadingDate);if(n.setHours(parseInt(a.LoadingTime.substring(0,2))),n.setMinutes(parseInt(a.LoadingTime.substring(3,5))),n.setSeconds(parseInt(a.LoadingTime.substring(6))),a.CompletedByDriver)e=r.a.createElement("section",null,r.a.createElement("h3",null,r.a.createElement("span",{className:"fas fa-smile p-r-xxxs"}),"Driver has Completed the Job"),r.a.createElement("div",{class:"type-sh3"},"Your Approval is Still Required"));else if(t)e=r.a.createElement("h3",null,r.a.createElement("span",{className:"fas fa-exclamation p-r-xxxs"}),"This Job is Terminated.");else{var s=Math.abs(new Date-n),l=Math.floor(s/864e5),c=Math.floor(s%864e5/36e5),i=Math.round(s%864e5%36e5/6e4),o=l>0?"".concat(l," Days "):"",m=c>0?"".concat(c," Hours "):"",d=i>0?"".concat(i," Minutes "):"",u="".concat(o).concat(m).concat(d,"Left for Your Driver to Arrive");0===l&&0===c&&0===i&&(u="Loading Time has Passed"),e=r.a.createElement("section",null,r.a.createElement("h3",null,r.a.createElement("span",{className:"fas fa-clock"}),"   ",u),r.a.createElement("div",{class:"type-sh3"},r.a.createElement("span",{className:"fas fa-tag"}),"   YOU PAID $".concat(a.Price)),r.a.createElement("div",{class:"col-md-12 col-md-offset-6"},r.a.createElement("div",{class:"type-p3"},a.AcceptedDelay>0?r.a.createElement("span",null,r.a.createElement("span",{className:"fas fa-leaf"}),r.a.createElement("span",null," Driver has a relaxation of ".concat(a.AcceptedDelay," Hours."))):r.a.createElement("span",null,"Hoping for the driver to be on time."))))}return r.a.createElement("section",null,r.a.createElement("div",{class:"jumbotron theme-dark",style:{background:"linear-gradient(to right bottom, #008575, #005162)"}},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-24 text-center"},e)))),r.a.createElement(lt,{OnGoingJob:a}))}}]),a}(n.Component),ln=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",null,r.a.createElement(Za,null)))}}]),a}(n.Component),cn=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=5;break}return e={Token:localStorage.Token,Get:"ObjectionReasons"},t.setState({ProgressRing:r.a.createElement(at,null)}),a.next=5,O.a.awrap(be(e).then((function(e){"Objection reasons found."===e.Message?t.setState({ObjectionReasons:e.ObjectionReasons,ProgressRing:!1}):t.setState({ObjectionReasons:[],ProgressRing:!1})})));case 5:case"end":return a.stop()}}))},t.onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t.setState({ProgressRing:r.a.createElement(at,null)}),a={Token:localStorage.Token,Reason:t.state.NewReason},console.log("Going to add Objection reason..."),n.next=8,O.a.awrap(Te(a).then((function(e){if("Objection reason is added."===e.Message){var a=t.state.ObjectionReasons,n=t.state.Errors;a.push(e.ObjectionReason),n.NewReason="0",t.setState({AddPressed:!1,ObjectionReasons:a,Errors:n,NewReason:""})}t.setState({ProgressRing:null})})));case 8:case"end":return n.stop()}}))},t.state={ObjectionReasons:[],AddPressed:!1,NewReason:"",ValidNewReason:!1,ValidForm:!1,ProgressRing:null,Errors:{NewReason:"0"}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.onComponentUpdated=t.onComponentUpdated.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidNewReason;switch(e){case"NewReason":r=a.length>0&&a.length<=50,n.NewReason=r?a.length:"Too long..."}this.setState({Errors:n,ValidNewReason:r},(function(){t.setState({ValidForm:t.state.ValidNewReason})}))}},{key:"render",value:function(){var e=this,a=this.state.ObjectionReasons;return r.a.createElement("section",null,this.state.ProgressRing,r.a.createElement("div",{class:"entity-list entity-list-expandable"},r.a.createElement("div",{class:"entity-list entity-list-add-item-button"},r.a.createElement("a",{class:this.state.AddPressed?"entity-list-item active":"entity-list-item"},r.a.createElement("div",{class:"item-icon",onClick:function(){e.state.AddPressed?e.setState({AddPressed:!1}):e.setState({AddPressed:!0})}},r.a.createElement("span",{class:"glyph glyph-add"})),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"Add a Reason"),r.a.createElement("div",{class:"content-text-secondary",style:"Too long..."===this.state.Errors.NewReason?{color:"#D75A4A"}:null},this.state.Errors.NewReason)),r.a.createElement("div",{class:"item-content-expanded"},r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("input",{type:"text",className:"form-control",name:"NewReason",autocomplete:"off",value:this.state.NewReason,onChange:this.onChange}),r.a.createElement("input",{type:"submit",value:"Add",className:"btn btn-secondary",disabled:!this.state.ValidForm}))))),a.map((function(a,t){return r.a.createElement("div",{key:t,class:"entity-list-item"},r.a.createElement("div",{class:"item-icon"},r.a.createElement("span",{class:"fas fa-thumbs-down"})),r.a.createElement("div",{class:"item-content-secondary"},r.a.createElement("button",{type:"button",class:"btn btn-secondary",style:{margin:"0px",minWidth:"0px"},onClick:function(){e.props.OnReasonSelected(a.Reason)}},"Select")),r.a.createElement("div",{class:"item-content-primary"},r.a.createElement("div",{class:"content-text-primary"},"".concat(t+1,".")),r.a.createElement("div",{class:"content-text-secondary"},a.Reason)))}))))}}]),a}(n.Component),on=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t.setState({Preloader:r.a.createElement(Ve,null)}),a={Token:localStorage.Token,OnGoingJobID:t.props.OnGoingJobID,Reason:t.state.Reason,Comment:t.state.Comment},console.log("Going to add job objection..."),n.next=8,O.a.awrap(De(a).then((function(e){"Job objection is added."===e.Message&&(t.cancelButton.click(),t.props.OnOK()),t.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))},t.state={Reason:"Select from the list.",Comment:"",ValidReason:!1,ValidComment:!1,ValidForm:!1,Preloader:null,Errors:{Comment:"0"}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidComment;switch(e){case"Comment":if(r=""!==a,n.Comment=r?"":"Comment is required",""!==n.Comment)break;r=a.length<=200,n.Comment=r?a.length:"Too long..."}this.setState({Errors:n,ValidComment:r},(function(){t.setState({ValidForm:t.state.ValidReason&&t.state.ValidComment})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{className:"modal modal-center-vertical",id:"add-objection-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{className:"btn btn-primary",ref:function(a){return e.cancelButton=a},style:{minWidth:"0px"},"data-dismiss":"modal"},r.a.createElement("span",{className:"fas fa-times"}))),r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Add an Objection")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Reason"),r.a.createElement("input",{type:"text",class:"form-control",name:"Reason",style:{maxWidth:"100%"},readonly:!0,value:this.state.Reason})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Comment"),r.a.createElement("textarea",{rows:"4",class:"form-control",style:{maxWidth:"100%"},name:"Comment",value:this.state.Comment,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.Comment)),r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement("input",{type:"submit",value:"Add Objection",className:"btn btn-primary",style:{margin:"0px"},disabled:!this.state.ValidForm}))),r.a.createElement("br",null),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),r.a.createElement("div",{className:"type-h4",style:{color:"#008575",padding:"10px",textAlign:"right"}},"   Reasons",r.a.createElement("i",{className:"fas fa-ellipsis-v"})),r.a.createElement(cn,{ObjectionReasons:this.props.ObjectionReasons,OnReasonSelected:function(a){e.setState({Reason:a,ValidReason:!0},(function(){e.setState({ValidForm:e.state.ValidReason&&e.state.ValidComment})}))}}))))))}}]),a}(n.Component),mn=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=4;break}return e={Token:localStorage.Token,Get:"JobObjectionPackages",Params:{OnGoingJobID:t.props.OnGoingJobID}},a.next=4,O.a.awrap(be(e).then((function(e){"Job objection packages found."===e.Message?t.setState({JobObjectionPackages:e.JobObjectionPackages,Searching:!1}):t.setState({JobObjectionPackages:[],Searching:!1})})));case 4:case"end":return a.stop()}}))},t.state={JobObjectionPackages:[],Searching:!1},t.onComponentUpdated=t.onComponentUpdated.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){return O.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.awrap(this.onComponentUpdated());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,a=this.state.JobObjectionPackages;return r.a.createElement("section",null,r.a.createElement("div",{class:"page-header back-color-gradient"},r.a.createElement("div",{class:"container",style:{paddingBottom:"10px",marginBottom:"12px"}},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xs-18"},r.a.createElement("div",{className:"type-h3 color-light"},r.a.createElement("span",{className:"fas fa-thumbs-down"}),"   Job Objections"),r.a.createElement("p",{className:"color-light"},"Objections on this job, either by you or your driver, will terminate the job."),r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#add-objection-dialog"},"Add Objection")))))),r.a.createElement(on,{OnGoingJobID:this.props.OnGoingJobID,OnOK:function(){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(e.onComponentUpdated());case 2:case"end":return a.stop()}}))}}),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),r.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Job Objections"),0===a.length?r.a.createElement(Ma,{Searching:this.state.Searching,SearchingFor:"job objctions"}):r.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},a.map((function(e,a){return r.a.createElement("li",{key:a,className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},r.a.createElement(rt,{Index:a,JobObjectionPackage:e}))}))))}}]),a}(n.Component),dn=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onApprove=function(){var e;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t.setState({ShowPreloader:!0}),e={Token:localStorage.Token},console.log("Going to approve the job..."),a.next=5,O.a.awrap(je(e).then((function(e){"Job is approved."!==e.Message?t.setState({ShowPreloader:!1}):t.props.OnOK()})));case 5:case"end":return a.stop()}}))},t.state={ShowPreloader:!1},t.onApprove=t.onApprove.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",{className:"modal modal-center-vertical",id:"approve-job-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.ShowPreloader?r.a.createElement(Ve,null):null,r.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},r.a.createElement("div",{className:"modal-content",style:{backgroundColor:"#FEFEFE"}},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{className:"btn btn-primary",style:{minWidth:"0px"},"data-dismiss":"modal"},r.a.createElement("span",{className:"fas fa-times"}))),r.a.createElement("div",{className:"type-h2",style:{color:"#008575",paddingTop:"0px"}},"Approve Completion")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{class:"jumbotron"},r.a.createElement("div",{class:"container"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-md-24"},r.a.createElement("img",{alt:"stamp.png",src:"./images/stamp.png",height:"100"}),r.a.createElement("div",{class:"type-h3"},"Your Driver has Finished the Job"),r.a.createElement("div",{class:"type-sh3"},"We Hope Your Cargo is Delivered"),r.a.createElement("p",null,r.a.createElement("span",{class:"color-default"},"Note:")," Report or Approve the Completion! After approving completion, you can view this job in your ",r.a.createElement("span",{class:"color-default"},"Completed Jobs")," tab. You'll also be able to rate and review this driver from there."),r.a.createElement("div",{class:"text-right"},r.a.createElement("button",{class:"btn btn-primary",onClick:this.onApprove},"Approve"),r.a.createElement("button",{class:"btn btn-secondary"},"Report")))))))))))}}]),a}(n.Component),un=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.props.HasObjections,a=this.props.CompletedByDriver,t=this.props.CompletedByTrader;return e?r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#333333"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Discard the Job?"),r.a.createElement("div",{className:"type-sh3"},"This will refund your amount, But a fraction of it will be deducted.")),r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{className:"btn btn-danger"},"Discard"))))):r.a.createElement("section",null,r.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#333333"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"type-h3",style:{color:"#008575",paddingTop:"0px"}},"Job Completion Status"),r.a.createElement("div",{className:"type-sh4"},"You'll be able to approve this job after your driver completes the job.")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"entity-list theme-alt"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-certificate"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Completed By Driver?"),r.a.createElement("div",{className:"content-text-secondary"},a?r.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):r.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}})))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-certificate"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Approved By You?"),r.a.createElement("div",{className:"content-text-secondary"},t?r.a.createElement("span",{className:"fa fa-check-circle",style:{color:"#25AE88"}}):r.a.createElement("span",{className:"fa fa-times-circle",style:{color:"#D75A4A"}}))))))),r.a.createElement("div",{className:"text-right"},a?r.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#approve-job-dialog"},"Approve"):null))),r.a.createElement(dn,{OnOK:this.props.OnJobApproved}))}}]),a}(n.Component),pn=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onComponentUpdated=function(){var e;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!localStorage.Token){a.next=5;break}return e={Token:localStorage.Token,Get:"OnGoingJob"},t.setState({Loading:!0}),a.next=5,O.a.awrap(be(e).then((function(e){"On-going job found."===e.Message?t.setState({OnGoingJob:e.OnGoingJob,HasObjections:e.HasObjections,Loading:!1}):(clearInterval(t.interval),t.setState({OnGoingJob:null,HasObjections:!1,Loading:!1}))})));case 5:case"end":return a.stop()}}))},t.state={OnGoingJob:null,HasObjections:!1,Loading:!1},t.onComponentUpdated=t.onComponentUpdated.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(this.onComponentUpdated());case 2:this.interval=setInterval((function(){var a;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return a={Token:localStorage.Token,Get:"OnGoingJob"},t.next=4,O.a.awrap(be(a).then((function(a){"On-going job found."===a.Message?(console.log(a),e.setState({OnGoingJob:a.OnGoingJob,HasObjections:a.HasObjection,Loading:!1})):e.setState({OnGoingJob:null,HasObjections:!1,Loading:!1})})));case 4:case"end":return t.stop()}}))}),15e3);case 3:case"end":return a.stop()}}),null,this)}},{key:"UNSAFE_componentWillMount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this;if(this.state.Loading||!this.state.OnGoingJob)return r.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#202020"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12 col-md-push-12 text-center"},r.a.createElement("img",{className:"img-responsive visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block visible-xl-inline-block",alt:"on_going_jobs.png",src:"./images/on_going_jobs.png","data-source-index":"2"})),r.a.createElement("div",{className:"col-md-12 col-md-pull-12"},r.a.createElement("div",{className:"type-h3"},"On-Going Job"),this.state.Loading?r.a.createElement("div",null,r.a.createElement("div",{class:"type-sh3",style:{color:"#008575"}},"Searhcing"),r.a.createElement(Pa,null)):r.a.createElement("div",{className:"type-sh3"},"Couldn't Find Your Job...")))));var a=this.state.OnGoingJob,t=this.state.HasObjections;return r.a.createElement("section",null,r.a.createElement("ul",{className:"nav nav-tabs tabs-light",role:"tablist"},r.a.createElement("li",{role:"presentation",className:"active"},r.a.createElement("a",{href:"#job-tab","aria-controls":"job-tab",role:"tab","data-toggle":"tab"},"Job")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#driver-tab","aria-controls":"driver-tab",role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(e.RefreshDriverContainer());case 2:case"end":return a.stop()}}))}},"Driver")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#truck-tab","aria-controls":"truck-tab",role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(e.RefreshTruckContainer());case 2:case"end":return a.stop()}}))}},"Truck")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#map-tab","aria-controls":"map-tab",role:"tab","data-toggle":"tab"},"Map")),a.CompletedByDriver?null:r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#objections-tab","aria-controls":"objections-tab",role:"tab","data-toggle":"tab"},"Objections"))),t?r.a.createElement(mt,{Type:"danger",Message:"This job has objections, and it cannot be completed now. For more information, please tap on Objections tab."}):null,r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"job-tab"},r.a.createElement(sn,{OnGoingJob:a,HasObjections:t})),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"driver-tab"},r.a.createElement(Mt,{Refresh:function(a){e.RefreshDriverContainer=a},DriverID:a.DriverID})),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"truck-tab"},r.a.createElement(Bt,{Refresh:function(a){e.RefreshTruckContainer=a},DriverID:a.DriverID})),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"map-tab"},r.a.createElement(ln,null)),a.CompletedByDriver?null:r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"objections-tab"},r.a.createElement(mn,{OnGoingJobID:a.OnGoingJobID}))),r.a.createElement(un,{HasObjections:t,CompletedByDriver:a.CompletedByDriver,CompletedByTrader:a.CompletedByTrader,OnJobApproved:this.onComponentUpdated}))}}]),a}(n.Component),En=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onRate=function(e){t.props.OnRated(e),t.setState({Rating:e})},t.state={Rating:0},t.onRate=t.onRate.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{class:"rating"},r.a.createElement("div",{class:"rating-stars"},r.a.createElement("ul",{class:"rating-stars-background"},r.a.createElement("li",null,r.a.createElement("i",{class:"glyph glyph-star"})),r.a.createElement("li",null,r.a.createElement("i",{class:"glyph glyph-star"})),r.a.createElement("li",null,r.a.createElement("i",{class:"glyph glyph-star"})),r.a.createElement("li",null,r.a.createElement("i",{class:"glyph glyph-star"})),r.a.createElement("li",null,r.a.createElement("i",{class:"glyph glyph-star"}))),r.a.createElement("ul",{class:"rating-stars-value",style:{width:"".concat(this.state.Rating,"%")}},r.a.createElement("li",null,r.a.createElement("i",{class:"glyph glyph-star"})),r.a.createElement("li",null,r.a.createElement("i",{class:"glyph glyph-star"})),r.a.createElement("li",null,r.a.createElement("i",{class:"glyph glyph-star"})),r.a.createElement("li",null,r.a.createElement("i",{class:"glyph glyph-star"})),r.a.createElement("li",null,r.a.createElement("i",{class:"glyph glyph-star"}))),r.a.createElement("div",{class:"rating-stars-input"},r.a.createElement("button",{class:"rating-btn",title:"1",onClick:function(){e.onRate(20)}},r.a.createElement("i",{class:"glyph glyph-star"})),r.a.createElement("button",{class:"rating-btn",title:"2",onClick:function(){e.onRate(40)}},r.a.createElement("i",{class:"glyph glyph-star"})),r.a.createElement("button",{class:"rating-btn",title:"3",onClick:function(){e.onRate(60)}},r.a.createElement("i",{class:"glyph glyph-star"})),r.a.createElement("button",{class:"rating-btn",title:"4",onClick:function(){e.onRate(80)}},r.a.createElement("i",{class:"glyph glyph-star"})),r.a.createElement("button",{class:"rating-btn",title:"5",onClick:function(){e.onRate(100)}},r.a.createElement("i",{class:"glyph glyph-star"}))))))}}]),a}(n.Component),bn=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t.setState({ShowPreloader:!0}),a={Token:localStorage.Token,CompletedJobID:t.props.CompletedJobID,Rating:t.state.Rating,Review:t.state.Review},console.log("Going to add driver review..."),n.next=8,O.a.awrap(Re(a).then((function(e){"Driver review is added."===e.Message?(t.setState({ShowPreloader:!1}),t.cancelButton.click(),t.props.OnOK(e.DriverReview)):t.setState({ShowPreloader:!1})})));case 8:case"end":return n.stop()}}))},t.state={Rating:0,Review:"",ValidRating:!1,ValidReview:!1,ValidForm:!1,ShowPreloader:!1,Errors:{Review:"0"}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidReview;switch(e){case"Review":if(r=""!==a,n.Review=r?"":"Review is required",""!==n.Review)break;r=a.length<=200,n.Review=r?a.length:"Too long..."}this.setState({Errors:n,ValidReview:r},(function(){t.setState({ValidForm:t.state.ValidRating&&t.state.ValidReview})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement("div",{className:"modal modal-center-vertical",id:"review-dialog-".concat(this.props.DialogID),tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true"},this.state.ShowPreloader?r.a.createElement(Ve,null):null,r.a.createElement("div",{className:"modal-dialog",style:{width:"auto",maxWidth:"95%"}},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{className:"btn btn-primary",ref:function(a){return e.cancelButton=a},style:{minWidth:"0px"},"data-dismiss":"modal"},r.a.createElement("span",{className:"fas fa-times"}))),r.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Rate and Review")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Rate this Driver"),r.a.createElement(En,{OnRated:function(a){e.setState({Rating:a,ValidRating:!0},(function(){e.setState({ValidForm:e.state.ValidRating&&e.state.ValidReview})}))}})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Review"),r.a.createElement("textarea",{rows:"6",class:"form-control",name:"Review",style:{},value:this.state.Review,onChange:this.onChange}),r.a.createElement("span",{className:"Too long..."===this.state.Errors.Review||"Review is required"===this.state.Errors.Review?"text-danger":"text-accent"},this.state.Errors.Review)),r.a.createElement("div",{className:"text-right"},r.a.createElement("input",{type:"submit",value:"Submit",className:"btn btn-primary m-n",disabled:!this.state.ValidForm}))))))))}}]),a}(n.Component),hn=function(e){function a(e){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).call(this,e))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this,a=this.props.Index,t=this.props.CompletedJobPackage.CompletedJob,n=this.props.CompletedJobPackage.DriverReview;return r.a.createElement("li",{className:"list-items-row",style:{borderTop:"4px solid #CCCCCC"}},r.a.createElement(ut,{Index:a,CompletedJob:t}),n?r.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#333333"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"type-h3 color-default p-t-n"},"Your Given Ratings")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"entity-list theme-alt"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-star"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Rating"),r.a.createElement("div",{className:"content-text-secondary"},r.a.createElement(pt,{Rating:n.Rating,Color:"color-alt",Size:"rating-small"})))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-pencil-alt"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Review"),r.a.createElement("div",{className:"content-text-secondary"},n.Review)))))))):r.a.createElement("div",{className:"jumbotron theme-alt",style:{backgroundColor:"#333333"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"col-md-24"},r.a.createElement("div",{className:"type-h3 color-default p-t-n"},r.a.createElement("span",{className:"fas fa-star m-r-xxs"}),"Rate and Review the Driver"),r.a.createElement("div",{className:"type-sh3"},"Your reviews means a lot to us and the driver too.")),r.a.createElement("div",{className:"text-right"},r.a.createElement("button",{className:"btn btn-primary","data-toggle":"modal","data-target":"#review-dialog-".concat(a)},"Write a Review")))),r.a.createElement(bn,{DialogID:a,CompletedJobID:t.CompletedJobID,OnOK:this.props.OnReviewAdded}),r.a.createElement("div",{"data-toggle":"collapse","aria-expanded":"false","data-target":"#completed-job-".concat(a),onClick:function(){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(e.RefreshDriverContainer());case 2:case"end":return a.stop()}}))}},r.a.createElement("div",{className:"type-h4",style:{color:"#008575",padding:"10px",textAlign:"right"}},"Driver Details",r.a.createElement("i",{className:"fas fa-ellipsis-v"}),r.a.createElement("i",{class:"glyph glyph-add"}),r.a.createElement("i",{class:"glyph glyph-remove"}))),r.a.createElement("div",{className:"collapse",id:"completed-job-".concat(a)},r.a.createElement(Mt,{Refresh:function(a){e.RefreshDriverContainer=a},DriverID:t.DriverID})))}}]),a}(n.Component),gn=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onLoad=function(){if(localStorage.Token){var e={Token:localStorage.Token,Get:"CompletedJobPackages"};t.setState({Searching:!0}),be(e).then((function(e){"Completed job packages found."===e.Message?t.setState({AllCompletedJobPackages:e.CompletedJobPackages,CompletedJobPackages:e.CompletedJobPackages,Searching:!1}):t.setState({AllCompletedJobPackages:[],CompletedJobPackages:[],Searching:!1})}))}},t.onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n))},t.onSearch=function(e){if(e.preventDefault(),""!==t.state.SearchDate){var a=t.state.AllCompletedJobPackages,n=[],r=0,s=t.state.SearchDate,l=!0,c=!1,i=void 0;try{for(var o,m=a[Symbol.iterator]();!(l=(o=m.next()).done);l=!0){var d=o.value,u=d.CompletedJob;new Date(u.LoadingDate).getTime()!==new Date(s).getTime()&&new Date(u.Created).getTime()!==new Date(s).getTime()||(n[r++]=d)}}catch(p){c=!0,i=p}finally{try{l||null==m.return||m.return()}finally{if(c)throw i}}t.setState({CompletedJobPackages:n})}else t.setState({CompletedJobPackages:t.state.AllCompletedJobPackages})},t.state={AllCompletedJobPackages:[],CompletedJobPackages:[],SearchDate:"",Searching:!1},t.onLoad=t.onLoad.bind(Object(E.a)(t)),t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSearch=t.onSearch.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){this.onLoad()}},{key:"render",value:function(){var e=this,a=this.state.CompletedJobPackages;return r.a.createElement("section",null,r.a.createElement("div",{class:"page-header",style:{backgroundImage:"url(/images/poly_back.jpg)",backgroundSize:"cover",backgroundColor:"#215761"}},r.a.createElement("div",{class:"container",style:{paddingBottom:"10px",marginBottom:"12px"}},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-xs-18"},r.a.createElement("div",{className:"type-h3 color-light"},r.a.createElement("span",{className:"fas fa-check m-r-xxs"}),"Completed Jobs"),r.a.createElement("p",{className:"color-light"},"Hi There! Want to transport your freight somewhere? Why not create a new job offer now!"))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),r.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Your Completed Offers"),r.a.createElement("nav",{className:"navbar navbar-default",style:{backgroundColor:"#F5F5F5"}},r.a.createElement("div",{className:"navbar-global theme-default",style:{backgroundColor:"#E5E5E5;"}},r.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},r.a.createElement("form",{noValidate:!0,onSubmit:this.onSearch,className:"navbar-form navbar-right",role:"search"},r.a.createElement("div",{className:"putbox",style:{margin:"0px"}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"date",name:"SearchDate",className:"form-control",placeholder:"Search by Date",style:{maxWidth:"500px",width:"100%"},value:this.state.SearchDate,onChange:this.onChange})),r.a.createElement("button",{type:"submit",className:"btn btn-default form-control",style:{width:"34px"}})))))),0===a.length?r.a.createElement(Ma,{Searching:this.state.Searching,SearchingFor:"completed jobs"}):r.a.createElement("ol",{className:"list-items",style:{margin:"0px"}},a.map((function(a,t){return r.a.createElement(hn,{key:t,Index:t,CompletedJobPackage:a,OnReviewAdded:function(t){var n=e.state.CompletedJobPackages,r=!0,s=!1,l=void 0;try{for(var c,i=n[Symbol.iterator]();!(r=(c=i.next()).done);r=!0){var o=c.value;if(o===a){o.DriverReview=t;break}}}catch(m){s=!0,l=m}finally{try{r||null==i.return||i.return()}finally{if(s)throw l}}e.setState({CompletedJobPackages:n})}})}))))}}]),a}(n.Component),vn=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement(gn,null))}}]),a}(n.Component),fn=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement(ua,{Heading:"JOBS"}),r.a.createElement("ul",{className:"nav nav-tabs theme-alt",role:"tablist",style:{padding:"10px",backgroundColor:"#3A3A3C",width:"100%",margin:"0px"}},r.a.createElement("li",{role:"presentation",className:"active"},r.a.createElement("a",{href:"#job-requests","aria-controls":"job-requests",role:"tab","data-toggle":"tab",onClick:function(){return O.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,O.a.awrap(e.RefreshJobRequests());case 2:case"end":return a.stop()}}))}},"Job Requests")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#job-offers","aria-controls":"job-offers",role:"tab","data-toggle":"tab"},"Job Offers")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#on-going-job","aria-controls":"on-going-job",role:"tab","data-toggle":"tab"},"On-Going Job")),r.a.createElement("li",{role:"presentation"},r.a.createElement("a",{href:"#completed-jobs","aria-controls":"completed-jobs",role:"tab","data-toggle":"tab"},"Completed Jobs"))),r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"job-requests"},r.a.createElement(Yt,{Refresh:function(a){e.RefreshJobRequests=a}})),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"job-offers"},r.a.createElement(rn,null)),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"on-going-job"},r.a.createElement(pn,null)),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"completed-jobs"},r.a.createElement(vn,null))))}}]),a}(n.Component),Nn=(n.Component,function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).onChange=function(a){var t=a.target.name,n=a.target.value;e.setState(Object(P.a)({},t,n),(function(){e.validateField(t,n)}))},e.onSubmit=function(a){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),e.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.Token,FirstName:e.state.FirstName,LastName:e.state.LastName,Address:e.state.Address,PhoneNumber:e.state.PhoneNumber,Gender:e.state.Gender,Nationality:e.state.Nationality,DateOfBirth:e.state.DateOfBirth},e.setState({Preloader:r.a.createElement(Ve,null)}),n.next=7,O.a.awrap(ge(t).then((function(a){"Trader is updated."===a.Message&&(e.forceUpdate(),e.props.OnSettingsSaved()),e.setState({Preloader:null})})));case 7:case"end":return n.stop()}}))},e.state={FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:"",ValidFirstName:!0,ValidLastName:!0,ValidPhoneNumber:!0,ValidForm:!1,SettingsSaved:!1,Preloader:null,Errors:{FirstName:"",LastName:"",PhoneNumber:""}},e.onChange=e.onChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,a=this;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Token:localStorage.Token,Get:"Trader"},t.next=4,O.a.awrap(be(e).then((function(e){if("Trader found."===e.Message){var t=e.Trader;a.setState({FirstName:t.FirstName,LastName:t.LastName,Address:t.Address,PhoneNumber:t.PhoneNumber,Gender:t.Gender,Nationality:t.Nationality,DateOfBirth:t.DateOfBirth})}else a.setState({FirstName:"",LastName:"",Address:"",PhoneNumber:"",Gender:"",Nationality:"",DateOfBirth:""})})));case 4:case"end":return t.stop()}}))}},{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidFirstName,s=this.state.ValidLastName,l=this.state.ValidPhoneNumber;switch(e){case"FirstName":r=a.match(/^[a-zA-Z ]+$/),n.FirstName=r?"":"First name is invalid.";break;case"LastName":s=a.match(/^[a-zA-Z ]+$/),n.LastName=s?"":"Last name is invalid.";break;case"PhoneNumber":l=a.match(/^\+[0-9]?()[0-9](\s|\S)(\d[0-9]{9})$/),n.PhoneNumber=l?"":"Phone number is invalid."}this.setState({Errors:n,ValidFirstName:r,ValidLastName:s,ValidPhoneNumber:l},(function(){t.setState({ValidForm:t.state.ValidFirstName&&t.state.ValidLastName&&t.state.ValidPhoneNumber})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"General Settings"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"entity-list entity-list-expandable"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-comment"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"FirstName",autoComplete:"off",value:this.state.FirstName,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"First Name"),r.a.createElement("div",{className:"text-danger"},this.state.Errors.FirstName))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-comment"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"LastName",autoComplete:"off",value:this.state.LastName,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Last Name"),r.a.createElement("div",{className:"text-danger"},this.state.Errors.LastName))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-birthday-cake"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"date",className:"form-control",name:"DateOfBirth",autoComplete:"off",value:this.state.DateOfBirth,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Date of Birth"))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"Male"===this.state.Gender?"fas fa-male":"fas fa-female"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"dropdown",style:{width:"193px",maxWidth:"296px"}},r.a.createElement("button",{id:"example-dropdown",className:"btn btn-dropdown dropdown-toggle",type:"button","data-toggle":"dropdown","aria-haspopup":"true",role:"button","aria-expanded":"false",style:{width:"100%"}},r.a.createElement("span",null,this.state.Gender),r.a.createElement("span",{className:"caret"})),r.a.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdown-example"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({Gender:"Male"}),e.validateField("","")}},"Male")),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){e.setState({Gender:"Female"}),e.validateField("","")}},"Female"))))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Gender"))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-flag"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"Nationality",autoComplete:"off",value:this.state.Nationality,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Nationality"))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-phone"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"PhoneNumber",autoComplete:"off",placeholder:"+XXXXXXXXXXXX",value:this.state.PhoneNumber,onChange:this.onChange,style:{width:"193px"}}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Phone Number"),r.a.createElement("div",{className:"text-danger"},this.state.Errors.PhoneNumber))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-location-arrow"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",name:"Address",autoComplete:"off",value:this.state.Address,onChange:this.onChange,style:{width:"393px"}}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Address"))),r.a.createElement("div",{className:"entity-list-item active"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-save"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Save Changes?"),r.a.createElement("div",{className:"content-text-secondary"},"This cannot be undone.")),r.a.createElement("div",{className:"item-content-expanded"},r.a.createElement("input",{type:"submit",value:"Save",className:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.Preloader)}}]),a}(n.Component)),yn=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onChange=function(e){var a=e.target.name,n=e.target.value;t.setState(Object(P.a)({},a,n),(function(){t.validateField(a,n)}))},t.onSubmit=function(e){var a;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),t.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return a={Token:localStorage.Token,Username:t.props.Username,Email:t.props.Email},t.setState({Preloader:r.a.createElement(Ve,null)}),n.next=7,O.a.awrap(ye(a).then((function(e){"Trader is updated."===e.Message&&t.props.OnOK(t.cancelButton),t.setState({Preloader:null})})));case 7:case"end":return n.stop()}}))},t.state={ConfirmCode:"",ValidConfirmCode:!1,ValidForm:!1,Preloader:null,Errors:{ConfirmCode:""}},t.onChange=t.onChange.bind(Object(E.a)(t)),t.onSubmit=t.onSubmit.bind(Object(E.a)(t)),t.validateField=t.validateField.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidConfirmCode;r=a===this.props.Code,n.ConfirmCode=r?"":"Invalid code.",this.setState({Errors:n,ValidConfirmCode:r},(function(){t.setState({ValidForm:t.state.ValidConfirmCode})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"text-left"},r.a.createElement("div",{className:"modal in",id:"code-confirmation-dialog",tabIndex:"-1",role:"dialog","aria-labelledby":"modal-sample-label","aria-hidden":"true",style:{display:"block"}},r.a.createElement("div",{className:"modal-dialog"},this.state.Preloader,r.a.createElement("div",{className:"modal-dialog"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("section",null,r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"modal-header"},r.a.createElement("img",{alt:"passcode.png",src:"./images/passcode.png",height:"60"}),r.a.createElement("div",{className:"type-h3"},"Email Confirmation"),r.a.createElement("div",{className:"type-sh3"},"We delivered a confirmation code to your email.")),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"control-label"},"Confirmation Code"),r.a.createElement("input",{type:"text",name:"ConfirmCode",className:"form-control",autocomplete:"off",value:this.state.ConfirmCode,onChange:this.onChange}),r.a.createElement("span",{className:"text-danger"},this.state.Errors.ConfirmCode))))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{className:"btn btn-default","data-dismiss":"modal",onClick:this.props.OnCancel,ref:function(a){return e.cancelButton=a}},"Cancel"),r.a.createElement("input",{type:"submit",value:"Confirm",className:"btn btn-primary",disabled:!this.state.ValidForm})))))))))}}]),a}(n.Component),xn=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).onChange=function(a){var t=a.target.name,n=a.target.value;e.setState(Object(P.a)({},t,n),(function(){e.validateField(t,n)}))},e.onSubmit=function(a){var t,n,s;return O.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(a.preventDefault(),e.state.ValidForm){l.next=3;break}return l.abrupt("return");case 3:if(e.state.NewUsername!==e.state.Username||e.state.NewEmail!==e.state.Email){l.next=5;break}return l.abrupt("return");case 5:if(e.state.NewUsername===e.state.Username){l.next=12;break}return l.next=8,O.a.awrap(ve(e.state.NewUsername));case 8:if("Username is unavailable."!==(t=l.sent).Message){l.next=12;break}return e.validateField("NewUsername",t.Message),l.abrupt("return");case 12:if(e.state.NewEmail===e.state.Email){l.next=19;break}return l.next=15,O.a.awrap(fe(e.state.NewEmail));case 15:if("Email is already taken."!==(n=l.sent).Message){l.next=19;break}return e.validateField("NewEmail",n.Message),l.abrupt("return");case 19:if(e.state.NewEmail!==e.state.Email){l.next=27;break}return s={Token:localStorage.Token,Username:e.state.NewUsername,Email:e.state.NewEmail},e.setState({Preloader:r.a.createElement(Ve,null)}),console.log("Going to update username."),l.next=25,O.a.awrap(ye(s).then((function(a){console.log(a),"Trader is updated."===a.Message&&e.props.OnSettingsSaved(),e.setState({Preloader:null})})));case 25:l.next=30;break;case 27:return console.log("Going to send code..."),l.next=30,O.a.awrap(Ne(e.state.NewEmail).then((function(a){console.log(a),"Code sent."===a.Message&&e.setState({CodeConfirmationDialog:r.a.createElement(yn,{Code:a.Code,Username:e.state.NewUsername,Email:e.state.NewEmail,OnCancel:function(){e.setState({CodeConfirmationDialog:null})},OnOK:function(a){a.click(),e.props.OnSettingsSaved()}})})})));case 30:case"end":return l.stop()}}))},e.state={Username:"",NewUsername:"",Email:"",NewEmail:"",Code:"",ValidNewUsername:!0,ValidNewEmail:!0,ValidForm:!1,CodeConfirmationDialog:null,Errors:{NewUsername:"",NewEmail:""},CodeConfirmation:"",Preloader:null},e.onChange=e.onChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e,a=this;return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(!localStorage.Token){t.next=4;break}return e={Token:localStorage.Token,Get:"Trader"},t.next=4,O.a.awrap(be(e).then((function(e){if("Trader found."===e.Message){var t=e.Trader;a.setState({Username:t.Username,NewUsername:t.Username,Email:t.Email,NewEmail:t.Email})}else a.setState({Username:"",NewUsername:"",Email:"",NewEmail:""})})));case 4:case"end":return t.stop()}}))}},{key:"validateField",value:function(e,a){var t=this,n=this.state.Errors,r=this.state.ValidNewUsername,s=this.state.ValidNewEmail;switch(e){case"NewUsername":if(r=""!==a,n.NewUsername=r?"":"Username is required.",""!=n.NewUsername)break;if(r=a.match(/^[a-z0-9]+$/i),n.NewUsername=r?"":"Username is invalid.",""!=n.NewUsername)break;r="Username is unavailable."!==a,n.NewUsername=r?"":"Username is unavailable.";break;case"NewEmail":if(s=""!==a,n.NewEmail=s?"":"Email is required.",""!=n.NewEmail)break;if(s=a.match(/^([\w.%+-]+)@([\w-]+\.)+([\w]{2,})$/i),n.NewEmail=s?"":"Email is invalid.",""!=n.NewEmail)break;s="Email is already taken."!==a,n.NewEmail=s?"":"Email is already taken."}this.setState({Errors:n,ValidNewUsername:r,ValidNewEmail:s},(function(){t.setState({ValidForm:t.state.ValidNewUsername&&t.state.ValidNewEmail})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Username and Emails"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"entity-list entity-list-expandable"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-at"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",name:"NewUsername",className:"form-control",autoComplete:"off",value:this.state.NewUsername,onChange:this.onChange}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Username"),r.a.createElement("div",{className:"content-text-secondary text-danger"},this.state.Errors.NewUsername))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-envelope"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",name:"NewEmail",className:"form-control",placeholder:"someone@example.com",autoComplete:"off",value:this.state.NewEmail,onChange:this.onChange}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Email"),r.a.createElement("div",{className:"content-text-secondary text-danger"},this.state.Errors.NewEmail))),r.a.createElement("div",{className:"entity-list-item active"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-save"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Save Changes?"),r.a.createElement("div",{className:"content-text-secondary"},"This cannot be undone.")),r.a.createElement("div",{className:"item-content-expanded"},r.a.createElement("input",{type:"submit",value:"Save",className:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.Preloader,this.state.CodeConfirmationDialog)}}]),a}(n.Component),Cn=function(e){function a(){var e;return Object(c.a)(this,a),(e=Object(o.a)(this,Object(m.a)(a).call(this))).onChange=function(a){var t=a.target.name,n=a.target.value;e.setState(Object(P.a)({},t,n),(function(){e.validateField(t,n)}))},e.onSubmit=function(a){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(a.preventDefault(),e.state.ValidForm){n.next=3;break}return n.abrupt("return");case 3:return t={Token:localStorage.Token,Password:e.state.CurrentPassword},n.next=6,O.a.awrap(xe(t).then((function(a){var t;return O.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if("Invalid password."!==a.Message){n.next=4;break}e.validateField("CurrentPassword",a.Message),n.next=8;break;case 4:return t={Token:localStorage.Token,Password:e.state.NewPassword},e.setState({Preloader:r.a.createElement(Ve,null)}),n.next=8,O.a.awrap(Ce(t).then((function(a){"Trader is updated."===a.Message&&e.props.OnSettingsSaved(),e.setState({Preloader:null})})));case 8:case"end":return n.stop()}}))})));case 6:case"end":return n.stop()}}))},e.state={CurrentPassword:"",NewPassword:"",ConfirmPassword:"",ValidCurrentPassword:!1,ValidNewPassword:!1,ValidConfirmPassword:!1,ValidForm:!1,Preloader:null,Errors:{CurrentPassword:"",NewPassword:"",ConfirmPassword:""}},e.onChange=e.onChange.bind(Object(E.a)(e)),e.onSubmit=e.onSubmit.bind(Object(E.a)(e)),e}return Object(d.a)(a,e),Object(i.a)(a,[{key:"validateField",value:function(e,a){var t,n,r,s,l=this;return O.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:t=this.state.Errors,n=this.state.ValidCurrentPassword,r=this.state.ValidNewPassword,s=this.state.ValidConfirmPassword,c.t0=e,c.next="CurrentPassword"===c.t0?7:"NewPassword"===c.t0?14:"ConfirmPassword"===c.t0?17:20;break;case 7:if(n=""!==a,t.CurrentPassword=n?"":"Current password is required.",""===t.CurrentPassword){c.next=11;break}return c.abrupt("break",21);case 11:return n="Invalid password."!==a,t.CurrentPassword=n?"":"Current password is invalid.",c.abrupt("break",21);case 14:return r=a.length>=6,t.NewPassword=r?"":"Password is too short.",c.abrupt("break",21);case 17:return s=a===this.state.NewPassword,t.ConfirmPassword=s?"":"Passwords did not match.",c.abrupt("break",21);case 20:return c.abrupt("break",21);case 21:this.setState({Errors:t,ValidCurrentPassword:n,ValidNewPassword:r,ValidConfirmPassword:s},(function(){l.setState({ValidForm:l.state.ValidCurrentPassword&&l.state.ValidNewPassword&&l.state.ValidConfirmPassword})}));case 22:case"end":return c.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement("section",null,r.a.createElement("div",{className:"h3",style:{margin:"0px",padding:"10px",backgroundColor:"#EFEFEF"}},"Change Password"),r.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},r.a.createElement("div",{className:"entity-list entity-list-expandable"},r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-key"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",name:"CurrentPassword",className:"form-control",autoComplete:"off",value:this.state.CurrentPassword,onChange:this.onChange}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Current Password"),r.a.createElement("div",{className:"text-danger"},this.state.Errors.CurrentPassword))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-key"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",name:"NewPassword",className:"form-control",autoComplete:"off",value:this.state.NewPassword,onChange:this.onChange}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"New Password"),r.a.createElement("div",{className:"text-danger"},this.state.Errors.NewPassword))),r.a.createElement("div",{className:"entity-list-item"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-key"})),r.a.createElement("div",{className:"item-content-secondary"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",name:"ConfirmPassword",className:"form-control",autoComplete:"off",value:this.state.ConfirmPassword,onChange:this.onChange}))),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Confirm Password"),r.a.createElement("div",{className:"text-danger"},this.state.Errors.ConfirmPassword))),r.a.createElement("div",{className:"entity-list-item active"},r.a.createElement("div",{className:"item-icon"},r.a.createElement("span",{className:"fas fa-save"})),r.a.createElement("div",{className:"item-content-primary"},r.a.createElement("div",{className:"content-text-primary"},"Save Changes?"),r.a.createElement("div",{className:"content-text-secondary"},"This cannot be undone.")),r.a.createElement("div",{className:"item-content-expanded"},r.a.createElement("input",{type:"submit",value:"Save",className:"btn btn-primary",disabled:!this.state.ValidForm}))))),r.a.createElement("div",{style:{width:"100%",height:"2px",backgroundColor:"#008575"}}),this.state.Preloader)}}]),a}(n.Component),On=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("section",null,r.a.createElement(ua,{Heading:"SETTINGS"}),r.a.createElement(Nn,{ref:"GeneralSettings",OnSettingsSaved:function(){e.refs.GeneralSettings.componentDidMount()}}),r.a.createElement(xn,{ref:"UsernameAndEmailSettings",OnSettingsSaved:function(){e.refs.UsernameAndEmailSettings.componentDidMount()}}),r.a.createElement(Cn,{ref:"PasswordSettings",OnSettingsSaved:function(){e.refs.PasswordSettings.forceUpdate()}}))}}]),a}(n.Component),Pn=function(e){function a(e){var t;return Object(c.a)(this,a),(t=Object(o.a)(this,Object(m.a)(a).call(this,e))).onCloseNavigation=function(){t.setState({Left:-400})},t.state={Left:-400},t.onCloseNavigation=t.onCloseNavigation.bind(Object(E.a)(t)),t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this;return localStorage.Token?r.a.createElement("section",null,r.a.createElement("div",{className:"sidenav",style:{left:"".concat(this.state.Left,"px")}},r.a.createElement("a",{className:"closebtn",onClick:this.onCloseNavigation},"\xd7"),r.a.createElement("div",{class:"entity-list",role:"tablist"},r.a.createElement("div",{class:"entity-list-item",role:"presentation"},r.a.createElement("a",{href:"#profile","aria-controls":"profile",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Profile")),r.a.createElement("div",{class:"entity-list-item",role:"presentation"},r.a.createElement("a",{href:"#jobs","aria-controls":"jobs",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Jobs")),r.a.createElement("div",{class:"entity-list-item",role:"presentation"},r.a.createElement("a",{href:"#payments","aria-controls":"payments",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Payments")),r.a.createElement("div",{class:"entity-list-item",role:"presentation"},r.a.createElement("a",{href:"#settings","aria-controls":"settings",role:"tab","data-toggle":"tab",onClick:this.onCloseNavigation},"Settings")))),r.a.createElement("div",{className:"tab-content"},r.a.createElement("div",{role:"tabpanel",className:"tab-pane active",id:"profile"},r.a.createElement(Vt,{ref:"Profile"})),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"jobs"},r.a.createElement(fn,null)),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"payments"}),r.a.createElement("div",{role:"tabpanel",className:"tab-pane",id:"settings"},r.a.createElement(On,null))),r.a.createElement("div",{className:"side-nav-btn",onClick:function(){e.setState({Left:0})}},r.a.createElement("div",{className:"fas fa-bars",style:{fontSize:"x-large"}}))):r.a.createElement(p.a,{to:"/login"})}}]),a}(n.Component),kn=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("a",{id:"up",href:"#top",className:"back-to-top",style:{position:"fixed",right:"20px",bottom:"20px"}},r.a.createElement("i",{className:"glyph glyph-up",style:{color:"#008575"}}),r.a.createElement("span",{className:"sr-only"},"Back to top"))}}]),a}(n.Component),Sn=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",{className:"border-top footer theme-default color-bg-light-neutral-high text-light"},r.a.createElement("div",{className:"container"},"\xa9 ",(new Date).getFullYear()," - Core Infinite - ",r.a.createElement("a",{"asp-area":"","asp-controller":"Home","asp-action":"Privacy"},"Privacy")))}}]),a}(n.Component),wn=function(e){function a(){return Object(c.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(u.a,{basename:"/"},r.a.createElement("div",{className:"App"},r.a.createElement(N,null),r.a.createElement(p.b,{exact:!0,path:"/",component:x}),r.a.createElement(p.b,{exact:!0,path:"/register",component:He}),r.a.createElement(p.b,{exact:!0,path:"/emailConfirmation",component:Ye}),r.a.createElement(p.b,{exact:!0,path:"/setupAccount",component:ze}),r.a.createElement(p.b,{exact:!0,path:"/congratulations",component:Ke}),r.a.createElement(p.b,{exact:!0,path:"/login",component:Qe}),r.a.createElement(p.b,{exact:!0,path:"/drivers",component:Ot}),r.a.createElement(p.b,{exact:!0,path:"/traders",component:Pn}),r.a.createElement(kn,null),r.a.createElement(Sn,null)))}}]),a}(n.Component);l.a.render(r.a.createElement(wn,null),document.getElementById("root"))},8:function(e,a){e.exports={APP_NAME:"Naqel",USER_TOKEN:"userToken",USER_NOT_FOUND:"Username not found.",INVALID_PASSWORD:"Invalid password.",USERNAME_OR_EMAIL_TAKEN:"Username or email is already taken.",NAQEL_SERVER:"https://naqel-server.azurewebsites.net/",IMAGE_UPLOADER:"https://us-central1-naqel-transport-jobs.cloudfunctions.net/uploadImage"}}},[[174,1,2]]]);
//# sourceMappingURL=main.1dad5893.chunk.js.map